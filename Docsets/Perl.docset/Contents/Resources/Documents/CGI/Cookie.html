<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>CGI::Cookie - perldoc.perl.org</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="../static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="../static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page" style="width:  731px">
      
      <div id="header" style="display: none">
	<div id="homepage_link">
	  <a href="../index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column" style="display: none">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">History / Changes</a>
                <li><a href="../index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Special Variables</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="../index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="../preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column" style="margin-left: 0px; margin-right: 0px">
          <div id="content_header" style="display: none">
            <div id="title_bar">
              <div id="page_name">
                <h1>CGI::Cookie</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 14.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="../search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="../index.html">Home</a> &gt;
    
      
        <a href="../index-modules-C.html">Core modules (C)</a> &gt;
      
    
    CGI::Cookie
  

            </div>
          </div>
          <div id="content_body" style="font-size:100%">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>CGI::Cookie</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#USING-CGI%3a%3aCookie">USING CGI::Cookie</a><ul><li><a href="#Creating-New-Cookies">Creating New Cookies</a><li><a href="#Sending-the-Cookie-to-the-Browser">Sending the Cookie to the Browser</a><li><a href="#Recovering-Previous-Cookies">Recovering Previous Cookies</a><li><a href="#Manipulating-Cookies">Manipulating Cookies</a></ul><li><a href="#AUTHOR-INFORMATION">AUTHOR INFORMATION</a><li><a href="#BUGS">BUGS</a><li><a href="#SEE-ALSO">SEE ALSO</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>CGI::Cookie - Interface to HTTP Cookies</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim"><ol><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">CGI</span> <span class="q">qw/:standard/</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/use.html">use</a> <span class="w">CGI::Cookie</span><span class="sc">;</span></li><li></li><li>    <span class="c"># Create new cookies and send them</span></li><li>    <span class="i">$cookie1</span> = <span class="w">CGI::Cookie</span><span class="w">-&gt;new</span><span class="s">(</span>-<span class="w">name</span><span class="cm">=&gt;</span><span class="q">&#39;ID&#39;</span><span class="cm">,</span>-<span class="w">value</span><span class="cm">=&gt;</span><span class="n">123456</span><span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">$cookie2</span> = <span class="w">CGI::Cookie</span><span class="w">-&gt;new</span><span class="s">(</span>-<span class="w">name</span><span class="cm">=&gt;</span><span class="q">&#39;preferences&#39;</span><span class="cm">,</span></li><li>                               -<span class="w">value</span><span class="cm">=&gt;</span><span class="s">{</span> <span class="w">font</span> <span class="cm">=&gt;</span> <span class="w">Helvetica</span><span class="cm">,</span></li><li>                                         <span class="w">size</span> <span class="cm">=&gt;</span> <span class="n">12</span> <span class="s">}</span> </li><li>                               <span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="../functions/print.html">print</a> <span class="i">header</span><span class="s">(</span>-<span class="w">cookie</span><span class="cm">=&gt;</span><span class="s">[</span><span class="i">$cookie1</span><span class="cm">,</span><span class="i">$cookie2</span><span class="s">]</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <span class="c"># fetch existing cookies</span></li><li>    <span class="i">%cookies</span> = <span class="w">CGI::Cookie</span><span class="w">-&gt;fetch</span><span class="sc">;</span></li><li>    <span class="i">$id</span> = <span class="i">$cookies</span>{<span class="q">&#39;ID&#39;</span>}<span class="i">-&gt;value</span><span class="sc">;</span></li><li></li><li>    <span class="c"># create cookies returned from an external source</span></li><li>    <span class="i">%cookies</span> = <span class="w">CGI::Cookie</span><span class="w">-&gt;parse</span><span class="s">(</span><span class="i">$ENV</span>{<span class="w">COOKIE</span>}<span class="s">)</span><span class="sc">;</span></li></ol></pre><a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>CGI::Cookie is an interface to HTTP/1.1 cookies, an
innovation that allows Web servers to store persistent information on
the browser's side of the connection.  Although CGI::Cookie is
intended to be used in conjunction with CGI.pm (and is in fact used by
it internally), you can use this module independently.</p>
<p>For full information on cookies see</p>
<pre class="verbatim"><ol><li>	<span class="j">http:</span><span class="q">//</span><span class="w">tools</span>.<span class="w">ietf</span>.<span class="w">org</span>/<span class="w">html</span>/<span class="w">rfc2109</span></li><li>	<span class="w">http</span><span class="co">:</span><span class="q">//</span><span class="w">tools</span>.<span class="w">ietf</span>.<span class="w">org</span>/<span class="w">html</span>/<span class="w">rfc2965</span></li><li>	<span class="w">http</span><span class="co">:</span><span class="q">//</span><span class="w">tools</span>.<span class="w">ietf</span>.<span class="w">org</span>/<span class="w">html</span>/<span class="w">draft</span>-<span class="w">ietf</span>-<span class="w">httpstate</span>-<span class="w">cookie</span></li></ol></pre><a name="USING-CGI%3a%3aCookie"></a><h1>USING CGI::Cookie</h1>
<p>CGI::Cookie is object oriented.  Each cookie object has a name and a
value.  The name is any scalar value.  The value is any scalar or
array value (associative arrays are also allowed).  Cookies also have
several optional attributes, including:</p>
<ul>
<li><a name="*1.-expiration-date*"></a><b><b>1. expiration date</b></b>
<p>The expiration date tells the browser how long to hang on to the
cookie.  If the cookie specifies an expiration date in the future, the
browser will store the cookie information in a disk file and return it
to the server every time the user reconnects (until the expiration
date is reached).  If the cookie species an expiration date in the
past, the browser will remove the cookie from the disk file.  If the
expiration date is not specified, the cookie will persist only until
the user quits the browser.</p>
</li>
<li><a name="*2.-domain*"></a><b><b>2. domain</b></b>
<p>This is a partial or complete domain name for which the cookie is 
valid.  The browser will return the cookie to any host that matches
the partial domain name.  For example, if you specify a domain name
of ".capricorn.com", then the browser will return the cookie to
Web servers running on any of the machines "www.capricorn.com", 
"ftp.capricorn.com", "feckless.capricorn.com", etc.  Domain names
must contain at least two periods to prevent attempts to match
on top level domains like ".edu".  If no domain is specified, then
the browser will only return the cookie to servers on the host the
cookie originated from.</p>
</li>
<li><a name="*3.-path*"></a><b><b>3. path</b></b>
<p>If you provide a cookie path attribute, the browser will check it
against your script's URL before returning the cookie.  For example,
if you specify the path "/cgi-bin", then the cookie will be returned
to each of the scripts "/cgi-bin/tally.pl", "/cgi-bin/order.pl", and
"/cgi-bin/customer_service/complain.pl", but not to the script
"/cgi-private/site_admin.pl".  By default, the path is set to "/", so
that all scripts at your site will receive the cookie.</p>
</li>
<li><a name="*4.-secure-flag*"></a><b><b>4. secure flag</b></b>
<p>If the "secure" attribute is set, the cookie will only be sent to your
script if the CGI request is occurring on a secure channel, such as SSL.</p>
</li>
<li><a name="*5.-httponly-flag*"></a><b><b>5. httponly flag</b></b>
<p>If the "httponly" attribute is set, the cookie will only be accessible
through HTTP Requests. This cookie will be inaccessible via JavaScript
(to prevent XSS attacks).</p>
<p>This feature is only supported by recent browsers like Internet Explorer
6 Service Pack 1, Firefox 3.0 and Opera 9.5 (and later of course).</p>
<p>See these URLs for more information:</p>
<pre class="verbatim"><ol><li>	<span class="j">http:</span><span class="q">//msdn</span>.<span class="w">microsoft</span>.<span class="w">com</span>/<span class="w">en</span>-<span class="w">us</span>/<span class="w">library</span>/<span class="w">ms533046</span>.<span class="w">aspx</span></li><li>	<span class="w">http</span><span class="co">:</span><span class="q">//</span><span class="w">www</span>.<span class="w">owasp</span>.<span class="w">org</span>/<a class="l_k" href="../functions/index.html">index</a>.<span class="w">php</span>/<span class="w">HTTPOnly</span><span class="c">#Browsers_Supporting_HTTPOnly</span></li></ol></pre></li>
</ul>
<a name="Creating-New-Cookies"></a><h2>Creating New Cookies</h2>
<pre class="verbatim"><ol><li>	<a class="l_k" href="../functions/my.html">my</a> <span class="i">$c</span> = <span class="w">CGI::Cookie</span><span class="w">-&gt;new</span><span class="s">(</span>-<span class="w">name</span>    <span class="cm">=&gt;</span>  <span class="q">&#39;foo&#39;</span><span class="cm">,</span></li><li>                             -<span class="w">value</span>   <span class="cm">=&gt;</span>  <span class="q">&#39;bar&#39;</span><span class="cm">,</span></li><li>                             -<span class="w">expires</span> <span class="cm">=&gt;</span>  <span class="q">&#39;+3M&#39;</span><span class="cm">,</span></li><li>                             -<span class="w">domain</span>  <span class="cm">=&gt;</span>  <span class="q">&#39;.capricorn.com&#39;</span><span class="cm">,</span></li><li>                             -<span class="w">path</span>    <span class="cm">=&gt;</span>  <span class="q">&#39;/cgi-bin/database&#39;</span><span class="cm">,</span></li><li>                             -<span class="w">secure</span>  <span class="cm">=&gt;</span>  <span class="n">1</span></li><li>	                    <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Create cookies from scratch with the <b>new</b> method.  The <b>-name</b> and
<b>-value</b> parameters are required.  The name must be a scalar value.
The value can be a scalar, an array reference, or a hash reference.
(At some point in the future cookies will support one of the Perl
object serialization protocols for full generality).</p>
<p><b>-expires</b> accepts any of the relative or absolute date formats
recognized by CGI.pm, for example "+3M" for three months in the
future.  See CGI.pm's documentation for details.</p>
<p><b>-max-age</b> accepts the same data formats as <b>-expires</b>, but sets a
relative value instead of an absolute like <b>-expires</b>. This is intended to be
more secure since a clock could be changed to fake an absolute time. In
practice, as of 2011, <code class="inline">-<span class="w">max</span>-<span class="w">age</span></code>
 still does not enjoy the widespread support
that <code class="inline">-<span class="w">expires</span></code>
 has. You can set both, and browsers that support
<code class="inline">-<span class="w">max</span>-<span class="w">age</span></code>
 should ignore the <code class="inline"><span class="w">Expires</span></code>
 header. The drawback
to this approach is the bit of bandwidth for sending an extra header on each cookie.</p>
<p><b>-domain</b> points to a domain name or to a fully qualified host name.
If not specified, the cookie will be returned only to the Web server
that created it.</p>
<p><b>-path</b> points to a partial URL on the current server.  The cookie
will be returned to all URLs beginning with the specified path.  If
not specified, it defaults to '/', which returns the cookie to all
pages at your site.</p>
<p><b>-secure</b> if set to a true value instructs the browser to return the
cookie only when a cryptographic protocol is in use.</p>
<p><b>-httponly</b> if set to a true value, the cookie will not be accessible
via JavaScript.</p>
<p>For compatibility with Apache::Cookie, you may optionally pass in
a mod_perl request object as the first argument to <code class="inline"><span class="i">new</span><span class="s">(</span><span class="s">)</span></code>
. It will
simply be ignored:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$c</span> = <span class="w">CGI::Cookie</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">$r</span><span class="cm">,</span></li><li>                          -<span class="w">name</span>    <span class="cm">=&gt;</span>  <span class="q">&#39;foo&#39;</span><span class="cm">,</span></li><li>                          -<span class="w">value</span>   <span class="cm">=&gt;</span>  <span class="s">[</span><span class="q">&#39;bar&#39;</span><span class="cm">,</span><span class="q">&#39;baz&#39;</span><span class="s">]</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><a name="Sending-the-Cookie-to-the-Browser"></a><h2>Sending the Cookie to the Browser</h2>
<p>The simplest way to send a cookie to the browser is by calling the bake()
method:</p>
<pre class="verbatim"><ol><li>  <span class="i">$c</span><span class="i">-&gt;bake</span><span class="sc">;</span></li></ol></pre><p>This will print the Set-Cookie HTTP header to STDOUT using CGI.pm. CGI.pm
will be loaded for this purpose if it is not already. Otherwise CGI.pm is not
required or used by this module.</p>
<p>Under mod_perl, pass in an Apache request object:</p>
<pre class="verbatim"><ol><li>  <span class="i">$c</span><span class="i">-&gt;bake</span><span class="s">(</span><span class="i">$r</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If you want to set the cookie yourself, Within a CGI script you can send
a cookie to the browser by creating one or more Set-Cookie: fields in the
HTTP header.  Here is a typical sequence:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$c</span> = <span class="w">CGI::Cookie</span><span class="w">-&gt;new</span><span class="s">(</span>-<span class="w">name</span>    <span class="cm">=&gt;</span>  <span class="q">&#39;foo&#39;</span><span class="cm">,</span></li><li>                          -<span class="w">value</span>   <span class="cm">=&gt;</span>  <span class="s">[</span><span class="q">&#39;bar&#39;</span><span class="cm">,</span><span class="q">&#39;baz&#39;</span><span class="s">]</span><span class="cm">,</span></li><li>                          -<span class="w">expires</span> <span class="cm">=&gt;</span>  <span class="q">&#39;+3M&#39;</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;Set-Cookie: $c\n&quot;</span><span class="sc">;</span></li><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;Content-Type: text/html\n\n&quot;</span><span class="sc">;</span></li></ol></pre><p>To send more than one cookie, create several Set-Cookie: fields.</p>
<p>If you are using CGI.pm, you send cookies by providing a -cookie
argument to the header() method:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="i">header</span><span class="s">(</span>-<span class="w">cookie</span><span class="cm">=&gt;</span><span class="i">$c</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Mod_perl users can set cookies using the request object's header_out()
method:</p>
<pre class="verbatim"><ol><li>  <span class="i">$r</span><span class="i">-&gt;headers_out</span><span class="i">-&gt;set</span><span class="s">(</span><span class="q">&#39;Set-Cookie&#39;</span> <span class="cm">=&gt;</span> <span class="i">$c</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>Internally, Cookie overloads the "" operator to call its as_string()
method when incorporated into the HTTP header.  as_string() turns the
Cookie's internal representation into an RFC-compliant text
representation.  You may call as_string() yourself if you prefer:</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;Set-Cookie: &quot;</span><span class="cm">,</span><span class="i">$c</span><span class="i">-&gt;as_string</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span></li></ol></pre><a name="Recovering-Previous-Cookies"></a><h2>Recovering Previous Cookies</h2>
<pre class="verbatim"><ol><li>	<span class="i">%cookies</span> = <span class="w">CGI::Cookie</span><span class="w">-&gt;fetch</span><span class="sc">;</span></li></ol></pre><p><b>fetch</b> returns an associative array consisting of all cookies
returned by the browser.  The keys of the array are the cookie names.  You
can iterate through the cookies this way:</p>
<pre class="verbatim"><ol><li>	<span class="i">%cookies</span> = <span class="w">CGI::Cookie</span><span class="w">-&gt;fetch</span><span class="sc">;</span></li><li>	for <span class="s">(</span><a class="l_k" href="../functions/keys.html">keys</a> <span class="i">%cookies</span><span class="s">)</span> <span class="s">{</span></li><li>	   <span class="i">do_something</span><span class="s">(</span><span class="i">$cookies</span>{<span class="i">$_</span>}<span class="s">)</span><span class="sc">;</span></li><li>        <span class="s">}</span></li></ol></pre><p>In a scalar context, fetch() returns a hash reference, which may be more
efficient if you are manipulating multiple cookies.</p>
<p>CGI.pm uses the URL escaping methods to save and restore reserved characters
in its cookies.  If you are trying to retrieve a cookie set by a foreign server,
this escaping method may trip you up.  Use raw_fetch() instead, which has the
same semantics as fetch(), but performs no unescaping.</p>
<p>You may also retrieve cookies that were stored in some external
form using the parse() class method:</p>
<pre class="verbatim"><ol><li>       <span class="i">$COOKIES</span> = <span class="q">`cat /usr/tmp/Cookie_stash`</span><span class="sc">;</span></li><li>       <span class="i">%cookies</span> = <span class="w">CGI::Cookie</span><span class="w">-&gt;parse</span><span class="s">(</span><span class="i">$COOKIES</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If you are in a mod_perl environment, you can save some overhead by
passing the request object to fetch() like this:</p>
<pre class="verbatim"><ol><li>   <span class="w">CGI::Cookie</span><span class="w">-&gt;fetch</span><span class="s">(</span><span class="i">$r</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If the value passed to parse() is undefined, an empty array will returned in list
contact, and an empty hashref will be returned in scalar context.</p>
<a name="Manipulating-Cookies"></a><h2>Manipulating Cookies</h2>
<p>Cookie objects have a series of accessor methods to get and set cookie
attributes.  Each accessor has a similar syntax.  Called without
arguments, the accessor returns the current value of the attribute.
Called with an argument, the accessor changes the attribute and
returns its new value.</p>
<ul>
<li><a name="*name()*"></a><b><b>name()</b></b>
<p>Get or set the cookie's name.  Example:</p>
<pre class="verbatim"><ol><li>	<span class="i">$name</span> = <span class="i">$c</span><span class="i">-&gt;name</span><span class="sc">;</span></li><li>	<span class="i">$new_name</span> = <span class="i">$c</span><span class="i">-&gt;name</span><span class="s">(</span><span class="q">&#39;fred&#39;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre></li>
<li><a name="*value()*"></a><b><b>value()</b></b>
<p>Get or set the cookie's value.  Example:</p>
<pre class="verbatim"><ol><li>	<span class="i">$value</span> = <span class="i">$c</span><span class="i">-&gt;value</span><span class="sc">;</span></li><li>	<span class="i">@new_value</span> = <span class="i">$c</span><span class="i">-&gt;value</span><span class="s">(</span><span class="s">[</span><span class="q">&#39;a&#39;</span><span class="cm">,</span><span class="q">&#39;b&#39;</span><span class="cm">,</span><span class="q">&#39;c&#39;</span><span class="cm">,</span><span class="q">&#39;d&#39;</span><span class="s">]</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p><b>value()</b> is context sensitive.  In a list context it will return
the current value of the cookie as an array.  In a scalar context it
will return the <b>first</b> value of a multivalued cookie.</p>
</li>
<li><a name="*domain()*"></a><b><b>domain()</b></b>
<p>Get or set the cookie's domain.</p>
</li>
<li><a name="*path()*"></a><b><b>path()</b></b>
<p>Get or set the cookie's path.</p>
</li>
<li><a name="*expires()*"></a><b><b>expires()</b></b>
<p>Get or set the cookie's expiration time.</p>
</li>
</ul>
<a name="AUTHOR-INFORMATION"></a><h1>AUTHOR INFORMATION</h1>
<p>Copyright 1997-1998, Lincoln D. Stein.  All rights reserved.</p>
<p>This library is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.</p>
<p>Address bug reports and comments to: lstein@cshl.org</p>
<a name="BUGS"></a><h1>BUGS</h1>
<p>This section intentionally left blank.</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<p><a href="../CGI/Carp.html">CGI::Carp</a>, <a href="../CGI.html">CGI</a></p>
<p><a href="http://search.cpan.org/perldoc/http:#%2fwww.ietf.org%2frfc%2frfc2109.txt">RFC 2109</a>, <a href="http://search.cpan.org/perldoc/http:#%2fwww.ietf.org%2frfc%2frfc2965.txt">RFC 2695</a></p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><li><a href="#USING-CGI%3a%3aCookie">USING CGI::Cookie</a><ul><li><a href="#Creating-New-Cookies">Creating New Cookies</a><li><a href="#Sending-the-Cookie-to-the-Browser">Sending the Cookie to the Browser</a><li><a href="#Recovering-Previous-Cookies">Recovering Previous Cookies</a><li><a href="#Manipulating-Cookies">Manipulating Cookies</a></ul><li><a href="#AUTHOR-INFORMATION">AUTHOR INFORMATION</a><li><a href="#BUGS">BUGS</a><li><a href="#SEE-ALSO">SEE ALSO</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer" style="display: none">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="http://perl.jonallen.info">Jon Allen (JJ)</a><br>
	      See the <a href="http://perl.jonallen.info/projects/perldoc">project page</a> for more details
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="../index-modules-A.html">Modules</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="../index-licence.html">License</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="../static/exploreperl.js"></script>
      <script language="JavaScript" src="../static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(1);
  perldoc.pageName    = 'CGI::Cookie';
  perldoc.pageAddress = 'CGI/Cookie.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
