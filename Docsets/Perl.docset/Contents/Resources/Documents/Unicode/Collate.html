<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Unicode::Collate - perldoc.perl.org</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="../static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="../static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page" style="width:  731px">
      
      <div id="header" style="display: none">
	<div id="homepage_link">
	  <a href="../index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column" style="display: none">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">History / Changes</a>
                <li><a href="../index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Special Variables</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="../index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="../index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="../index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="../preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column" style="margin-left: 0px; margin-right: 0px">
          <div id="content_header" style="display: none">
            <div id="title_bar">
              <div id="page_name">
                <h1>Unicode::Collate</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 14.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="../search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="../index.html">Home</a> &gt;
    
      
        <a href="../index-modules-U.html">Core modules (U)</a> &gt;
      
    
    Unicode::Collate
  

            </div>
          </div>
          <div id="content_body" style="font-size:100%">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>Unicode::Collate</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Constructor-and-Tailoring">Constructor and Tailoring</a><li><a href="#Methods-for-Collation">Methods for Collation</a><li><a href="#Methods-for-Searching">Methods for Searching</a><li><a href="#Other-Methods">Other Methods</a></ul><li><a href="#EXPORT">EXPORT</a><li><a href="#INSTALL">INSTALL</a><li><a href="#CAVEATS">CAVEATS</a><li><a href="#AUTHOR%2c-COPYRIGHT-AND-LICENSE">AUTHOR, COPYRIGHT AND LICENSE</a><li><a href="#SEE-ALSO">SEE ALSO</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>Unicode::Collate - Unicode Collation Algorithm</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/use.html">use</a> <span class="w">Unicode::Collate</span><span class="sc">;</span></li><li></li><li>  <span class="c">#construct</span></li><li>  <span class="i">$Collator</span> = <span class="w">Unicode::Collate</span><span class="w">-&gt;new</span><span class="s">(</span><span class="i">%tailoring</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>  <span class="c">#sort</span></li><li>  <span class="i">@sorted</span> = <span class="i">$Collator</span><span class="i">-&gt;sort</span><span class="s">(</span><span class="i">@not_sorted</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>  <span class="c">#compare</span></li><li>  <span class="i">$result</span> = <span class="i">$Collator</span><span class="i">-&gt;cmp</span><span class="s">(</span><span class="i">$a</span><span class="cm">,</span> <span class="i">$b</span><span class="s">)</span><span class="sc">;</span> <span class="c"># returns 1, 0, or -1.</span></li></ol></pre><p><b>Note:</b> Strings in <code class="inline"><span class="i">@not_sorted</span></code>
, <code class="inline"><span class="i">$a</span></code>
 and <code class="inline"><span class="i">$b</span></code>
 are interpreted
according to Perl's Unicode support. See <a href="../perlunicode.html">perlunicode</a>,
<a href="../perluniintro.html">perluniintro</a>, <a href="../perlunitut.html">perlunitut</a>, <a href="../perlunifaq.html">perlunifaq</a>, <a href="../utf8.html">utf8</a>.
Otherwise you can use <code class="inline"><span class="w">preprocess</span></code>
 or should decode them before.</p>
<a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<p>This module is an implementation of Unicode Technical Standard #10
(a.k.a. UTS #10) - Unicode Collation Algorithm (a.k.a. UCA).</p>
<a name="Constructor-and-Tailoring"></a><h2>Constructor and Tailoring</h2>
<p>The <code class="inline"><span class="w">new</span></code>
 method returns a collator object. If new() is called
with no parameters, the collator should do the default collation.</p>
<pre class="verbatim"><ol><li>   <span class="i">$Collator</span> = <span class="w">Unicode::Collate</span><span class="w">-&gt;new</span><span class="s">(</span></li><li>      <span class="w">UCA_Version</span> <span class="cm">=&gt;</span> <span class="i">$UCA_Version</span><span class="cm">,</span></li><li>      <span class="w">alternate</span> <span class="cm">=&gt;</span> <span class="i">$alternate</span><span class="cm">,</span> <span class="c"># alias for &#39;variable&#39;</span></li><li>      <span class="w">backwards</span> <span class="cm">=&gt;</span> <span class="i">$levelNumber</span><span class="cm">,</span> <span class="c"># or \@levelNumbers</span></li><li>      <span class="w">entry</span> <span class="cm">=&gt;</span> <span class="i">$element</span><span class="cm">,</span></li><li>      <span class="w">hangul_terminator</span> <span class="cm">=&gt;</span> <span class="i">$term_primary_weight</span><span class="cm">,</span></li><li>      <span class="w">ignoreName</span> <span class="cm">=&gt;</span> <span class="q">qr/$ignoreName/</span><span class="cm">,</span></li><li>      <span class="w">ignoreChar</span> <span class="cm">=&gt;</span> <span class="q">qr/$ignoreChar/</span><span class="cm">,</span></li><li>      <span class="w">katakana_before_hiragana</span> <span class="cm">=&gt;</span> <span class="i">$bool</span><span class="cm">,</span></li><li>      <span class="w">level</span> <span class="cm">=&gt;</span> <span class="i">$collationLevel</span><span class="cm">,</span></li><li>      <span class="w">normalization</span>  <span class="cm">=&gt;</span> <span class="i">$normalization_form</span><span class="cm">,</span></li><li>      <span class="w">overrideCJK</span> <span class="cm">=&gt;</span> \<span class="i">&amp;overrideCJK</span><span class="cm">,</span></li><li>      <span class="w">overrideHangul</span> <span class="cm">=&gt;</span> \<span class="i">&amp;overrideHangul</span><span class="cm">,</span></li><li>      <span class="w">preprocess</span> <span class="cm">=&gt;</span> \<span class="i">&amp;preprocess</span><span class="cm">,</span></li><li>      <span class="w">rearrange</span> <span class="cm">=&gt;</span> \<span class="i">@charList</span><span class="cm">,</span></li><li>      <span class="w">suppress</span> <span class="cm">=&gt;</span> \<span class="i">@charList</span><span class="cm">,</span></li><li>      <span class="w">table</span> <span class="cm">=&gt;</span> <span class="i">$filename</span><span class="cm">,</span></li><li>      <span class="w">undefName</span> <span class="cm">=&gt;</span> <span class="q">qr/$undefName/</span><span class="cm">,</span></li><li>      <span class="w">undefChar</span> <span class="cm">=&gt;</span> <span class="q">qr/$undefChar/</span><span class="cm">,</span></li><li>      <span class="w">upper_before_lower</span> <span class="cm">=&gt;</span> <span class="i">$bool</span><span class="cm">,</span></li><li>      <span class="w">variable</span> <span class="cm">=&gt;</span> <span class="i">$variable</span><span class="cm">,</span></li><li>   <span class="s">)</span><span class="sc">;</span></li></ol></pre><ul>
<li><a name="UCA_Version"></a><b>UCA_Version</b>
<p>If the revision (previously "tracking version") number of UCA is given,
behavior of that revision is emulated on collating.
If omitted, the return value of <code class="inline"><span class="i">UCA_Version</span><span class="s">(</span><span class="s">)</span></code>
 is used.</p>
<p>The following revisions are supported.  The default is 22.</p>
<pre class="verbatim"><ol><li>     <span class="w">UCA</span>       <span class="w">Unicode</span> <span class="w">Standard</span>         <span class="w">DUCET</span> <span class="s">(</span><span class="i">@version</span><span class="s">)</span></li><li>   -------------------------------------------------------</li><li>      <span class="n">8</span>              <span class="n">3.1</span>                <span class="v">3.0.1</span> <span class="s">(</span><span class="v">3.0.1</span><span class="w">d9</span><span class="s">)</span></li><li>      <span class="n">9</span>     <span class="n">3.1</span> <span class="w">with</span> <span class="w">Corrigendum</span> <span class="n">3</span>      <span class="v">3.1.1</span> <span class="s">(</span><span class="v">3.1.1</span><span class="s">)</span></li><li>     <span class="n">11</span>              <span class="n">4.0</span>                <span class="v">4.0.0</span> <span class="s">(</span><span class="v">4.0.0</span><span class="s">)</span></li><li>     <span class="n">14</span>             <span class="v">4.1.0</span>               <span class="v">4.1.0</span> <span class="s">(</span><span class="v">4.1.0</span><span class="s">)</span></li><li>     <span class="n">16</span>              <span class="n">5.0</span>                <span class="v">5.0.0</span> <span class="s">(</span><span class="v">5.0.0</span><span class="s">)</span></li><li>     <span class="n">18</span>             <span class="v">5.1.0</span>               <span class="v">5.1.0</span> <span class="s">(</span><span class="v">5.1.0</span><span class="s">)</span></li><li>     <span class="n">20</span>             <span class="v">5.2.0</span>               <span class="v">5.2.0</span> <span class="s">(</span><span class="v">5.2.0</span><span class="s">)</span></li><li>     <span class="n">22</span>             <span class="v">6.0.0</span>               <span class="v">6.0.0</span> <span class="s">(</span><span class="v">6.0.0</span><span class="s">)</span></li></ol></pre><p>* Noncharacters (e.g. U+FFFF) are not ignored, and can be overridden
since <code class="inline"><span class="w">UCA_Version</span></code>
 22.</p>
<p>* Fully ignorable characters were ignored, and would not interrupt
contractions with <code class="inline"><span class="w">UCA_Version</span></code>
 9 and 11.</p>
<p>* Treatment of ignorables after variables and some behaviors
were changed at <code class="inline"><span class="w">UCA_Version</span></code>
 9.</p>
<p>* Characters regarded as CJK unified ideographs (cf. <code class="inline"><span class="w">overrideCJK</span></code>
)
depend on <code class="inline"><span class="w">UCA_Version</span></code>
.</p>
<p>* Many hangul jamo are assigned at <code class="inline"><span class="w">UCA_Version</span></code>
 20, that will affect
<code class="inline"><span class="w">hangul_terminator</span></code>
.</p>
</li>
<li><a name="alternate"></a><b>alternate</b>
<p>-- see 3.2.2 Alternate Weighting, version 8 of UTS #10</p>
<p>For backward compatibility, <code class="inline"><span class="w">alternate</span></code>
 (old name) can be used
as an alias for <code class="inline"><span class="w">variable</span></code>
.</p>
</li>
<li><a name="backwards"></a><b>backwards</b>
<p>-- see 3.1.2 French Accents, UTS #10.</p>
<pre class="verbatim"><ol><li>     <span class="w">backwards</span> <span class="cm">=&gt;</span> <span class="i">$levelNumber</span> or \<span class="i">@levelNumbers</span></li></ol></pre><p>Weights in reverse order; ex. level 2 (diacritic ordering) in French.
If omitted (or <code class="inline"><span class="i">$levelNumber</span></code>
 is <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> or <code class="inline">\<span class="i">@levelNumbers</span></code>
 is <code class="inline"><span class="s">[</span><span class="s">]</span></code>
),
forwards at all the levels.</p>
</li>
<li><a name="entry"></a><b>entry</b>
<p>-- see 3.1 Linguistic Features; 3.2.1 File Format, UTS #10.</p>
<p>If the same character (or a sequence of characters) exists
in the collation element table through <code class="inline"><span class="w">table</span></code>
,
mapping to collation elements is overridden.
If it does not exist, the mapping is defined additionally.</p>
<pre class="verbatim"><ol><li>    <span class="w">entry</span> <span class="cm">=&gt;</span> <span class="h">&lt;&lt;&#39;ENTRY&#39;</span><span class="cm">,</span> <span class="c"># for DUCET v4.0.0 (allkeys-4.0.0.txt)</span></li><li><span class="hh">0063 0068 ; [.0E6A.0020.0002.0063] # ch</span></li><li><span class="hh">0043 0068 ; [.0E6A.0020.0007.0043] # Ch</span></li><li><span class="hh">0043 0048 ; [.0E6A.0020.0008.0043] # CH</span></li><li><span class="hh">006C 006C ; [.0F4C.0020.0002.006C] # ll</span></li><li><span class="hh">004C 006C ; [.0F4C.0020.0007.004C] # Ll</span></li><li><span class="hh">004C 004C ; [.0F4C.0020.0008.004C] # LL</span></li><li><span class="hh">00F1      ; [.0F7B.0020.0002.00F1] # n-tilde</span></li><li><span class="hh">006E 0303 ; [.0F7B.0020.0002.00F1] # n-tilde</span></li><li><span class="hh">00D1      ; [.0F7B.0020.0008.00D1] # N-tilde</span></li><li><span class="hh">004E 0303 ; [.0F7B.0020.0008.00D1] # N-tilde</span></li><li><span class="h">ENTRY</span></li><li></li><li>    <span class="w">entry</span> <span class="cm">=&gt;</span> <span class="h">&lt;&lt;&#39;ENTRY&#39;</span><span class="cm">,</span> <span class="c"># for DUCET v4.0.0 (allkeys-4.0.0.txt)</span></li><li><span class="hh">00E6 ; [.0E33.0020.0002.00E6][.0E8B.0020.0002.00E6] # ae ligature as &lt;a&gt;&lt;e&gt;</span></li><li><span class="hh">00C6 ; [.0E33.0020.0008.00C6][.0E8B.0020.0008.00C6] # AE ligature as &lt;A&gt;&lt;E&gt;</span></li><li><span class="h">ENTRY</span></li></ol></pre><p><b>NOTE:</b> The code point in the UCA file format (before <code class="inline"><span class="q">&#39;;&#39;</span></code>
)
<b>must</b> be a Unicode code point (defined as hexadecimal),
but not a native code point.
So <code class="inline"><span class="n">0063</span></code>
 must always denote <code class="inline"><span class="w">U</span>+<span class="n">0063</span></code>
,
but not a character of <code class="inline"><span class="q">&quot;\x63&quot;</span></code>
.</p>
<p>Weighting may vary depending on collation element table.
So ensure the weights defined in <code class="inline"><span class="w">entry</span></code>
 will be consistent with
those in the collation element table loaded via <code class="inline"><span class="w">table</span></code>
.</p>
<p>In DUCET v4.0.0, primary weight of <code class="inline"><span class="w">C</span></code>
 is <code class="inline"><span class="n">0E60</span></code>

and that of <code class="inline"><span class="w">D</span></code>
 is <code class="inline"><span class="n">0E6D</span></code>
. So setting primary weight of <code class="inline"><span class="w">CH</span></code>
 to <code class="inline"><span class="n">0E6A</span></code>

(as a value between <code class="inline"><span class="n">0E60</span></code>
 and <code class="inline"><span class="n">0E6D</span></code>
)
makes ordering as <code class="inline"><span class="w">C</span> &lt; <span class="w">CH</span> &lt; <span class="w">D</span></code>
.
Exactly speaking DUCET already has some characters between <code class="inline"><span class="w">C</span></code>
 and <code class="inline"><span class="w">D</span></code>
:
<code class="inline"><span class="w">small</span> <span class="w">capital</span> <span class="w">C</span></code>
 (<code class="inline">U+1D04</code>) with primary weight <code class="inline"><span class="n">0E64</span></code>
,
<code class="inline"><span class="w">c</span>-<span class="w">hook</span>/<span class="w">C</span>-<span class="w">hook</span></code>
 (<code class="inline">U+0188/U+0187</code>) with <code class="inline"><span class="n">0E65</span></code>
,
and <code class="inline"><span class="w">c</span>-<span class="w">curl</span></code>
 (<code class="inline"><span class="w">U</span>+<span class="n">0255</span></code>
) with <code class="inline"><span class="n">0E69</span></code>
.
Then primary weight <code class="inline"><span class="n">0E6A</span></code>
 for <code class="inline"><span class="w">CH</span></code>
 makes <code class="inline"><span class="w">CH</span></code>

ordered between <code class="inline"><span class="w">c</span>-<span class="w">curl</span></code>
 and <code class="inline"><span class="w">D</span></code>
.</p>
</li>
<li><a name="hangul_terminator"></a><b>hangul_terminator</b>
<p>-- see 7.1.4 Trailing Weights, UTS #10.</p>
<p>If a true value is given (non-zero but should be positive),
it will be added as a terminator primary weight to the end of
every standard Hangul syllable. Secondary and any higher weights
for terminator are set to zero.
If the value is false or <code class="inline"><span class="w">hangul_terminator</span></code>
 key does not exist,
insertion of terminator weights will not be performed.</p>
<p>Boundaries of Hangul syllables are determined
according to conjoining Jamo behavior in <i>the Unicode Standard</i>
and <i>HangulSyllableType.txt</i>.</p>
<p><b>Implementation Note:</b>
(1) For expansion mapping (Unicode character mapped
to a sequence of collation elements), a terminator will not be added
between collation elements, even if Hangul syllable boundary exists there.
Addition of terminator is restricted to the next position
to the last collation element.</p>
<p>(2) Non-conjoining Hangul letters
(Compatibility Jamo, halfwidth Jamo, and enclosed letters) are not
automatically terminated with a terminator primary weight.
These characters may need terminator included in a collation element
table beforehand.</p>
</li>
<li><a name="ignoreChar"></a><b>ignoreChar</b>
</li>
<li><a name="ignoreName"></a><b>ignoreName</b>
<p>-- see 3.2.2 Variable Weighting, UTS #10.</p>
<p>Makes the entry in the table completely ignorable;
i.e. as if the weights were zero at all level.</p>
<p>Through <code class="inline"><span class="w">ignoreChar</span></code>
, any character matching <code class="inline"><a class="l_k" href="../functions/qr.html">qr/$ignoreChar/</a></code>
will be ignored. Through <code class="inline"><span class="w">ignoreName</span></code>
, any character whose name
(given in the <code class="inline"><span class="w">table</span></code>
 file as a comment) matches <code class="inline"><a class="l_k" href="../functions/qr.html">qr/$ignoreName/</a></code>
will be ignored.</p>
<p>E.g. when 'a' and 'e' are ignorable,
'element' is equal to 'lament' (or 'lmnt').</p>
</li>
<li><a name="katakana_before_hiragana"></a><b>katakana_before_hiragana</b>
<p>-- see 7.3.1 Tertiary Weight Table, UTS #10.</p>
<p>By default, hiragana is before katakana.
If the parameter is made true, this is reversed.</p>
<p><b>NOTE</b>: This parameter simplemindedly assumes that any hiragana/katakana
distinctions must occur in level 3, and their weights at level 3 must be
same as those mentioned in 7.3.1, UTS #10.
If you define your collation elements which violate this requirement,
this parameter does not work validly.</p>
</li>
<li><a name="level"></a><b>level</b>
<p>-- see 4.3 Form Sort Key, UTS #10.</p>
<p>Set the maximum level.
Any higher levels than the specified one are ignored.</p>
<pre class="verbatim"><ol><li>  Level 1: alphabetic ordering</li><li>  Level 2: diacritic ordering</li><li>  Level 3: case ordering</li><li>  Level 4: tie-breaking (e.g. in the case when variable is 'shifted')</li><li></li><li>  ex.level =&gt; 2,</li></ol></pre><p>If omitted, the maximum is the 4th.</p>
</li>
<li><a name="normalization"></a><b>normalization</b>
<p>-- see 4.1 Normalize, UTS #10.</p>
<p>If specified, strings are normalized before preparation of sort keys
(the normalization is executed after preprocess).</p>
<p>A form name <code class="inline"><span class="i">Unicode::Normalize::normalize</span><span class="s">(</span><span class="s">)</span></code>
 accepts will be applied
as <code class="inline"><span class="i">$normalization_form</span></code>
.
Acceptable names include <code class="inline"><span class="q">&#39;NFD&#39;</span></code>
, <code class="inline"><span class="q">&#39;NFC&#39;</span></code>
, <code class="inline"><span class="q">&#39;NFKD&#39;</span></code>
, and <code class="inline"><span class="q">&#39;NFKC&#39;</span></code>
.
See <code class="inline"><span class="i">Unicode::Normalize::normalize</span><span class="s">(</span><span class="s">)</span></code>
 for detail.
If omitted, <code class="inline"><span class="q">&#39;NFD&#39;</span></code>
 is used.</p>
<p><code class="inline"><span class="w">normalization</span></code>
 is performed after <code class="inline"><span class="w">preprocess</span></code>
 (if defined).</p>
<p>Furthermore, special values, <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> and <code class="inline"><span class="q">&quot;prenormalized&quot;</span></code>
, can be used,
though they are not concerned with <code class="inline"><span class="i">Unicode::Normalize::normalize</span><span class="s">(</span><span class="s">)</span></code>
.</p>
<p>If <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> (not a string <code class="inline"><span class="q">&quot;undef&quot;</span></code>
) is passed explicitly
as the value for this key,
any normalization is not carried out (this may make tailoring easier
if any normalization is not desired). Under <code class="inline"><span class="s">(</span><span class="w">normalization</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/undef.html">undef</a><span class="s">)</span></code>
,
only contiguous contractions are resolved;
e.g. even if <code class="inline"><span class="w">A</span>-<span class="w">ring</span></code>
 (and <code class="inline"><span class="w">A</span>-<span class="w">ring</span>-<span class="w">cedilla</span></code>
) is ordered after <code class="inline"><span class="w">Z</span></code>
,
<code class="inline"><span class="w">A</span>-<span class="w">cedilla</span>-<span class="w">ring</span></code>
 would be primary equal to <code class="inline"><span class="w">A</span></code>
.
In this point,
<code class="inline"><span class="s">(</span><span class="w">normalization</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/undef.html">undef</a><span class="cm">,</span> <span class="w">preprocess</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/sub.html">sub</a> <span class="s">{</span> <span class="i">NFD</span><span class="s">(</span><a class="l_k" href="../functions/shift.html">shift</a><span class="s">)</span> <span class="s">}</span><span class="s">)</span></code>

<b>is not</b> equivalent to <code class="inline"><span class="s">(</span><span class="w">normalization</span> <span class="cm">=&gt;</span> <span class="q">&#39;NFD&#39;</span><span class="s">)</span></code>
.</p>
<p>In the case of <code class="inline"><span class="s">(</span><span class="w">normalization</span> <span class="cm">=&gt;</span> <span class="q">&quot;prenormalized&quot;</span><span class="s">)</span></code>
,
any normalization is not performed, but
discontiguous contractions with combining characters are performed.
Therefore
<code class="inline"><span class="s">(</span><span class="w">normalization</span> <span class="cm">=&gt;</span> <span class="q">&#39;prenormalized&#39;</span><span class="cm">,</span> <span class="w">preprocess</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/sub.html">sub</a> <span class="s">{</span> <span class="i">NFD</span><span class="s">(</span><a class="l_k" href="../functions/shift.html">shift</a><span class="s">)</span> <span class="s">}</span><span class="s">)</span></code>

<b>is</b> equivalent to <code class="inline"><span class="s">(</span><span class="w">normalization</span> <span class="cm">=&gt;</span> <span class="q">&#39;NFD&#39;</span><span class="s">)</span></code>
.
If source strings are finely prenormalized,
<code class="inline"><span class="s">(</span><span class="w">normalization</span> <span class="cm">=&gt;</span> <span class="q">&#39;prenormalized&#39;</span><span class="s">)</span></code>
 may save time for normalization.</p>
<p>Except <code class="inline"><span class="s">(</span><span class="w">normalization</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/undef.html">undef</a><span class="s">)</span></code>
,
<b>Unicode::Normalize</b> is required (see also <b>CAVEAT</b>).</p>
</li>
<li><a name="overrideCJK"></a><b>overrideCJK</b>
<p>-- see 7.1 Derived Collation Elements, UTS #10.</p>
<p>By default, CJK unified ideographs are ordered in Unicode codepoint
order, but those in the CJK Unified Ideographs block are lesser than
those in the CJK Unified Ideographs Extension A etc.</p>
<pre class="verbatim"><ol><li>    <span class="w">In</span> <span class="w">the</span> <span class="w">CJK</span> <span class="w">Unified</span> <span class="w">Ideographs</span> <span class="w">block</span><span class="co">:</span></li><li>    <span class="w">U</span>+<span class="n">4E00</span>..<span class="w">U</span>+<span class="n">9</span><span class="w">FA5</span> if <span class="w">UCA_Version</span> <span class="w">is</span> <span class="n">8</span> <span class="w">to</span> <span class="n">11.</span></li><li>    <span class="w">U</span>+<span class="n">4E00</span>..<span class="w">U</span>+<span class="n">9</span><span class="w">FBB</span> if <span class="w">UCA_Version</span> <span class="w">is</span> <span class="n">14</span> <span class="w">to</span> <span class="n">16.</span></li><li>    <span class="w">U</span>+<span class="n">4E00</span>..<span class="w">U</span>+<span class="n">9</span><span class="w">FC3</span> if <span class="w">UCA_Version</span> <span class="w">is</span> <span class="n">18.</span></li><li>    <span class="w">U</span>+<span class="n">4E00</span>..<span class="w">U</span>+<span class="n">9</span><span class="w">FCB</span> if <span class="w">UCA_Version</span> <span class="w">is</span> <span class="n">20</span> or <span class="w">greater</span>.</li><li></li><li>    <span class="w">In</span> <span class="w">the</span> <span class="w">CJK</span> <span class="w">Unified</span> <span class="w">Ideographs</span> <span class="w">Extension</span> <span class="w">blocks</span><span class="co">:</span></li><li>    <span class="w">Ext</span>.<span class="w">A</span> <span class="s">(</span><span class="w">U</span>+<span class="n">3400</span>..<span class="w">U</span>+<span class="n">4</span><span class="w">DB5</span><span class="s">)</span> and <span class="w">Ext</span>.<span class="w">B</span> <span class="s">(</span><span class="w">U</span>+<span class="n">20000</span>..<span class="w">U</span>+<span class="n">2</span><span class="w">A6D6</span><span class="s">)</span> <span class="w">in</span> <span class="w">any</span> <span class="w">UCA_Version</span>.</li><li>    <span class="w">Ext</span>.<span class="w">C</span> <span class="s">(</span><span class="w">U</span>+<span class="n">2</span><span class="w">A700</span>..<span class="w">U</span>+<span class="n">2</span><span class="w">B734</span><span class="s">)</span> if <span class="w">UCA_Version</span> <span class="w">is</span> <span class="n">20</span> or <span class="w">greater</span>.</li><li>    <span class="w">Ext</span>.<span class="w">D</span> <span class="s">(</span><span class="w">U</span>+<span class="n">2</span><span class="w">B740</span>..<span class="w">U</span>+<span class="n">2</span><span class="w">B81D</span><span class="s">)</span> if <span class="w">UCA_Version</span> <span class="w">is</span> <span class="n">22</span> or <span class="w">greater</span>.</li></ol></pre><p>Through <code class="inline"><span class="w">overrideCJK</span></code>
, ordering of CJK unified ideographs (including
extensions) can be overridden.</p>
<p>ex. CJK unified ideographs in the JIS code point order.</p>
<pre class="verbatim"><ol><li>  <span class="w">overrideCJK</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/sub.html">sub</a> <span class="s">{</span></li><li>      <a class="l_k" href="../functions/my.html">my</a> <span class="i">$u</span> = <a class="l_k" href="../functions/shift.html">shift</a><span class="sc">;</span>             <span class="c"># get a Unicode codepoint</span></li><li>      <a class="l_k" href="../functions/my.html">my</a> <span class="i">$b</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&#39;n&#39;</span><span class="cm">,</span> <span class="i">$u</span><span class="s">)</span><span class="sc">;</span>     <span class="c"># to UTF-16BE</span></li><li>      <a class="l_k" href="../functions/my.html">my</a> <span class="i">$s</span> = <span class="i">your_unicode_to_sjis_converter</span><span class="s">(</span><span class="i">$b</span><span class="s">)</span><span class="sc">;</span> <span class="c"># convert</span></li><li>      <a class="l_k" href="../functions/my.html">my</a> <span class="i">$n</span> = <a class="l_k" href="../functions/unpack.html">unpack</a><span class="s">(</span><span class="q">&#39;n&#39;</span><span class="cm">,</span> <span class="i">$s</span><span class="s">)</span><span class="sc">;</span>   <span class="c"># convert sjis to short</span></li><li>      <span class="s">[</span> <span class="i">$n</span><span class="cm">,</span> <span class="n">0x20</span><span class="cm">,</span> <span class="n">0x2</span><span class="cm">,</span> <span class="i">$u</span> <span class="s">]</span><span class="sc">;</span>     <span class="c"># return the collation element</span></li><li>  <span class="s">}</span><span class="cm">,</span></li></ol></pre><p>The return value may be an arrayref of 1st to 4th weights as shown
above. The return value may be an integer as the primary weight
as shown below.  If <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> is returned, the default derived
collation element will be used.</p>
<pre class="verbatim"><ol><li>  <span class="w">overrideCJK</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/sub.html">sub</a> <span class="s">{</span></li><li>      <a class="l_k" href="../functions/my.html">my</a> <span class="i">$u</span> = <a class="l_k" href="../functions/shift.html">shift</a><span class="sc">;</span>             <span class="c"># get a Unicode codepoint</span></li><li>      <a class="l_k" href="../functions/my.html">my</a> <span class="i">$b</span> = <a class="l_k" href="../functions/pack.html">pack</a><span class="s">(</span><span class="q">&#39;n&#39;</span><span class="cm">,</span> <span class="i">$u</span><span class="s">)</span><span class="sc">;</span>     <span class="c"># to UTF-16BE</span></li><li>      <a class="l_k" href="../functions/my.html">my</a> <span class="i">$s</span> = <span class="i">your_unicode_to_sjis_converter</span><span class="s">(</span><span class="i">$b</span><span class="s">)</span><span class="sc">;</span> <span class="c"># convert</span></li><li>      <a class="l_k" href="../functions/my.html">my</a> <span class="i">$n</span> = <a class="l_k" href="../functions/unpack.html">unpack</a><span class="s">(</span><span class="q">&#39;n&#39;</span><span class="cm">,</span> <span class="i">$s</span><span class="s">)</span><span class="sc">;</span>   <span class="c"># convert sjis to short</span></li><li>      <a class="l_k" href="../functions/return.html">return</a> <span class="i">$n</span><span class="sc">;</span>                 <span class="c"># return the primary weight</span></li><li>  <span class="s">}</span><span class="cm">,</span></li></ol></pre><p>The return value may be a list containing zero or more of
an arrayref, an integer, or <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code>.</p>
<p>ex. ignores all CJK unified ideographs.</p>
<pre class="verbatim"><ol><li>  <span class="w">overrideCJK</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/sub.html">sub</a> <span class="s">{</span><span class="s">(</span><span class="s">)</span><span class="s">}</span><span class="cm">,</span> <span class="c"># CODEREF returning empty list</span></li><li></li><li>   <span class="c"># where -&gt;eq(&quot;Pe\x{4E00}rl&quot;, &quot;Perl&quot;) is true</span></li><li>   <span class="c"># as U+4E00 is a CJK unified ideograph and to be ignorable.</span></li></ol></pre><p>If <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> is passed explicitly as the value for this key,
weights for CJK unified ideographs are treated as undefined.
But assignment of weight for CJK unified ideographs
in <code class="inline"><span class="w">table</span></code>
 or <code class="inline"><span class="w">entry</span></code>
 is still valid.</p>
<p><b>Note:</b> In addition to them, 12 CJK compatibility ideographs (<code class="inline"><span class="w">U</span>+<span class="w">FA0E</span></code>
,
<code class="inline"><span class="w">U</span>+<span class="w">FA0F</span></code>
, <code class="inline"><span class="w">U</span>+<span class="w">FA11</span></code>
, <code class="inline"><span class="w">U</span>+<span class="w">FA13</span></code>
, <code class="inline"><span class="w">U</span>+<span class="w">FA14</span></code>
, <code class="inline"><span class="w">U</span>+<span class="w">FA1F</span></code>
, <code class="inline"><span class="w">U</span>+<span class="w">FA21</span></code>
, <code class="inline"><span class="w">U</span>+<span class="w">FA23</span></code>
,
<code class="inline"><span class="w">U</span>+<span class="w">FA24</span></code>
, <code class="inline"><span class="w">U</span>+<span class="w">FA27</span></code>
, <code class="inline"><span class="w">U</span>+<span class="w">FA28</span></code>
, <code class="inline"><span class="w">U</span>+<span class="w">FA29</span></code>
) are also treated as CJK unified
ideographs. But they can't be overridden via <code class="inline"><span class="w">overrideCJK</span></code>
 when you use
DUCET, as the table includes weights for them. <code class="inline"><span class="w">table</span></code>
 or <code class="inline"><span class="w">entry</span></code>
 has
priority over <code class="inline"><span class="w">overrideCJK</span></code>
.</p>
</li>
<li><a name="overrideHangul"></a><b>overrideHangul</b>
<p>-- see 7.1 Derived Collation Elements, UTS #10.</p>
<p>By default, Hangul syllables are decomposed into Hangul Jamo,
even if <code class="inline"><span class="s">(</span><span class="w">normalization</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/undef.html">undef</a><span class="s">)</span></code>
.
But the mapping of Hangul syllables may be overridden.</p>
<p>This parameter works like <code class="inline"><span class="w">overrideCJK</span></code>
, so see there for examples.</p>
<p>If you want to override the mapping of Hangul syllables,
NFD and NFKD are not appropriate, since NFD and NFKD will decompose
Hangul syllables before overriding. FCD may decompose Hangul syllables
as the case may be.</p>
<p>If <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> is passed explicitly as the value for this key,
weight for Hangul syllables is treated as undefined
without decomposition into Hangul Jamo.
But definition of weight for Hangul syllables
in <code class="inline"><span class="w">table</span></code>
 or <code class="inline"><span class="w">entry</span></code>
 is still valid.</p>
</li>
<li><a name="preprocess"></a><b>preprocess</b>
<p>-- see 5.1 Preprocessing, UTS #10.</p>
<p>If specified, the coderef is used to preprocess
before the formation of sort keys.</p>
<p>ex. dropping English articles, such as "a" or "the".
Then, "the pen" is before "a pencil".</p>
<pre class="verbatim"><ol><li>     <span class="w">preprocess</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/sub.html">sub</a> <span class="s">{</span></li><li>           <a class="l_k" href="../functions/my.html">my</a> <span class="i">$str</span> = <a class="l_k" href="../functions/shift.html">shift</a><span class="sc">;</span></li><li>           <span class="i">$str</span> =~ <span class="q">s/\b(?:an?|the)\s+//gi</span><span class="sc">;</span></li><li>           <a class="l_k" href="../functions/return.html">return</a> <span class="i">$str</span><span class="sc">;</span></li><li>        <span class="s">}</span><span class="cm">,</span></li></ol></pre><p><code class="inline"><span class="w">preprocess</span></code>
 is performed before <code class="inline"><span class="w">normalization</span></code>
 (if defined).</p>
<p>ex. decoding strings in a legacy encoding such as shift-jis:</p>
<pre class="verbatim"><ol><li>    <span class="i">$sjis_collator</span> = <span class="w">Unicode::Collate</span><span class="w">-&gt;new</span><span class="s">(</span></li><li>        <span class="w">preprocess</span> <span class="cm">=&gt;</span> \<span class="i">&amp;your_shiftjis_to_unicode_decoder</span><span class="cm">,</span></li><li>    <span class="s">)</span><span class="sc">;</span></li><li>    <span class="i">@result</span> = <span class="i">$sjis_collator</span><span class="i">-&gt;sort</span><span class="s">(</span><span class="i">@shiftjis_strings</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p><b>Note:</b> Strings returned from the coderef will be interpreted
according to Perl's Unicode support. See <a href="../perlunicode.html">perlunicode</a>,
<a href="../perluniintro.html">perluniintro</a>, <a href="../perlunitut.html">perlunitut</a>, <a href="../perlunifaq.html">perlunifaq</a>, <a href="../utf8.html">utf8</a>.</p>
</li>
<li><a name="rearrange"></a><b>rearrange</b>
<p>-- see 3.1.3 Rearrangement, UTS #10.</p>
<p>Characters that are not coded in logical order and to be rearranged.
If <code class="inline"><span class="w">UCA_Version</span></code>
 is equal to or lesser than 11, default is:</p>
<pre class="verbatim"><ol><li>    <span class="w">rearrange</span> <span class="cm">=&gt;</span> <span class="s">[</span> <span class="n">0x0E40</span>..<span class="n">0x0E44</span><span class="cm">,</span> <span class="n">0x0EC0</span>..<span class="n">0x0EC4</span> <span class="s">]</span><span class="cm">,</span></li></ol></pre><p>If you want to disallow any rearrangement, pass <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> or <code class="inline"><span class="s">[</span><span class="s">]</span></code>

(a reference to empty list) as the value for this key.</p>
<p>If <code class="inline"><span class="w">UCA_Version</span></code>
 is equal to or greater than 14, default is <code class="inline"><span class="s">[</span><span class="s">]</span></code>

(i.e. no rearrangement).</p>
<p><b>According to the version 9 of UCA, this parameter shall not be used;
but it is not warned at present.</b></p>
</li>
<li><a name="suppress"></a><b>suppress</b>
<p>-- see suppress contractions in 5.14.11 Special-Purpose Commands,
UTS #35 (LDML).</p>
<p>Contractions beginning with the specified characters are suppressed,
even if those contractions are defined in <code class="inline"><span class="w">table</span></code>
 or <code class="inline"><span class="w">entry</span></code>
.</p>
<p>An example for Russian and some languages using the Cyrillic script:</p>
<pre class="verbatim"><ol><li>    <span class="w">suppress</span> <span class="cm">=&gt;</span> <span class="s">[</span><span class="n">0x0400</span>..<span class="n">0x0417</span><span class="cm">,</span> <span class="n">0x041A</span>..<span class="n">0x0437</span><span class="cm">,</span> <span class="n">0x043A</span>..<span class="n">0x045F</span><span class="s">]</span><span class="cm">,</span></li></ol></pre><p>where 0x0400 stands for <code class="inline"><span class="w">U</span>+<span class="n">0400</span></code>
, CYRILLIC CAPITAL LETTER IE WITH GRAVE.</p>
</li>
<li><a name="table"></a><b>table</b>
<p>-- see 3.2 Default Unicode Collation Element Table, UTS #10.</p>
<p>You can use another collation element table if desired.</p>
<p>The table file should locate in the <i>Unicode/Collate</i> directory
on <code class="inline"><span class="i">@INC</span></code>
. Say, if the filename is <i>Foo.txt</i>,
the table file is searched as <i>Unicode/Collate/Foo.txt</i> in <code class="inline"><span class="i">@INC</span></code>
.</p>
<p>By default, <i>allkeys.txt</i> (as the filename of DUCET) is used.
If you will prepare your own table file, any name other than <i>allkeys.txt</i>
may be better to avoid namespace conflict.</p>
<p><b>NOTE</b>: When XSUB is used, the DUCET is compiled on building this
module, and it may save time at the run time.
Explicit saying <code class="inline"><span class="w">table</span> <span class="cm">=&gt;</span> <span class="q">&#39;allkeys.txt&#39;</span></code>
 (or using another table),
or using <code class="inline"><span class="w">ignoreChar</span></code>
, <code class="inline"><span class="w">ignoreName</span></code>
, <code class="inline"><span class="w">undefChar</span></code>
, or <code class="inline"><span class="w">undefName</span></code>

will prevent this module from using the compiled DUCET.</p>
<p>If <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> is passed explicitly as the value for this key,
no file is read (but you can define collation elements via <code class="inline"><span class="w">entry</span></code>
).</p>
<p>A typical way to define a collation element table
without any file of table:</p>
<pre class="verbatim"><ol><li>   <span class="i">$onlyABC</span> = <span class="w">Unicode::Collate</span><span class="w">-&gt;new</span><span class="s">(</span></li><li>       <span class="w">table</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/undef.html">undef</a><span class="cm">,</span></li><li>       <span class="w">entry</span> <span class="cm">=&gt;</span> <span class="h">&lt;&lt; &#39;ENTRIES&#39;</span><span class="cm">,</span></li><li><span class="hh">0061 ; [.0101.0020.0002.0061] # LATIN SMALL LETTER A</span></li><li><span class="hh">0041 ; [.0101.0020.0008.0041] # LATIN CAPITAL LETTER A</span></li><li><span class="hh">0062 ; [.0102.0020.0002.0062] # LATIN SMALL LETTER B</span></li><li><span class="hh">0042 ; [.0102.0020.0008.0042] # LATIN CAPITAL LETTER B</span></li><li><span class="hh">0063 ; [.0103.0020.0002.0063] # LATIN SMALL LETTER C</span></li><li><span class="hh">0043 ; [.0103.0020.0008.0043] # LATIN CAPITAL LETTER C</span></li><li><span class="h">ENTRIES</span></li><li>    <span class="s">)</span><span class="sc">;</span></li></ol></pre><p>If <code class="inline"><span class="w">ignoreName</span></code>
 or <code class="inline"><span class="w">undefName</span></code>
 is used, character names should be
specified as a comment (following <code class="inline"><span class="c">#</span></code>
) on each line.</p>
</li>
<li><a name="undefChar"></a><b>undefChar</b>
</li>
<li><a name="undefName"></a><b>undefName</b>
<p>-- see 6.3.4 Reducing the Repertoire, UTS #10.</p>
<p>Undefines the collation element as if it were unassigned in the <code class="inline"><span class="w">table</span></code>
.
This reduces the size of the table.
If an unassigned character appears in the string to be collated,
the sort key is made from its codepoint
as a single-character collation element,
as it is greater than any other assigned collation elements
(in the codepoint order among the unassigned characters).
But, it'd be better to ignore characters
unfamiliar to you and maybe never used.</p>
<p>Through <code class="inline"><span class="w">undefChar</span></code>
, any character matching <code class="inline"><a class="l_k" href="../functions/qr.html">qr/$undefChar/</a></code>
will be undefined. Through <code class="inline"><span class="w">undefName</span></code>
, any character whose name
(given in the <code class="inline"><span class="w">table</span></code>
 file as a comment) matches <code class="inline"><a class="l_k" href="../functions/qr.html">qr/$undefName/</a></code>
will be undefined.</p>
<p>ex. Collation weights for beyond-BMP characters are not stored in object:</p>
<pre class="verbatim"><ol><li>    <span class="w">undefChar</span> <span class="cm">=&gt;</span> <span class="q">qr/[^\0-\x{fffd}]/</span><span class="cm">,</span></li></ol></pre></li>
<li><a name="upper_before_lower"></a><b>upper_before_lower</b>
<p>-- see 6.6 Case Comparisons, UTS #10.</p>
<p>By default, lowercase is before uppercase.
If the parameter is made true, this is reversed.</p>
<p><b>NOTE</b>: This parameter simplemindedly assumes that any lowercase/uppercase
distinctions must occur in level 3, and their weights at level 3 must be
same as those mentioned in 7.3.1, UTS #10.
If you define your collation elements which differs from this requirement,
this parameter doesn't work validly.</p>
</li>
<li><a name="variable"></a><b>variable</b>
<p>-- see 3.2.2 Variable Weighting, UTS #10.</p>
<p>This key allows to variable weighting for variable collation elements,
which are marked with an ASTERISK in the table
(NOTE: Many punctuation marks and symbols are variable in <i>allkeys.txt</i>).</p>
<pre class="verbatim"><ol><li>   <span class="w">variable</span> <span class="cm">=&gt;</span> <span class="q">&#39;blanked&#39;</span><span class="cm">,</span> <span class="q">&#39;non-ignorable&#39;</span><span class="cm">,</span> <span class="q">&#39;shifted&#39;</span><span class="cm">,</span> or <span class="q">&#39;shift-trimmed&#39;</span>.</li></ol></pre><p>These names are case-insensitive.
By default (if specification is omitted), 'shifted' is adopted.</p>
<pre class="verbatim"><ol><li>   'Blanked'        Variable elements are made ignorable at levels 1 through 3;</li><li>                    considered at the 4th level.</li><li></li><li>   'Non-Ignorable'  Variable elements are not reset to ignorable.</li><li></li><li>   'Shifted'        Variable elements are made ignorable at levels 1 through 3</li><li>                    their level 4 weight is replaced by the old level 1 weight.</li><li>                    Level 4 weight for Non-Variable elements is 0xFFFF.</li><li></li><li>   'Shift-Trimmed'  Same as 'shifted', but all FFFF's at the 4th level</li><li>                    are trimmed.</li></ol></pre></li>
</ul>
<a name="Methods-for-Collation"></a><h2>Methods for Collation</h2>
<ul>
<li><a name="%40sorted-%3d-%24Collator-%3esort(%40not_sorted)"></a><b><code class="inline"><span class="i">@sorted</span> = <span class="i">$Collator</span><span class="i">-&gt;sort</span><span class="s">(</span><span class="i">@not_sorted</span><span class="s">)</span></code>
</b>
<p>Sorts a list of strings.</p>
</li>
<li><a name="%24result-%3d-%24Collator-%3ecmp(%24a%2c-%24b)"></a><b><code class="inline"><span class="i">$result</span> = <span class="i">$Collator</span><span class="i">-&gt;cmp</span><span class="s">(</span><span class="i">$a</span><span class="cm">,</span> <span class="i">$b</span><span class="s">)</span></code>
</b>
<p>Returns 1 (when <code class="inline"><span class="i">$a</span></code>
 is greater than <code class="inline"><span class="i">$b</span></code>
)
or 0 (when <code class="inline"><span class="i">$a</span></code>
 is equal to <code class="inline"><span class="i">$b</span></code>
)
or -1 (when <code class="inline"><span class="i">$a</span></code>
 is lesser than <code class="inline"><span class="i">$b</span></code>
).</p>
</li>
<li><a name="%24result-%3d-%24Collator-%3eeq(%24a%2c-%24b)"></a><b><code class="inline"><span class="i">$result</span> = <span class="i">$Collator</span><span class="i">-&gt;eq</span><span class="s">(</span><span class="i">$a</span><span class="cm">,</span> <span class="i">$b</span><span class="s">)</span></code>
</b>
</li>
<li><a name="%24result-%3d-%24Collator-%3ene(%24a%2c-%24b)"></a><b><code class="inline"><span class="i">$result</span> = <span class="i">$Collator</span><span class="i">-&gt;ne</span><span class="s">(</span><span class="i">$a</span><span class="cm">,</span> <span class="i">$b</span><span class="s">)</span></code>
</b>
</li>
<li><a name="%24result-%3d-%24Collator-%3elt(%24a%2c-%24b)"></a><b><code class="inline"><span class="i">$result</span> = <span class="i">$Collator</span><span class="i">-&gt;lt</span><span class="s">(</span><span class="i">$a</span><span class="cm">,</span> <span class="i">$b</span><span class="s">)</span></code>
</b>
</li>
<li><a name="%24result-%3d-%24Collator-%3ele(%24a%2c-%24b)"></a><b><code class="inline"><span class="i">$result</span> = <span class="i">$Collator</span><span class="i">-&gt;le</span><span class="s">(</span><span class="i">$a</span><span class="cm">,</span> <span class="i">$b</span><span class="s">)</span></code>
</b>
</li>
<li><a name="%24result-%3d-%24Collator-%3egt(%24a%2c-%24b)"></a><b><code class="inline"><span class="i">$result</span> = <span class="i">$Collator</span><span class="i">-&gt;gt</span><span class="s">(</span><span class="i">$a</span><span class="cm">,</span> <span class="i">$b</span><span class="s">)</span></code>
</b>
</li>
<li><a name="%24result-%3d-%24Collator-%3ege(%24a%2c-%24b)"></a><b><code class="inline"><span class="i">$result</span> = <span class="i">$Collator</span><span class="i">-&gt;ge</span><span class="s">(</span><span class="i">$a</span><span class="cm">,</span> <span class="i">$b</span><span class="s">)</span></code>
</b>
<p>They works like the same name operators as theirs.</p>
<pre class="verbatim"><ol><li>   eq : whether $a is equal to $b.</li><li>   ne : whether $a is not equal to $b.</li><li>   lt : whether $a is lesser than $b.</li><li>   le : whether $a is lesser than $b or equal to $b.</li><li>   gt : whether $a is greater than $b.</li><li>   ge : whether $a is greater than $b or equal to $b.</li></ol></pre></li>
<li><a name="%24sortKey-%3d-%24Collator-%3egetSortKey(%24string)"></a><b><code class="inline"><span class="i">$sortKey</span> = <span class="i">$Collator</span><span class="i">-&gt;getSortKey</span><span class="s">(</span><span class="i">$string</span><span class="s">)</span></code>
</b>
<p>-- see 4.3 Form Sort Key, UTS #10.</p>
<p>Returns a sort key.</p>
<p>You compare the sort keys using a binary comparison
and get the result of the comparison of the strings using UCA.</p>
<pre class="verbatim"><ol><li>   $Collator-&gt;getSortKey($a) cmp $Collator-&gt;getSortKey($b)</li><li></li><li>      is equivalent to</li><li></li><li>   $Collator-&gt;cmp($a, $b)</li></ol></pre></li>
<li><a name="%24sortKeyForm-%3d-%24Collator-%3eviewSortKey(%24string)"></a><b><code class="inline"><span class="i">$sortKeyForm</span> = <span class="i">$Collator</span><span class="i">-&gt;viewSortKey</span><span class="s">(</span><span class="i">$string</span><span class="s">)</span></code>
</b>
<p>Converts a sorting key into its representation form.
If <code class="inline"><span class="w">UCA_Version</span></code>
 is 8, the output is slightly different.</p>
<pre class="verbatim"><ol><li>   <a class="l_k" href="../functions/use.html">use</a> <span class="w">Unicode::Collate</span><span class="sc">;</span></li><li>   <a class="l_k" href="../functions/my.html">my</a> <span class="i">$c</span> = <span class="w">Unicode::Collate</span><span class="w">-&gt;new</span><span class="s">(</span><span class="s">)</span><span class="sc">;</span></li><li>   <a class="l_k" href="../functions/print.html">print</a> <span class="i">$c</span><span class="i">-&gt;viewSortKey</span><span class="s">(</span><span class="q">&quot;Perl&quot;</span><span class="s">)</span><span class="cm">,</span><span class="q">&quot;\n&quot;</span><span class="sc">;</span></li><li></li><li>   <span class="c"># output:</span></li><li>   <span class="c"># [0B67 0A65 0B7F 0B03 | 0020 0020 0020 0020 | 0008 0002 0002 0002 | FFFF FFFF FFFF FFFF]</span></li><li>   <span class="c">#  Level 1               Level 2               Level 3               Level 4</span></li></ol></pre></li>
</ul>
<a name="Methods-for-Searching"></a><h2>Methods for Searching</h2>
<p><b>DISCLAIMER:</b> If <code class="inline"><span class="w">preprocess</span></code>
 or <code class="inline"><span class="w">normalization</span></code>
 parameter is true
for <code class="inline"><span class="i">$Collator</span></code>
, calling these methods (<code class="inline"><a class="l_k" href="../functions/index.html">index</a></code>, <code class="inline"><span class="w">match</span></code>
, <code class="inline"><span class="w">gmatch</span></code>
,
<code class="inline"><span class="w">subst</span></code>
, <code class="inline"><span class="w">gsubst</span></code>
) is croaked,
as the position and the length might differ
from those on the specified string.
(And <code class="inline"><span class="w">rearrange</span></code>
 and <code class="inline"><span class="w">hangul_terminator</span></code>
 parameters are neglected.)</p>
<p>The <code class="inline"><span class="w">match</span></code>
, <code class="inline"><span class="w">gmatch</span></code>
, <code class="inline"><span class="w">subst</span></code>
, <code class="inline"><span class="w">gsubst</span></code>
 methods work
like <code class="inline"><a class="l_k" href="../functions/m.html">m//</a></code>, <code class="inline"><a class="l_k" href="../functions/m.html">m//g</a></code>, <code class="inline"><a class="l_k" href="../functions/s.html">s///</a></code>, <code class="inline"><a class="l_k" href="../functions/s.html">s///g</a></code>, respectively,
but they are not aware of any pattern, but only a literal substring.</p>
<ul>
<li><a name="%24position-%3d-%24Collator-%3eindex(%24string%2c-%24substring%5b%2c-%24position%5d)"></a><b><code class="inline"><span class="i">$position</span> = <span class="i">$Collator</span><span class="i">-&gt;index</span><span class="s">(</span><span class="i">$string</span><span class="cm">,</span> <span class="i">$substring</span>[<span class="cm">,</span> <span class="i">$position</span>]<span class="s">)</span></code>
</b>
</li>
<li><a name="(%24position%2c-%24length)-%3d-%24Collator-%3eindex(%24string%2c-%24substring%5b%2c-%24position%5d)"></a><b><code class="inline"><span class="s">(</span><span class="i">$position</span><span class="cm">,</span> <span class="i">$length</span><span class="s">)</span> = <span class="i">$Collator</span><span class="i">-&gt;index</span><span class="s">(</span><span class="i">$string</span><span class="cm">,</span> <span class="i">$substring</span>[<span class="cm">,</span> <span class="i">$position</span>]<span class="s">)</span></code>
</b>
<p>If <code class="inline"><span class="i">$substring</span></code>
 matches a part of <code class="inline"><span class="i">$string</span></code>
, returns
the position of the first occurrence of the matching part in scalar context;
in list context, returns a two-element list of
the position and the length of the matching part.</p>
<p>If <code class="inline"><span class="i">$substring</span></code>
 does not match any part of <code class="inline"><span class="i">$string</span></code>
,
returns <code class="inline"><span class="n">-1</span></code>
 in scalar context and
an empty list in list context.</p>
<p>e.g. you say</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$Collator</span> = <span class="w">Unicode::Collate</span><span class="w">-&gt;new</span><span class="s">(</span> <span class="w">normalization</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/undef.html">undef</a><span class="cm">,</span> <span class="w">level</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="sc">;</span></li><li>                                     <span class="c"># (normalization =&gt; undef) is REQUIRED.</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$str</span> = <span class="q">&quot;Ich mu&szlig; studieren Perl.&quot;</span><span class="sc">;</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$sub</span> = <span class="q">&quot;M&Uuml;SS&quot;</span><span class="sc">;</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$match</span><span class="sc">;</span></li><li>  if <span class="s">(</span><a class="l_k" href="../functions/my.html">my</a><span class="s">(</span><span class="i">$pos</span><span class="cm">,</span><span class="i">$len</span><span class="s">)</span> = <span class="i">$Collator</span><span class="i">-&gt;index</span><span class="s">(</span><span class="i">$str</span><span class="cm">,</span> <span class="i">$sub</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span></li><li>      <span class="i">$match</span> = <a class="l_k" href="../functions/substr.html">substr</a><span class="s">(</span><span class="i">$str</span><span class="cm">,</span> <span class="i">$pos</span><span class="cm">,</span> <span class="i">$len</span><span class="s">)</span><span class="sc">;</span></li><li>  <span class="s">}</span></li></ol></pre><p>and get <code class="inline"><span class="q">&quot;mu&szlig;&quot;</span></code>
 in <code class="inline"><span class="i">$match</span></code>
 since <code class="inline"><span class="q">&quot;mu&szlig;&quot;</span></code>

is primary equal to <code class="inline"><span class="q">&quot;M&Uuml;SS&quot;</span></code>
.</p>
</li>
<li><a name="%24match_ref-%3d-%24Collator-%3ematch(%24string%2c-%24substring)"></a><b><code class="inline"><span class="i">$match_ref</span> = <span class="i">$Collator</span><span class="i">-&gt;match</span><span class="s">(</span><span class="i">$string</span><span class="cm">,</span> <span class="i">$substring</span><span class="s">)</span></code>
</b>
</li>
<li><a name="(%24match)---%3d-%24Collator-%3ematch(%24string%2c-%24substring)"></a><b><code class="inline"><span class="s">(</span><span class="i">$match</span><span class="s">)</span>   = <span class="i">$Collator</span><span class="i">-&gt;match</span><span class="s">(</span><span class="i">$string</span><span class="cm">,</span> <span class="i">$substring</span><span class="s">)</span></code>
</b>
<p>If <code class="inline"><span class="i">$substring</span></code>
 matches a part of <code class="inline"><span class="i">$string</span></code>
, in scalar context, returns
<b>a reference to</b> the first occurrence of the matching part
(<code class="inline"><span class="i">$match_ref</span></code>
 is always true if matches,
since every reference is <b>true</b>);
in list context, returns the first occurrence of the matching part.</p>
<p>If <code class="inline"><span class="i">$substring</span></code>
 does not match any part of <code class="inline"><span class="i">$string</span></code>
,
returns <code class="inline"><a class="l_k" href="../functions/undef.html">undef</a></code> in scalar context and
an empty list in list context.</p>
<p>e.g.</p>
<pre class="verbatim"><ol><li>    if <span class="s">(</span><span class="i">$match_ref</span> = <span class="i">$Collator</span><span class="i">-&gt;match</span><span class="s">(</span><span class="i">$str</span><span class="cm">,</span> <span class="i">$sub</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span> <span class="c"># scalar context</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;matches [$$match_ref].\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span> else <span class="s">{</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;doesn&#39;t match.\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li><li></li><li>     or</li><li></li><li>    if <span class="s">(</span><span class="s">(</span><span class="i">$match</span><span class="s">)</span> = <span class="i">$Collator</span><span class="i">-&gt;match</span><span class="s">(</span><span class="i">$str</span><span class="cm">,</span> <span class="i">$sub</span><span class="s">)</span><span class="s">)</span> <span class="s">{</span> <span class="c"># list context</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;matches [$match].\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span> else <span class="s">{</span></li><li>	<a class="l_k" href="../functions/print.html">print</a> <span class="q">&quot;doesn&#39;t match.\n&quot;</span><span class="sc">;</span></li><li>    <span class="s">}</span></li></ol></pre></li>
<li><a name="%40match-%3d-%24Collator-%3egmatch(%24string%2c-%24substring)"></a><b><code class="inline"><span class="i">@match</span> = <span class="i">$Collator</span><span class="i">-&gt;gmatch</span><span class="s">(</span><span class="i">$string</span><span class="cm">,</span> <span class="i">$substring</span><span class="s">)</span></code>
</b>
<p>If <code class="inline"><span class="i">$substring</span></code>
 matches a part of <code class="inline"><span class="i">$string</span></code>
, returns
all the matching parts (or matching count in scalar context).</p>
<p>If <code class="inline"><span class="i">$substring</span></code>
 does not match any part of <code class="inline"><span class="i">$string</span></code>
,
returns an empty list.</p>
</li>
<li><a name="%24count-%3d-%24Collator-%3esubst(%24string%2c-%24substring%2c-%24replacement)"></a><b><code class="inline"><span class="i">$count</span> = <span class="i">$Collator</span><span class="i">-&gt;subst</span><span class="s">(</span><span class="i">$string</span><span class="cm">,</span> <span class="i">$substring</span><span class="cm">,</span> <span class="i">$replacement</span><span class="s">)</span></code>
</b>
<p>If <code class="inline"><span class="i">$substring</span></code>
 matches a part of <code class="inline"><span class="i">$string</span></code>
,
the first occurrence of the matching part is replaced by <code class="inline"><span class="i">$replacement</span></code>

(<code class="inline"><span class="i">$string</span></code>
 is modified) and return <code class="inline"><span class="i">$count</span></code>
 (always equals to <code class="inline"><span class="n">1</span></code>
).</p>
<p><code class="inline"><span class="i">$replacement</span></code>
 can be a <code class="inline"><span class="w">CODEREF</span></code>
,
taking the matching part as an argument,
and returning a string to replace the matching part
(a bit similar to <code class="inline"><a class="l_k" href="../functions/s.html">s/(..)/$coderef->($1)/e</a></code>).</p>
</li>
<li><a name="%24count-%3d-%24Collator-%3egsubst(%24string%2c-%24substring%2c-%24replacement)"></a><b><code class="inline"><span class="i">$count</span> = <span class="i">$Collator</span><span class="i">-&gt;gsubst</span><span class="s">(</span><span class="i">$string</span><span class="cm">,</span> <span class="i">$substring</span><span class="cm">,</span> <span class="i">$replacement</span><span class="s">)</span></code>
</b>
<p>If <code class="inline"><span class="i">$substring</span></code>
 matches a part of <code class="inline"><span class="i">$string</span></code>
,
all the occurrences of the matching part is replaced by <code class="inline"><span class="i">$replacement</span></code>

(<code class="inline"><span class="i">$string</span></code>
 is modified) and return <code class="inline"><span class="i">$count</span></code>
.</p>
<p><code class="inline"><span class="i">$replacement</span></code>
 can be a <code class="inline"><span class="w">CODEREF</span></code>
,
taking the matching part as an argument,
and returning a string to replace the matching part
(a bit similar to <code class="inline"><a class="l_k" href="../functions/s.html">s/(..)/$coderef->($1)/eg</a></code>).</p>
<p>e.g.</p>
<pre class="verbatim"><ol><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$Collator</span> = <span class="w">Unicode::Collate</span><span class="w">-&gt;new</span><span class="s">(</span> <span class="w">normalization</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/undef.html">undef</a><span class="cm">,</span> <span class="w">level</span> <span class="cm">=&gt;</span> <span class="n">1</span> <span class="s">)</span><span class="sc">;</span></li><li>                                     <span class="c"># (normalization =&gt; undef) is REQUIRED.</span></li><li>  <a class="l_k" href="../functions/my.html">my</a> <span class="i">$str</span> = <span class="q">&quot;Camel donkey zebra came\x{301}l CAMEL horse cAm\0E\0L...&quot;</span><span class="sc">;</span></li><li>  <span class="i">$Collator</span><span class="i">-&gt;gsubst</span><span class="s">(</span><span class="i">$str</span><span class="cm">,</span> <span class="q">&quot;camel&quot;</span><span class="cm">,</span> <a class="l_k" href="../functions/sub.html">sub</a> <span class="s">{</span> <span class="q">&quot;&lt;b&gt;$_[0]&lt;/b&gt;&quot;</span> <span class="s">}</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>  <span class="c"># now $str is &quot;&lt;b&gt;Camel&lt;/b&gt; donkey zebra &lt;b&gt;came\x{301}l&lt;/b&gt; &lt;b&gt;CAMEL&lt;/b&gt; horse &lt;b&gt;cAm\0E\0L&lt;/b&gt;...&quot;;</span></li><li>  <span class="c"># i.e., all the camels are made bold-faced.</span></li></ol></pre></li>
</ul>
<a name="Other-Methods"></a><h2>Other Methods</h2>
<ul>
<li><a name="%25old_tailoring-%3d-%24Collator-%3echange(%25new_tailoring)"></a><b><code class="inline"><span class="i">%old_tailoring</span> = <span class="i">$Collator</span><span class="i">-&gt;change</span><span class="s">(</span><span class="i">%new_tailoring</span><span class="s">)</span></code>
</b>
</li>
<li><a name="%24modified_collator-%3d-%24Collator-%3echange(%25new_tailoring)"></a><b><code class="inline"><span class="i">$modified_collator</span> = <span class="i">$Collator</span><span class="i">-&gt;change</span><span class="s">(</span><span class="i">%new_tailoring</span><span class="s">)</span></code>
</b>
<p>Change the value of specified keys and returns the changed part.</p>
<pre class="verbatim"><ol><li>    <span class="i">$Collator</span> = <span class="w">Unicode::Collate</span><span class="w">-&gt;new</span><span class="s">(</span><span class="w">level</span> <span class="cm">=&gt;</span> <span class="n">4</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>    <span class="i">$Collator</span><span class="i">-&gt;eq</span><span class="s">(</span><span class="q">&quot;perl&quot;</span><span class="cm">,</span> <span class="q">&quot;PERL&quot;</span><span class="s">)</span><span class="sc">;</span> <span class="c"># false</span></li><li></li><li>    <span class="i">%old</span> = <span class="i">$Collator</span><span class="i">-&gt;change</span><span class="s">(</span><span class="w">level</span> <span class="cm">=&gt;</span> <span class="n">2</span><span class="s">)</span><span class="sc">;</span> <span class="c"># returns (level =&gt; 4).</span></li><li></li><li>    <span class="i">$Collator</span><span class="i">-&gt;eq</span><span class="s">(</span><span class="q">&quot;perl&quot;</span><span class="cm">,</span> <span class="q">&quot;PERL&quot;</span><span class="s">)</span><span class="sc">;</span> <span class="c"># true</span></li><li></li><li>    <span class="i">$Collator</span><span class="i">-&gt;change</span><span class="s">(</span><span class="i">%old</span><span class="s">)</span><span class="sc">;</span> <span class="c"># returns (level =&gt; 2).</span></li><li></li><li>    <span class="i">$Collator</span><span class="i">-&gt;eq</span><span class="s">(</span><span class="q">&quot;perl&quot;</span><span class="cm">,</span> <span class="q">&quot;PERL&quot;</span><span class="s">)</span><span class="sc">;</span> <span class="c"># false</span></li></ol></pre><p>Not all <code class="inline"><span class="s">(</span><span class="w">key</span><span class="cm">,</span><span class="w">value</span><span class="s">)</span></code>
s are allowed to be changed.
See also <code class="inline"><span class="i">@Unicode::Collate::ChangeOK</span></code>
 and <code class="inline"><span class="i">@Unicode::Collate::ChangeNG</span></code>
.</p>
<p>In the scalar context, returns the modified collator
(but it is <b>not</b> a clone from the original).</p>
<pre class="verbatim"><ol><li>    <span class="i">$Collator</span><span class="i">-&gt;change</span><span class="s">(</span><span class="w">level</span> <span class="cm">=&gt;</span> <span class="n">2</span><span class="s">)</span><span class="i">-&gt;eq</span><span class="s">(</span><span class="q">&quot;perl&quot;</span><span class="cm">,</span> <span class="q">&quot;PERL&quot;</span><span class="s">)</span><span class="sc">;</span> <span class="c"># true</span></li><li></li><li>    <span class="i">$Collator</span><span class="i">-&gt;eq</span><span class="s">(</span><span class="q">&quot;perl&quot;</span><span class="cm">,</span> <span class="q">&quot;PERL&quot;</span><span class="s">)</span><span class="sc">;</span> <span class="c"># true; now max level is 2nd.</span></li><li></li><li>    <span class="i">$Collator</span><span class="i">-&gt;change</span><span class="s">(</span><span class="w">level</span> <span class="cm">=&gt;</span> <span class="n">4</span><span class="s">)</span><span class="i">-&gt;eq</span><span class="s">(</span><span class="q">&quot;perl&quot;</span><span class="cm">,</span> <span class="q">&quot;PERL&quot;</span><span class="s">)</span><span class="sc">;</span> <span class="c"># false</span></li></ol></pre></li>
<li><a name="%24version-%3d-%24Collator-%3eversion()"></a><b><code class="inline"><span class="i">$version</span> = <span class="i">$Collator</span><span class="i">-&gt;version</span><span class="s">(</span><span class="s">)</span></code>
</b>
<p>Returns the version number (a string) of the Unicode Standard
which the <code class="inline"><span class="w">table</span></code>
 file used by the collator object is based on.
If the table does not include a version line (starting with <code class="inline"><span class="i">@version</span></code>
),
returns <code class="inline"><span class="q">&quot;unknown&quot;</span></code>
.</p>
</li>
<li><a name="UCA_Version()"></a><b><code class="inline"><span class="i">UCA_Version</span><span class="s">(</span><span class="s">)</span></code>
</b>
<p>Returns the revision number of UTS #10 this module consults,
that should correspond with the DUCET incorporated.</p>
</li>
<li><a name="Base_Unicode_Version()"></a><b><code class="inline"><span class="i">Base_Unicode_Version</span><span class="s">(</span><span class="s">)</span></code>
</b>
<p>Returns the version number of UTS #10 this module consults,
that should correspond with the DUCET incorporated.</p>
</li>
</ul>
<a name="EXPORT"></a><h1>EXPORT</h1>
<p>No method will be exported.</p>
<a name="INSTALL"></a><h1>INSTALL</h1>
<p>Though this module can be used without any <code class="inline"><span class="w">table</span></code>
 file,
to use this module easily, it is recommended to install a table file
in the UCA format, by copying it under the directory
&lt;a place in @INC&gt;/Unicode/Collate.</p>
<p>The most preferable one is "The Default Unicode Collation Element Table"
(aka DUCET), available from the Unicode Consortium's website:</p>
<pre class="verbatim"><ol><li>   http://www.unicode.org/Public/UCA/</li><li></li><li>   http://www.unicode.org/Public/UCA/latest/allkeys.txt (latest version)</li></ol></pre><p>If DUCET is not installed, it is recommended to copy the file
from <a href="http://www.unicode.org/Public/UCA/latest/allkeys.txt">http://www.unicode.org/Public/UCA/latest/allkeys.txt</a>
to &lt;a place in @INC&gt;/Unicode/Collate/allkeys.txt
manually.</p>
<a name="CAVEATS"></a><h1>CAVEATS</h1>
<ul>
<li><a name="Normalization"></a><b>Normalization</b>
<p>Use of the <code class="inline"><span class="w">normalization</span></code>
 parameter requires the <b>Unicode::Normalize</b>
module (see <a href="../Unicode/Normalize.html">Unicode::Normalize</a>).</p>
<p>If you need not it (say, in the case when you need not
handle any combining characters),
assign <code class="inline"><span class="w">normalization</span> <span class="cm">=&gt;</span> <a class="l_k" href="../functions/undef.html">undef</a></code>
 explicitly.</p>
<p>-- see 6.5 Avoiding Normalization, UTS #10.</p>
</li>
<li><a name="Conformance-Test"></a><b>Conformance Test</b>
<p>The Conformance Test for the UCA is available
under <a href="http://www.unicode.org/Public/UCA/">http://www.unicode.org/Public/UCA/</a>.</p>
<p>For <i>CollationTest_SHIFTED.txt</i>,
a collator via <code class="inline"><span class="w">Unicode::Collate</span><span class="w">-&gt;new</span><span class="s">(</span> <span class="s">)</span></code>
 should be used;
for <i>CollationTest_NON_IGNORABLE.txt</i>, a collator via
<code class="inline"><span class="w">Unicode::Collate</span><span class="w">-&gt;new</span><span class="s">(</span><span class="w">variable</span> <span class="cm">=&gt;</span> <span class="q">&quot;non-ignorable&quot;</span><span class="cm">,</span> <span class="w">level</span> <span class="cm">=&gt;</span> <span class="n">3</span><span class="s">)</span></code>
.</p>
<p><b>Unicode::Normalize is required to try The Conformance Test.</b></p>
</li>
</ul>
<a name="AUTHOR%2c-COPYRIGHT-AND-LICENSE"></a><h1>AUTHOR, COPYRIGHT AND LICENSE</h1>
<p>The Unicode::Collate module for perl was written by SADAHIRO Tomoyuki,
&lt;SADAHIRO@cpan.org&gt;. This module is Copyright(C) 2001-2011,
SADAHIRO Tomoyuki. Japan. All rights reserved.</p>
<p>This module is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.</p>
<p>The file Unicode/Collate/allkeys.txt was copied verbatim
from <a href="http://www.unicode.org/Public/UCA/6.0.0/allkeys.txt">http://www.unicode.org/Public/UCA/6.0.0/allkeys.txt</a>.
This file is Copyright (c) 1991-2010 Unicode, Inc. All rights reserved.
Distributed under the Terms of Use in <a href="http://www.unicode.org/copyright.html">http://www.unicode.org/copyright.html</a>.</p>
<a name="SEE-ALSO"></a><h1>SEE ALSO</h1>
<ul>
<li><a name="Unicode-Collation-Algorithm---UTS-%2310"></a><b>Unicode Collation Algorithm - UTS #10</b>
<p><a href="http://www.unicode.org/reports/tr10/">http://www.unicode.org/reports/tr10/</a></p>
</li>
<li><a name="The-Default-Unicode-Collation-Element-Table-(DUCET)"></a><b>The Default Unicode Collation Element Table (DUCET)</b>
<p><a href="http://www.unicode.org/Public/UCA/latest/allkeys.txt">http://www.unicode.org/Public/UCA/latest/allkeys.txt</a></p>
</li>
<li><a name="The-conformance-test-for-the-UCA"></a><b>The conformance test for the UCA</b>
<p><a href="http://www.unicode.org/Public/UCA/latest/CollationTest.html">http://www.unicode.org/Public/UCA/latest/CollationTest.html</a></p>
<p><a href="http://www.unicode.org/Public/UCA/latest/CollationTest.zip">http://www.unicode.org/Public/UCA/latest/CollationTest.zip</a></p>
</li>
<li><a name="Hangul-Syllable-Type"></a><b>Hangul Syllable Type</b>
<p><a href="http://www.unicode.org/Public/UNIDATA/HangulSyllableType.txt">http://www.unicode.org/Public/UNIDATA/HangulSyllableType.txt</a></p>
</li>
<li><a name="Unicode-Normalization-Forms---UAX-%2315"></a><b>Unicode Normalization Forms - UAX #15</b>
<p><a href="http://www.unicode.org/reports/tr15/">http://www.unicode.org/reports/tr15/</a></p>
</li>
<li><a name="Unicode-Locale-Data-Markup-Language-(LDML)---UTS-%2335"></a><b>Unicode Locale Data Markup Language (LDML) - UTS #35</b>
<p><a href="http://www.unicode.org/reports/tr35/">http://www.unicode.org/reports/tr35/</a></p>
</li>
</ul>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Constructor-and-Tailoring">Constructor and Tailoring</a><li><a href="#Methods-for-Collation">Methods for Collation</a><li><a href="#Methods-for-Searching">Methods for Searching</a><li><a href="#Other-Methods">Other Methods</a></ul><li><a href="#EXPORT">EXPORT</a><li><a href="#INSTALL">INSTALL</a><li><a href="#CAVEATS">CAVEATS</a><li><a href="#AUTHOR%2c-COPYRIGHT-AND-LICENSE">AUTHOR, COPYRIGHT AND LICENSE</a><li><a href="#SEE-ALSO">SEE ALSO</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer" style="display: none">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="http://perl.jonallen.info">Jon Allen (JJ)</a><br>
	      See the <a href="http://perl.jonallen.info/projects/perldoc">project page</a> for more details
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="../index-overview.html">Overview</a>
                <li><a href="../index-tutorials.html">Tutorials</a>
                <li><a href="../index-faq.html">FAQs</a>
                <li><a href="../index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="../index-language.html">Language</a>
                <li><a href="../index-functions.html">Functions</a>
                <li><a href="../perlop.html">Operators</a>
                <li><a href="../perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="../index-modules-A.html">Modules</a>
                <li><a href="../index-pragmas.html">Pragmas</a>
                <li><a href="../index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="../index-licence.html">License</a>
                <li><a href="../index-internals.html">Internals</a>
                <li><a href="../index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="../static/exploreperl.js"></script>
      <script language="JavaScript" src="../static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(1);
  perldoc.pageName    = 'Unicode::Collate';
  perldoc.pageAddress = 'Unicode/Collate.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
