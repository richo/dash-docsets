<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Shell - perldoc.perl.org</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta http-equiv="Content-Language" content="en-gb">
  <link rel="search" type="application/opensearchdescription+xml" title="Search perldoc.perl.org" href="/static/search.xml"/>
  <link href="static/css-20100830.css" rel="stylesheet" rev="stylesheet" type="text/css" media="screen">
  <link href="static/exploreperl.css" rel="stylesheet" rev="stylesheet" type="text/css">
</head>

<body onLoad="perldoc.startup();" onPageShow="if (event.persisted) perldoc.startup();">
    <div id="page" style="width:  731px">
      
      <div id="header" style="display: none">
	<div id="homepage_link">
	  <a href="index.html"></a>
	</div>
	<div id="strapline">
	  Perl Programming Documentation
	</div>
	<div id="download_link" class="download">
	  <a href="http://www.perl.org/get.html">Download Perl</a>
	</div>
	<div id="explore_link" class="download">
	  <a id="explore_anchor" href="#">Explore</a>
	</div>
      </div>
      
      <div id="body">
        <div id="left_column" style="display: none">
          <div class="side_group">
            
	    <div class="side_panel doc_panel">
              <p>Manual</p>
              <ul>
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">History / Changes</a>
                <li><a href="index-licence.html">License</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Reference</p>
              <ul>
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Special Variables</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platform Specific</a>
              </ul>
            </div>
            <div class="side_panel doc_panel">
              <p>Modules</p>
              <ul>
		<li>
		
                
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		    
		  
		
                  
		
                  
		
                  
		    
		  
		
                  
		
                  
		
		
                    <a href="index-modules-A.html">A</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-B.html">B</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-C.html">C</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-D.html">D</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-E.html">E</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-F.html">F</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-G.html">G</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-H.html">H</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-I.html">I</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-L.html">L</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-M.html">M</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-N.html">N</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-O.html">O</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-P.html">P</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-S.html">S</a>
                    
                      
                        <li>
                      
                    
                
                    <a href="index-modules-T.html">T</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-U.html">U</a>
                    
                      
                        &bull;
                      
                    
                
                    <a href="index-modules-X.html">X</a>
                    
                
              </ul>
            </div>
            
	      <div class="side_panel doc_panel">
		<p>Tools</p>
		<ul>
		  <li><a href="preferences.html">Preferences</a>
		</ul>
	      </div>
            
          </div>
        </div>
        <div id="centre_column" style="margin-left: 0px; margin-right: 0px">
          <div id="content_header" style="display: none">
            <div id="title_bar">
              <div id="page_name">
                <h1>Shell</h1>
              </div>
              <div id="perl_version">
                Perl 5 version 14.0 documentation
              </div>
              <div class="page_links" id="page_links_top">
                <a href="#" onClick="toolbar.goToTop();return false;">Go to top</a>
		
              </div>
	      <div class="page_links" id="page_links_bottom">
		
                  <a href="#" id="page_index_toggle">Show page index</a> &bull;
		
                <a href="#" id="recent_pages_toggle">Show recent pages</a>		
	      </div>
	      <div id="search_form">
		<form action="search.html" method="GET" id="search">
		  <input type="text" name="q" id="search_box" alt="Search">
		</form>
	      </div>
            </div>
            <div id="breadcrumbs">
                
    <a href="index.html">Home</a> &gt;
    
      
        <a href="index-modules-S.html">Core modules (S)</a> &gt;
      
    
    Shell
  

            </div>
          </div>
          <div id="content_body" style="font-size:100%">
	    <!--[if lt IE 7]>
 <div class="noscript">
   <p>
     <strong>It looks like you're using Internet Explorer 6. This is a very old
     browser which does not offer full support for modern websites.</strong>
   </p>
   <p>
     Unfortunately this means that this website will not work on
     your computer.
   </p>
   <p>
     Don't miss out though! To view the site (and get a better experience from
     many other websites), simply upgrade to
     <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet
Explorer 8</a>
     or download an alternative browser such as
     <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>,
     <a href="http://www.apple.com/safari/download/">Safari</a>, or
     <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
   </p>
   <p>
     All of these browsers are free. If you're using a PC at work, you may
     need to contact your IT administrator.
   </p>
 </div>
<![endif]-->
	    <noscript>
	      <div class="noscript">
	      <p>
                <strong>Please note: Many features of this site require JavaScript. You appear to have JavaScript disabled,
	        or are running a non-JavaScript capable web browser.</strong>
	      </p>
	      <p>
		To get the best experience, please enable JavaScript or download a modern web browser such as <a href="http://www.microsoft.com/windows/Internet-explorer/default.aspx">Internet Explorer 8</a>, <a href="http://www.mozilla.com/en-US/firefox/firefox.html">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a>, or <a href="http://www.google.co.uk/chrome">Google Chrome</a>.
              </p>
	      </div>
	    </noscript>

	    <div id="recent_pages" class="hud_container">
	      <div id="recent_pages_header" class="hud_header">
		<div id="recent_pages_close" class="hud_close"><a href="#" onClick="recentPages.hide();return false;"></a></div>
		<div id="recent_pages_title" class="hud_title"><span class="hud_span_top">Recently read</span></div>
		<div id="recent_pages_topright" class="hud_topright"></div>
	      </div>
	      <div id="recent_pages_content" class="hud_content">
	      </div>
	      <div id="recent_pages_footer" class="hud_footer">
		<div id="recent_pages_bottomleft" class="hud_bottomleft"></div>
		<div id="recent_pages_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
		<div id="recent_pages_resize" class="hud_resize"></div>
	      </div>
	    </div>
  
	    <div id="from_search"></div>
            <h1>Shell</h1>


  <!--    -->
<ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Caveats">Caveats</a><li><a href="#Escaping-Magic-Characters">Escaping Magic Characters</a><li><a href="#Configuration">Configuration</a></ul><li><a href="#BUGS">BUGS</a><li><a href="#AUTHOR">AUTHOR</a></ul><a name="NAME"></a><h1>NAME</h1>
<p>Shell - run shell commands transparently within perl</p>
<a name="SYNOPSIS"></a><h1>SYNOPSIS</h1>
<pre class="verbatim"><ol><li>   <a class="l_k" href="functions/use.html">use</a> <span class="w">Shell</span> <span class="q">qw(cat ps cp)</span><span class="sc">;</span></li><li>   <span class="i">$passwd</span> = <span class="i">cat</span><span class="s">(</span><span class="q">&#39;&lt;/etc/passwd&#39;</span><span class="s">)</span><span class="sc">;</span></li><li>   <span class="i">@pslines</span> = <span class="i">ps</span><span class="s">(</span><span class="q">&#39;-ww&#39;</span><span class="s">)</span><span class="cm">,</span></li><li>   <span class="i">cp</span><span class="s">(</span><span class="q">&quot;/etc/passwd&quot;</span><span class="cm">,</span> <span class="q">&quot;/tmp/passwd&quot;</span><span class="s">)</span><span class="sc">;</span></li><li></li><li>   <span class="c"># object oriented </span></li><li>   <a class="l_k" href="functions/my.html">my</a> <span class="i">$sh</span> = <span class="w">Shell</span><span class="w">-&gt;new</span><span class="sc">;</span></li><li>   <a class="l_k" href="functions/print.html">print</a> <span class="i">$sh</span><span class="i">-&gt;ls</span><span class="s">(</span><span class="q">&#39;-l&#39;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><a name="DESCRIPTION"></a><h1>DESCRIPTION</h1>
<a name="Caveats"></a><h2>Caveats</h2>
<p>This package is included as a show case, illustrating a few Perl features.
It shouldn't be used for production programs. Although it does provide a 
simple interface for obtaining the standard output of arbitrary commands,
there may be better ways of achieving what you need.</p>
<p>Running shell commands while obtaining standard output can be done with the
<code class="inline"><a class="l_k" href="functions/qx.html">qx/STRING/</a></code> operator, or by calling <code class="inline"><a class="l_k" href="functions/open.html">open</a></code> with a filename expression that
ends with <code class="inline">|</code>, giving you the option to process one line at a time.
If you don't need to process standard output at all, you might use <code class="inline"><a class="l_k" href="functions/system.html">system</a></code>
(in preference of doing a print with the collected standard output).</p>
<p>Since Shell.pm and all of the aforementioned techniques use your system's
shell to call some local command, none of them is portable across different 
systems. Note, however, that there are several built in functions and 
library packages providing portable implementations of functions operating
on files, such as: <code class="inline"><a class="l_k" href="functions/glob.html">glob</a></code>, <code class="inline"><a class="l_k" href="functions/link.html">link</a></code> and <code class="inline"><a class="l_k" href="functions/unlink.html">unlink</a></code>, <code class="inline"><a class="l_k" href="functions/mkdir.html">mkdir</a></code> and <code class="inline"><a class="l_k" href="functions/rmdir.html">rmdir</a></code>, 
<code class="inline"><a class="l_k" href="functions/rename.html">rename</a></code>, <code class="inline"><span class="w">File::Compare</span></code>
, <code class="inline"><span class="w">File::Copy</span></code>
, <code class="inline"><span class="w">File::Find</span></code>
 etc.</p>
<p>Using Shell.pm while importing <code class="inline"><span class="w">foo</span></code>
 creates a subroutine <code class="inline"><span class="w">foo</span></code>
 in the
namespace of the importing package. Calling <code class="inline"><span class="w">foo</span></code>
 with arguments <code class="inline"><span class="w">arg1</span></code>
,
<code class="inline"><span class="w">arg2</span></code>
,... results in a shell command <code class="inline"><span class="w">foo</span> <span class="w">arg1</span> <span class="w">arg2</span>...</code>
, where the 
function name and the arguments are joined with a blank. (See the subsection 
on Escaping magic characters.) Since the result is essentially a command
line to be passed to the shell, your notion of arguments to the Perl
function is not necessarily identical to what the shell treats as a
command line token, to be passed as an individual argument to the program.
Furthermore, note that this implies that <code class="inline"><span class="w">foo</span></code>
 is callable by file name
only, which frequently depends on the setting of the program's environment.</p>
<p>Creating a Shell object gives you the opportunity to call any command
in the usual OO notation without requiring you to announce it in the
<code class="inline"><a class="l_k" href="functions/use.html">use</a> <span class="w">Shell</span></code>
 statement. Don't assume any additional semantics being
associated with a Shell object: in no way is it similar to a shell
process with its environment or current working directory or any
other setting.</p>
<a name="Escaping-Magic-Characters"></a><h2>Escaping Magic Characters</h2>
<p>It is, in general, impossible to take care of quoting the shell's
magic characters. For some obscure reason, however, Shell.pm quotes
apostrophes (<code class="inline">'</code>) and backslashes (<code class="inline">\</code>
) on UNIX, and spaces and
quotes (<code class="inline">"</code>) on Windows.</p>
<a name="Configuration"></a><h2>Configuration</h2>
<p>If you set $Shell::capture_stderr to 1, the module will attempt to
capture the standard error output of the process as well. This is
done by adding <code class="inline"><span class="n">2</span>&gt;<span class="i">&amp;1</span></code>
 to the command line, so don't try this on
a system not supporting this redirection.</p>
<p>Setting $Shell::capture_stderr to -1 will send standard error to the
bit bucket (i.e., the equivalent of adding <code class="inline">2&gt;/dev/null</code> to the
command line).  The same caveat regarding redirection applies.</p>
<p>If you set $Shell::raw to true no quoting whatsoever is done.</p>
<a name="BUGS"></a><h1>BUGS</h1>
<p>Quoting should be off by default.</p>
<p>It isn't possible to call shell built in commands, but it can be
done by using a workaround, e.g. shell( '-c', 'set' ).</p>
<p>Capturing standard error does not work on some systems (e.g. VMS).</p>
<a name="AUTHOR"></a><h1>AUTHOR</h1>
<pre class="verbatim"><ol><li>  Date: Thu, 22 Sep 94 16:18:16 -0700</li><li>  Message-Id: &lt;9409222318.AA17072@scalpel.netlabs.com&gt;</li><li>  To: perl5-porters@isu.edu</li><li>  From: Larry Wall &lt;lwall@scalpel.netlabs.com&gt;</li><li>  Subject: a new module I just wrote</li></ol></pre><p>Here's one that'll whack your mind a little out.</p>
<pre class="verbatim"><ol><li>    <span class="c">#!/usr/bin/perl</span></li><li></li><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">Shell</span><span class="sc">;</span></li><li></li><li>    <span class="i">$foo</span> = <span class="i">echo</span><span class="s">(</span><span class="q">&quot;howdy&quot;</span><span class="cm">,</span> <span class="q">&quot;&lt;funny&gt;&quot;</span><span class="cm">,</span> <span class="q">&quot;world&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="i">$foo</span><span class="sc">;</span></li><li></li><li>    <span class="i">$passwd</span> = <span class="i">cat</span><span class="s">(</span><span class="q">&quot;&lt;/etc/passwd&quot;</span><span class="s">)</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="i">$passwd</span><span class="sc">;</span></li><li></li><li>    sub <span class="m">ps</span><span class="sc">;</span></li><li>    <a class="l_k" href="functions/print.html">print</a> <span class="i">ps</span> -<span class="w">ww</span><span class="sc">;</span></li><li></li><li>    <span class="i">cp</span><span class="s">(</span><span class="q">&quot;/etc/passwd&quot;</span><span class="cm">,</span> <span class="q">&quot;/etc/passwd.orig&quot;</span><span class="s">)</span><span class="sc">;</span></li></ol></pre><p>That's maybe too gonzo.  It actually exports an AUTOLOAD to the current
package (and uncovered a bug in Beta 3, by the way).  Maybe the usual
usage should be</p>
<pre class="verbatim"><ol><li>    <a class="l_k" href="functions/use.html">use</a> <span class="w">Shell</span> <span class="q">qw(echo cat ps cp)</span><span class="sc">;</span></li></ol></pre><p>Larry Wall</p>
<p>Changes by Jenda@Krynicky.cz and Dave Cottle &lt;d.cottle@csc.canterbury.ac.nz&gt;.</p>
<p>Changes for OO syntax and bug fixes by Casey West &lt;casey@geeknest.com&gt;.</p>
<p><code class="inline"><span class="i">$Shell::raw</span></code>
 and pod rewrite by Wolfgang Laun.</p>
<p>Rewritten to use closures rather than <code class="inline"><a class="l_k" href="functions/eval.html">eval</a> <span class="q">&quot;string&quot;</span></code>
 by Adriano Ferreira.</p>




  <div id="page_index" class="hud_container">
    <div id="page_index_header" class="hud_header">
      <div id="page_index_close" class="hud_close"><a href="#" onClick="pageIndex.hide();return false;"></a></div>
      <div id="page_index_title" class="hud_title"><span class="hud_span_top">Page index</span></div>
      <div id="page_index_topright" class="hud_topright"></div>
    </div>
    <div id="page_index_content" class="hud_content">
      <ul><li><a href="#NAME">NAME</a><li><a href="#SYNOPSIS">SYNOPSIS</a><li><a href="#DESCRIPTION">DESCRIPTION</a><ul><li><a href="#Caveats">Caveats</a><li><a href="#Escaping-Magic-Characters">Escaping Magic Characters</a><li><a href="#Configuration">Configuration</a></ul><li><a href="#BUGS">BUGS</a><li><a href="#AUTHOR">AUTHOR</a></ul>
    </div>
    <div id="page_index_footer" class="hud_footer">
      <div id="page_index_bottomleft" class="hud_bottomleft"></div>
      <div id="page_index_bottom" class="hud_bottom"><span class="hud_span_bottom"></span></div>
      <div id="page_index_resize" class="hud_resize"></div>
    </div>
  </div>


	    &nbsp;
          </div>
          <div id="content_footer">
          </div>
        </div>
        <div class="clear"></div>
      </div>
      
    <div id="footer" style="display: none">
      <div id="footer_content">
        <div id="footer_strapline">
          perldoc.perl.org - Official documentation for the Perl programming language
        </div>
        <div id="footer_links">
          <div id="address">
            <p class="name">Contact details</p>
            <p class="address">
	      Site maintained by <a href="http://perl.jonallen.info">Jon Allen (JJ)</a><br>
	      See the <a href="http://perl.jonallen.info/projects/perldoc">project page</a> for more details
	    </p>
            <p class="contact">
              Documentation maintained by the <a href="http://lists.cpan.org/showlist.cgi?name=perl5-porters">Perl 5 Porters</a>
            </p>
          </div>
          <ul class="f1">
            <li>Manual
              <ul class="f2">
                <li><a href="index-overview.html">Overview</a>
                <li><a href="index-tutorials.html">Tutorials</a>
                <li><a href="index-faq.html">FAQs</a>
                <li><a href="index-history.html">Changes</a>
              </ul>
            <li>Reference
              <ul class="f2">
                <li><a href="index-language.html">Language</a>
                <li><a href="index-functions.html">Functions</a>
                <li><a href="perlop.html">Operators</a>
                <li><a href="perlvar.html">Variables</a>
              </ul>
            <li>Modules
              <ul class="f2">
                <li><a href="index-modules-A.html">Modules</a>
                <li><a href="index-pragmas.html">Pragmas</a>
                <li><a href="index-utilities.html">Utilities</a>
              </ul>
            <li>Misc
              <ul class="f2">
                <li><a href="index-licence.html">License</a>
                <li><a href="index-internals.html">Internals</a>
                <li><a href="index-platforms.html">Platforms</a>
              </ul>          </ul>
          <div class="clear"></div>
        </div>
      </div>
      <div id="footer_end">
      </div>
    </div>
      
    </div>
      <script language="JavaScript" type="text/javascript" src="static/exploreperl.js"></script>
      <script language="JavaScript" src="static/combined-20100403.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
  perldoc.setPath(0);
  perldoc.pageName    = 'Shell';
  perldoc.pageAddress = 'Shell.html';
  perldoc.contentPage = 1;
  explorePerl.render();
  explorePerl.addEvents('explore_anchor');
</script>
    
  </body>
</html>
