<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <!-- RD version: 0.9.4  -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  <title>Class: Logger (Ruby 1.9.2) </title>
  <!-- raw_prefix  = '.'   -->
  <link rel="stylesheet" href="css/obf.css" >

  <script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="js/rubydoc.js" type="text/javascript" charset="utf-8"></script> 

 
<script src="js/highlight.min.js"></script>
<script> 
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script> 
</head>

<body id="top" class="class">
<div id="actionbar" style='display:none' >
<div class='wrapper'>
<ul class='grids g0'>
  <li class='grid-2' ><a href='/' target='_top' >Home</a></li>
  <li class='grid-2' ><a href='/core' target='_top' >Core</a></li>
  <li class='grid-2' ><a href='/stdlib' target='_top' >Std-lib</a></li>
  <li class='grid-2' ><a href='/downloads' target='_top' >Downloads</a></li>
  <li class='grid-7 right' id='rd-action-search'><form id="searchbox_011815814100681837392:wnccv6st5qk" action="/search.html"><input type="hidden" name="cx" value="011815814100681837392:wnccv6st5qk" ><input name="q" type="text" size="20" >&#160;&#160;<input type="submit" name="sa" value="Search" ><input type="hidden" name="cof" value="FORID:9" ></form>
</li>
</ul>
</div>
</div> <!-- end action bar -->
          <div class='wrapper'>
  <div id="metadata" style='display:none'>
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="index.html">Home</a>
          <a href="index.html#classes">Classes</a>
          <a href="index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="logger_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="logger.rb">logger.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      
      <!-- Namespace Contents -->
      <div id="namespace-list-section" class="section">
        <h3 class="section-header">Namespace</h3>
        <ul class="link-list">
          
          <li><span class="type">MODULE</span> <a href="Logger/Severity.html">Logger::Severity</a></li>
          
          <li><span class="type">CLASS</span> <a href="Logger/Application.html">Logger::Application</a></li>
          
          <li><span class="type">CLASS</span> <a href="Logger/Error.html">Logger::Error</a></li>
          
          <li><span class="type">CLASS</span> <a href="Logger/Formatter.html">Logger::Formatter</a></li>
          
          <li><span class="type">CLASS</span> <a href="Logger/LogDevice.html">Logger::LogDevice</a></li>
          
          <li><span class="type">CLASS</span> <a href="Logger/ShiftingError.html">Logger::ShiftingError</a></li>
          
        </ul>
      </div>
      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-3C-3C">#<<</a></li>
          
          <li><a href="#method-i-add">#add</a></li>
          
          <li><a href="#method-i-close">#close</a></li>
          
          <li><a href="#method-i-datetime_format">#datetime_format</a></li>
          
          <li><a href="#method-i-datetime_format-3D">#datetime_format=</a></li>
          
          <li><a href="#method-i-debug">#debug</a></li>
          
          <li><a href="#method-i-debug-3F">#debug?</a></li>
          
          <li><a href="#method-i-error">#error</a></li>
          
          <li><a href="#method-i-error-3F">#error?</a></li>
          
          <li><a href="#method-i-fatal">#fatal</a></li>
          
          <li><a href="#method-i-fatal-3F">#fatal?</a></li>
          
          <li><a href="#method-i-info">#info</a></li>
          
          <li><a href="#method-i-info-3F">#info?</a></li>
          
          <li><a href="#method-i-log">#log</a></li>
          
          <li><a href="#method-i-unknown">#unknown</a></li>
          
          <li><a href="#method-i-warn">#warn</a></li>
          
          <li><a href="#method-i-warn-3F">#warn?</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><a class="include" href="Logger/Severity.html">Logger::Severity</a></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="Logger.html">Logger</a></li>
        
          <li><a href="Logger/Application.html">Logger::Application</a></li>
        
          <li><a href="Logger/Error.html">Logger::Error</a></li>
        
          <li><a href="Logger/Formatter.html">Logger::Formatter</a></li>
        
          <li><a href="Logger/LogDevice.html">Logger::LogDevice</a></li>
        
          <li><a href="Logger/LogDevice/LogDeviceMutex.html">Logger::LogDevice::LogDeviceMutex</a></li>
        
          <li><a href="Logger/Severity.html">Logger::Severity</a></li>
        
          <li><a href="Logger/ShiftingError.html">Logger::ShiftingError</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation" style='margin: 10px 10px 10px 10px'>
    <h1 class="class">Logger</h1>

    <div id="description" class="description">
      
<h2>Description</h2>

<p>The <a href="Logger.html">Logger</a> class provides a simple but
sophisticated logging utility that anyone can use because it’s included in
the Ruby 1.8.x standard library.</p>

<p>The HOWTOs below give a code-based overview of Logger’s usage, but the
basic concept is as follows.  You create a <a href="Logger.html">Logger</a>
object (output to a file or elsewhere), and use it to log messages.  The
messages will have varying levels (<tt>info</tt>, <tt>error</tt>, etc),
reflecting their varying importance.  The levels, and their meanings, are:</p>
<table class="rdoc-list"><tr><td class="rdoc-term"><p><tt>FATAL</tt></p></td>
<td>
<p>an unhandleable error that results in a program crash</p>
</td></tr><tr><td class="rdoc-term"><p><tt>ERROR</tt></p></td>
<td>
<p>a handleable error condition</p>
</td></tr><tr><td class="rdoc-term"><p><tt>WARN</tt></p></td>
<td>
<p>a warning</p>
</td></tr><tr><td class="rdoc-term"><p><tt>INFO</tt></p></td>
<td>
<p>generic (useful) information about system operation</p>
</td></tr><tr><td class="rdoc-term"><p><tt>DEBUG</tt></p></td>
<td>
<p>low-level information for developers</p>
</td></tr></table>

<p>So each message has a level, and the <a href="Logger.html">Logger</a>
itself has a level, which acts as a filter, so you can control the amount
of information emitted from the logger without having to remove actual
messages.</p>

<p>For instance, in a production system, you may have your logger(s) set to
<tt>INFO</tt> (or <tt>WARN</tt> if you don’t want the log files growing
large with repetitive information).  When you are developing it, though,
you probably want to know about the program’s internal state, and would set
them to <tt>DEBUG</tt>.</p>

<h3>Example</h3>

<p>A simple example demonstrates the above explanation:</p>

<pre>log = Logger.new(STDOUT)
log.level = Logger::WARN

log.debug(&quot;Created logger&quot;)
log.info(&quot;Program started&quot;)
log.warn(&quot;Nothing to do!&quot;)

begin
  File.each_line(path) do |line|
    unless line =~ /^(\w+) = (.*)$/
      log.error(&quot;Line in wrong format: #{line}&quot;)
    end
  end
rescue =&gt; err
  log.fatal(&quot;Caught exception; exiting&quot;)
  log.fatal(err)
end</pre>

<p>Because the Logger’s level is set to <tt>WARN</tt>, only the warning,
error, and fatal messages are recorded.  The debug and info messages are
silently discarded.</p>

<h3>Features</h3>

<p>There are several interesting features that <a
href="Logger.html">Logger</a> provides, like auto-rolling of log files,
setting the format of log messages, and specifying a program name in
conjunction with the message.  The next section shows you how to achieve
these things.</p>

<h2>HOWTOs</h2>

<h3>How to create a logger</h3>

<p>The options below give you various choices, in more or less increasing
complexity.</p>
<ol><li>
<p>Create a logger which logs messages to STDERR/STDOUT.</p>

<pre>logger = Logger.new(STDERR)
logger = Logger.new(STDOUT)</pre>
</li><li>
<p>Create a logger for the file which has the specified name.</p>

<pre>logger = Logger.new('logfile.log')</pre>
</li><li>
<p>Create a logger for the specified file.</p>

<pre>file = File.open('foo.log', File::WRONLY | File::APPEND)
# To create new (and to remove old) logfile, add File::CREAT like;
#   file = open('foo.log', File::WRONLY | File::APPEND | File::CREAT)
logger = Logger.new(file)</pre>
</li><li>
<p>Create a logger which ages logfile once it reaches a certain size.  Leave
10 “old log files” and each file is about 1,024,000 bytes.</p>

<pre>logger = Logger.new('foo.log', 10, 1024000)</pre>
</li><li>
<p>Create a logger which ages logfile daily/weekly/monthly.</p>

<pre>logger = Logger.new('foo.log', 'daily')
logger = Logger.new('foo.log', 'weekly')
logger = Logger.new('foo.log', 'monthly')</pre>
</li></ol>

<h3>How to log a message</h3>

<p>Notice the different methods (<tt>fatal</tt>, <tt>error</tt>,
<tt>info</tt>) being used to log messages of various levels.  Other methods
in this family are <tt>warn</tt> and <tt>debug</tt>.  <tt>add</tt> is used
below to log a message of an arbitrary (perhaps dynamic) level.</p>
<ol><li>
<p>Message in block.</p>

<pre>logger.fatal { &quot;Argument 'foo' not given.&quot; }</pre>
</li><li>
<p>Message as a string.</p>

<pre>logger.error &quot;Argument #{ @foo } mismatch.&quot;</pre>
</li><li>
<p>With progname.</p>

<pre>logger.info('initialize') { &quot;Initializing...&quot; }</pre>
</li><li>
<p>With severity.</p>

<pre>logger.add(Logger::FATAL) { 'Fatal error!' }</pre>
</li></ol>

<h3>How to close a logger</h3>

<pre>logger.close</pre>

<h3>Setting severity threshold</h3>
<ol><li>
<p>Original interface.</p>

<pre>logger.sev_threshold = Logger::WARN</pre>
</li><li>
<p>Log4r (somewhat) compatible interface.</p>

<pre>logger.level = Logger::INFO

DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATAL &lt; UNKNOWN</pre>
</li></ol>

<h2>Format</h2>

<p>Log messages are rendered in the output stream in a certain format by
default.  The default format and a sample are shown below:</p>

<p>Log format:</p>

<pre>SeverityID, [Date Time mSec #pid] SeverityLabel -- ProgName: message</pre>

<p>Log sample:</p>

<pre>I, [Wed Mar 03 02:34:24 JST 1999 895701 #19074]  INFO -- Main: info.</pre>

<p>You may change the date and time format in this manner:</p>

<pre>logger.datetime_format = &quot;%Y-%m-%d %H:%M:%S&quot;
      # e.g. &quot;2004-01-03 00:54:26&quot;</pre>

<p>You may change the overall format with <a
href="Logger.html#attribute-i-formatter">Logger#formatter=</a> method.</p>

<pre>logger.formatter = proc { |severity, datetime, progname, msg|
  &quot;#{datetime}: #{msg}\n&quot;
}
      # e.g. &quot;Thu Sep 22 08:51:08 GMT+9:00 2005: hello world&quot;</pre>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="ProgName">ProgName</a></dt>
          
          <dd class="description"></dd>
          
        
          <dt><a name="SEV_LABEL">SEV_LABEL</a></dt>
          
          <dd class="description"><p><a href="Logger/Severity.html">Severity</a> label for logging. (max 5 char)</p></dd>
          
        
          <dt><a name="VERSION">VERSION</a></dt>
          
          <dd class="description"></dd>
          
        
        </dl>
      </div>
      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="formatter-attribute-method" class="method-detail">
          <a name="formatter"></a>
          
          <a name="formatter="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">formatter</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Logging formatter.  formattercall is invoked with 4 arguments; severity,
time, progname and msg for each log.  Bear in mind that time is a Time and
msg is an Object that user passed and it could not be a String.  It is
expected to return a logdevwrite-able Object.  Default formatter is used
when no formatter is set.</p>
          
          </div>
        </div>
        
        <div id="level-attribute-method" class="method-detail">
          <a name="level"></a>
          
          <a name="level="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">level</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Logging severity threshold (e.g. <tt>Logger::INFO</tt>).</p>
          
          </div>
        </div>
        
        <div id="progname-attribute-method" class="method-detail">
          <a name="progname"></a>
          
          <a name="progname="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">progname</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Logging program name.</p>
          
          </div>
        </div>
        
        <div id="sev_threshold-attribute-method" class="method-detail">
          <a name="sev_threshold"></a>
          
          <a name="sev_threshold="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">sev_threshold</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Logging severity threshold (e.g. <tt>Logger::INFO</tt>).</p>
          
          </div>
        </div>
        
        <div id="sev_threshold-3D-attribute-method" class="method-detail">
          <a name="sev_threshold="></a>
          
          <a name="sev_threshold=="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">sev_threshold=</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Logging severity threshold (e.g. <tt>Logger::INFO</tt>).</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(logdev, shift_age = 0, shift_size = 1048576)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <h3>Synopsis</h3>

<pre>Logger.new(name, shift_age = 7, shift_size = 1048576)
Logger.new(name, shift_age = 'weekly')</pre>

<h3>Args</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p><tt>logdev</tt></p></td>
<td>
<p>The log device.  This is a filename (String) or IO object (typically
<tt>STDOUT</tt>, <tt>STDERR</tt>, or an open file).</p>
</td></tr><tr><td class="rdoc-term"><p><tt>shift_age</tt></p></td>
<td>
<p>Number of old log files to keep, <b>or</b> frequency of rotation
(<tt>daily</tt>, <tt>weekly</tt> or <tt>monthly</tt>).</p>
</td></tr><tr><td class="rdoc-term"><p><tt>shift_size</tt></p></td>
<td>
<p>Maximum logfile size (only applies when <tt>shift_age</tt> is a number).</p>
</td></tr></table>

<h3>Description</h3>

<p>Create an instance.</p>
            

            
            <div class="method-source-code" id="new-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 268</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">logdev</span>, <span class="ruby-identifier">shift_age</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">shift_size</span> = <span class="ruby-value">1048576</span>)
  <span class="ruby-ivar">@progname</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@level</span> = <span class="ruby-constant">DEBUG</span>
  <span class="ruby-ivar">@default_formatter</span> = <span class="ruby-constant">Formatter</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-ivar">@formatter</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@logdev</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">logdev</span>
    <span class="ruby-ivar">@logdev</span> = <span class="ruby-constant">LogDevice</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">logdev</span>, <span class="ruby-value">:shift_age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">shift_age</span>,
      <span class="ruby-value">:shift_size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">shift_size</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="3C-3C-method" class="method-detail ">
          <a name="method-i-3C-3C"></a>

          
          <div class="method-heading">
            <span class="method-name">&lt;&lt;</span><span
              class="method-args">(msg)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Dump given message to the log device without any formatting.  If no log
device exists, return <tt>nil</tt>.</p>
            

            
            <div class="method-source-code" id="3C-3C-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 348</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;&lt;</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@logdev</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@logdev</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- 3C-3C-source -->
            
          </div>

          

          
        </div><!-- 3C-3C-method -->

      
        <div id="add-method" class="method-detail ">
          <a name="method-i-add"></a>

          
          <div class="method-heading">
            <span class="method-name">add</span><span
              class="method-args">(severity, message = nil, progname = nil, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <h3>Synopsis</h3>

<pre>Logger#add(severity, message = nil, progname = nil) { ... }</pre>

<h3>Args</h3>
<table class="rdoc-list"><tr><td class="rdoc-term"><p><tt>severity</tt></p></td>
<td>
<p><a href="Logger/Severity.html">Severity</a>.  Constants are defined in <a
href="Logger.html">Logger</a> namespace: <tt>DEBUG</tt>, <tt>INFO</tt>,
<tt>WARN</tt>, <tt>ERROR</tt>, <tt>FATAL</tt>, or <tt>UNKNOWN</tt>.</p>
</td></tr><tr><td class="rdoc-term"><p><tt>message</tt></p></td>
<td>
<p>The log message.  A String or Exception.</p>
</td></tr><tr><td class="rdoc-term"><p><tt>progname</tt></p></td>
<td>
<p>Program name string.  Can be omitted.  Treated as a message if no
<tt>message</tt> and <tt>block</tt> are given.</p>
</td></tr><tr><td class="rdoc-term"><p><tt>block</tt></p></td>
<td>
<p>Can be omitted.  Called to get a message string if <tt>message</tt> is nil.</p>
</td></tr></table>

<h3>Return</h3>

<p><tt>true</tt> if successful, <tt>false</tt> otherwise.</p>

<p>When the given severity is not high enough (for this particular logger),
log no message, and return <tt>true</tt>.</p>

<h3>Description</h3>

<p>Log a message if the given severity is high enough.  This is the generic
logging method.  Users will be more inclined to use <a
href="Logger.html#method-i-debug">debug</a>, <a
href="Logger.html#method-i-info">info</a>, <a
href="Logger.html#method-i-warn">warn</a>, <a
href="Logger.html#method-i-error">error</a>, and <a
href="Logger.html#method-i-fatal">fatal</a>.</p>

<p><b>Message format</b>: <tt>message</tt> can be any object, but it has to be
converted to a String in order to log it.  Generally, <tt>inspect</tt> is
used if the given object is not a String. A special case is an
<tt>Exception</tt> object, which will be printed in detail, including
message, class, and backtrace.  See msg2str for the implementation if
required.</p>

<h3>Bugs</h3>
<ul><li>
<p>Logfile is not locked.</p>
</li><li>
<p>Append open does not need to lock file.</p>
</li><li>
<p>But on the OS which supports multi I/O, records possibly be mixed.</p>
</li></ul>
            

            
            <div class="method-source-code" id="add-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 324</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-identifier">severity</span>, <span class="ruby-identifier">message</span> = <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">severity</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">UNKNOWN</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@logdev</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">severity</span> <span class="ruby-operator">&lt;</span> <span class="ruby-ivar">@level</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">progname</span> <span class="ruby-operator">||=</span> <span class="ruby-ivar">@progname</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">message</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span>
      <span class="ruby-identifier">message</span> = <span class="ruby-keyword">yield</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">message</span> = <span class="ruby-identifier">progname</span>
      <span class="ruby-identifier">progname</span> = <span class="ruby-ivar">@progname</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@logdev</span>.<span class="ruby-identifier">write</span>(
    <span class="ruby-identifier">format_message</span>(<span class="ruby-identifier">format_severity</span>(<span class="ruby-identifier">severity</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>, <span class="ruby-identifier">progname</span>, <span class="ruby-identifier">message</span>))
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- add-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Logger.html#method-i-log">log</a>
          </div>
          

          
        </div><!-- add-method -->

      
        <div id="close-method" class="method-detail ">
          <a name="method-i-close"></a>

          
          <div class="method-heading">
            <span class="method-name">close</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Close the logging device.</p>
            

            
            <div class="method-source-code" id="close-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 429</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">close</span>
  <span class="ruby-ivar">@logdev</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@logdev</span>
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- close-source -->
            
          </div>

          

          
        </div><!-- close-method -->

      
        <div id="datetime_format-method" class="method-detail ">
          <a name="method-i-datetime_format"></a>

          
          <div class="method-heading">
            <span class="method-name">datetime_format</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="datetime_format-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 213</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">datetime_format</span>
  <span class="ruby-ivar">@default_formatter</span>.<span class="ruby-identifier">datetime_format</span>
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- datetime_format-source -->
            
          </div>

          

          
        </div><!-- datetime_format-method -->

      
        <div id="datetime_format-3D-method" class="method-detail ">
          <a name="method-i-datetime_format-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">datetime_format=</span><span
              class="method-args">(datetime_format)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Logging date-time format (string passed to <tt>strftime</tt>).</p>
            

            
            <div class="method-source-code" id="datetime_format-3D-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 209</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">datetime_format=</span>(<span class="ruby-identifier">datetime_format</span>)
  <span class="ruby-ivar">@default_formatter</span>.<span class="ruby-identifier">datetime_format</span> = <span class="ruby-identifier">datetime_format</span>
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- datetime_format-3D-source -->
            
          </div>

          

          
        </div><!-- datetime_format-3D-method -->

      
        <div id="debug-method" class="method-detail ">
          <a name="method-i-debug"></a>

          
          <div class="method-heading">
            <span class="method-name">debug</span><span
              class="method-args">(progname = nil, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Log a <tt>DEBUG</tt> message.</p>

<p>See <a href="Logger.html#method-i-info">info</a> for more information.</p>
            

            
            <div class="method-source-code" id="debug-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 359</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">debug</span>(<span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">add</span>(<span class="ruby-constant">DEBUG</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">progname</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- debug-source -->
            
          </div>

          

          
        </div><!-- debug-method -->

      
        <div id="debug-3F-method" class="method-detail ">
          <a name="method-i-debug-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">debug?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns <tt>true</tt> iff the current severity level allows for the
printing of <tt>DEBUG</tt> messages.</p>
            

            
            <div class="method-source-code" id="debug-3F-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 229</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">debug?</span>; <span class="ruby-ivar">@level</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-constant">DEBUG</span>; <span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- debug-3F-source -->
            
          </div>

          

          
        </div><!-- debug-3F-method -->

      
        <div id="error-method" class="method-detail ">
          <a name="method-i-error"></a>

          
          <div class="method-heading">
            <span class="method-name">error</span><span
              class="method-args">(progname = nil, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Log an <tt>ERROR</tt> message.</p>

<p>See <a href="Logger.html#method-i-info">info</a> for more information.</p>
            

            
            <div class="method-source-code" id="error-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 403</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">error</span>(<span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">add</span>(<span class="ruby-constant">ERROR</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">progname</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- error-source -->
            
          </div>

          

          
        </div><!-- error-method -->

      
        <div id="error-3F-method" class="method-detail ">
          <a name="method-i-error-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">error?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns <tt>true</tt> iff the current severity level allows for the
printing of <tt>ERROR</tt> messages.</p>
            

            
            <div class="method-source-code" id="error-3F-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 241</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">error?</span>; <span class="ruby-ivar">@level</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-constant">ERROR</span>; <span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- error-3F-source -->
            
          </div>

          

          
        </div><!-- error-3F-method -->

      
        <div id="fatal-method" class="method-detail ">
          <a name="method-i-fatal"></a>

          
          <div class="method-heading">
            <span class="method-name">fatal</span><span
              class="method-args">(progname = nil, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Log a <tt>FATAL</tt> message.</p>

<p>See <a href="Logger.html#method-i-info">info</a> for more information.</p>
            

            
            <div class="method-source-code" id="fatal-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 412</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fatal</span>(<span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">add</span>(<span class="ruby-constant">FATAL</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">progname</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- fatal-source -->
            
          </div>

          

          
        </div><!-- fatal-method -->

      
        <div id="fatal-3F-method" class="method-detail ">
          <a name="method-i-fatal-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">fatal?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns <tt>true</tt> iff the current severity level allows for the
printing of <tt>FATAL</tt> messages.</p>
            

            
            <div class="method-source-code" id="fatal-3F-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 245</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fatal?</span>; <span class="ruby-ivar">@level</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-constant">FATAL</span>; <span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- fatal-3F-source -->
            
          </div>

          

          
        </div><!-- fatal-3F-method -->

      
        <div id="info-method" class="method-detail ">
          <a name="method-i-info"></a>

          
          <div class="method-heading">
            <span class="method-name">info</span><span
              class="method-args">(progname = nil, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Log an <tt>INFO</tt> message.</p>

<p>The message can come either from the <tt>progname</tt> argument or the
<tt>block</tt>.  If both are provided, then the <tt>block</tt> is used as
the message, and <tt>progname</tt> is used as the program name.</p>

<h3>Examples</h3>

<pre>logger.info(&quot;MainApp&quot;) { &quot;Received connection from #{ip}&quot; }
# ...
logger.info &quot;Waiting for input from user&quot;
# ...
logger.info { &quot;User typed #{input}&quot; }</pre>

<p>You’ll probably stick to the second form above, unless you want to provide
a program name (which you can do with <tt><a
href="Logger.html#attribute-i-progname">Logger#progname=</a></tt> as well).</p>

<h3>Return</h3>

<p>See <a href="Logger.html#method-i-add">add</a>.</p>
            

            
            <div class="method-source-code" id="info-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 385</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">info</span>(<span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">add</span>(<span class="ruby-constant">INFO</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">progname</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- info-source -->
            
          </div>

          

          
        </div><!-- info-method -->

      
        <div id="info-3F-method" class="method-detail ">
          <a name="method-i-info-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">info?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns <tt>true</tt> iff the current severity level allows for the
printing of <tt>INFO</tt> messages.</p>
            

            
            <div class="method-source-code" id="info-3F-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 233</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">info?</span>; <span class="ruby-ivar">@level</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-constant">INFO</span>; <span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- info-3F-source -->
            
          </div>

          

          
        </div><!-- info-3F-method -->

      
        <div id="log-method" class="method-detail method-alias">
          <a name="method-i-log"></a>

          
          <div class="method-heading">
            <span class="method-name">log</span><span
              class="method-args">(severity, message = nil, progname = nil, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Logger.html#method-i-add">add</a>
          </div>
          
        </div><!-- log-method -->

      
        <div id="unknown-method" class="method-detail ">
          <a name="method-i-unknown"></a>

          
          <div class="method-heading">
            <span class="method-name">unknown</span><span
              class="method-args">(progname = nil, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Log an <tt>UNKNOWN</tt> message.  This will be printed no matter what the
logger level.</p>

<p>See <a href="Logger.html#method-i-info">info</a> for more information.</p>
            

            
            <div class="method-source-code" id="unknown-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 422</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unknown</span>(<span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">add</span>(<span class="ruby-constant">UNKNOWN</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">progname</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- unknown-source -->
            
          </div>

          

          
        </div><!-- unknown-method -->

      
        <div id="warn-method" class="method-detail ">
          <a name="method-i-warn"></a>

          
          <div class="method-heading">
            <span class="method-name">warn</span><span
              class="method-args">(progname = nil, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Log a <tt>WARN</tt> message.</p>

<p>See <a href="Logger.html#method-i-info">info</a> for more information.</p>
            

            
            <div class="method-source-code" id="warn-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 394</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">warn</span>(<span class="ruby-identifier">progname</span> = <span class="ruby-keyword">nil</span>, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">add</span>(<span class="ruby-constant">WARN</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">progname</span>, &amp;<span class="ruby-identifier">block</span>)
<span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- warn-source -->
            
          </div>

          

          
        </div><!-- warn-method -->

      
        <div id="warn-3F-method" class="method-detail ">
          <a name="method-i-warn-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">warn?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns <tt>true</tt> iff the current severity level allows for the
printing of <tt>WARN</tt> messages.</p>
            

            
            <div class="method-source-code" id="warn-3F-source">
              <pre>
              <code class='cpp'> <!-- How can we tell the language? Can we grab the file extension of the parsed source file? --> 
<span class="ruby-comment"># File logger.rb, line 237</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">warn?</span>; <span class="ruby-ivar">@level</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-constant">WARN</span>; <span class="ruby-keyword">end</span></code>
</pre> 
            </div><!-- warn-3F-source -->
            
          </div>

          

          
        </div><!-- warn-3F-method -->

      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->
<div id="disqus_thread" style='display:none'></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    // var disqus_shortname = 'rubydocbeta'; // required 
    var disqus_shortname = 'ruby-doc'; // required 
    
    var disqus_developer = true; // DEBUGGERY
    


    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink" style='display:none'>blog comments powered by <span class="logo-disqus">Disqus</span></a>

<div class='grids wrapper' id="footer">
  <p><small>This page was generated for Ruby 1.9.2</small></p> 
  
   <p> <a href="http://www.ruby-doc.org">Ruby-doc.org</a> is provided by <a href="http://www.jamesbritt.com">James Britt</a> and <a href="http://www.neurogami.com">Neurogami</a>. <a href="http://www.neurogami.com">Maximum R+D</a>.  </p>
 
    <p><small>Generated with the <a href="http://neurogami.com/code/">Rubydoc Rdoc Generator</a> 0.9.4</small>.</p>
  </div>

</div>

<script type="text/javascript">
var _uacct = "UA-335317-2";
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try{ 
var pageTracker = _gat._getTracker(_uacct);
pageTracker._trackPageview();
} catch(err) {} 
</script>
</body>
</html>

