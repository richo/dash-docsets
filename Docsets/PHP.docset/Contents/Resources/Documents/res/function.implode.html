<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Join array elements with a string</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.htmlspecialchars.html">htmlspecialchars</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.join.html">join</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.implode" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">implode</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">implode</span> &mdash; <span class="dc-title">Join array elements with a string</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.implode-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>implode</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$glue</tt></span>
   , <span class="methodparam"><span class="type">array</span> <tt class="parameter">$pieces</tt></span>
   )</div>

  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>implode</b></span>
    ( <span class="methodparam"><span class="type">array</span> <tt class="parameter">$pieces</tt></span>
   )</div>

  <p class="para rdfs-comment">
   Join array elements with a <i><tt class="parameter">glue</tt></i> string.
  </p>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    <span class="function"><b>implode()</b></span> can, for historical reasons, accept
    its parameters in either order. For consistency with
    <span class="function"><a href="function.explode.html" class="function">explode()</a></span>, however, it may be less confusing
    to use the documented order of arguments.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.implode-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">glue</tt></i></span>
     <dd>

      <p class="para">
       Defaults to an empty string. This is not the preferred usage of
       <span class="function"><b>implode()</b></span> as <i><tt class="parameter">glue</tt></i> would be
       the second parameter and thus, the bad prototype would be used.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">pieces</tt></i></span>
     <dd>

      <p class="para">
       The array of strings to implode.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.implode-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a string containing a string representation of all the array
   elements in the same order, with the glue string between each element.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.implode-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">4.3.0</td>
       <td align="left">
        The <i><tt class="parameter">glue</tt></i> parameter became optional.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.implode-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4387">
    <p><b>Example #1 <span class="function"><b>implode()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$array&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">'lastname'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'email'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'phone'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$comma_separated&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">","</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$comma_separated</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;lastname,email,phone<br /><br />//&nbsp;Empty&nbsp;string&nbsp;when&nbsp;using&nbsp;an&nbsp;empty&nbsp;array:<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">'hello'</span><span style="color: #007700">,&nbsp;array()));&nbsp;</span><span style="color: #FF8000">//&nbsp;string(0)&nbsp;""<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>   
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.implode-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><b class="note">Note</b>: <span class="simpara">This function is
binary-safe.</span></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.implode-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.explode.html" class="function" rel="rdfs-seeAlso">explode()</a> - Split a string by string</span></li>
    <li class="member"><span class="function"><a href="function.preg-split.html" class="function" rel="rdfs-seeAlso">preg_split()</a> - Split string by a regular expression</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106085""></a>
  <div class="note">
   <strong class="user">lightningspirit at gmail dot com</strong>
   <a href="#106085" class="date">08-Oct-2011 10:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a function to implode and array including the key and value pair.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Implode an array with the key and value pair giving<br />
&nbsp;* a glue, a separator between pairs and the array<br />
&nbsp;* to implode.<br />
&nbsp;* @param string $glue The glue between key and value<br />
&nbsp;* @param string $separator Separator between pairs<br />
&nbsp;* @param array $array The array to implode<br />
&nbsp;* @return string The imploded array<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_implode</span><span class="keyword">( </span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$separator</span><span class="keyword">, </span><span class="default">$array </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if ( ! </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) ) return </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach ( </span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$val </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$val </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">( </span><span class="string">','</span><span class="keyword">, </span><span class="default">$val </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string</span><span class="keyword">[] = </span><span class="string">"</span><span class="keyword">{</span><span class="default">$key</span><span class="keyword">}{</span><span class="default">$glue</span><span class="keyword">}{</span><span class="default">$val</span><span class="keyword">}</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">( </span><span class="default">$separator</span><span class="keyword">, </span><span class="default">$string </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
You can, for example, encode an array to be sent as an URL query using this:<br />
<span class="default">&lt;?php<br />
$query </span><span class="keyword">= </span><span class="default">url_encode</span><span class="keyword">( </span><span class="default">array_implode</span><span class="keyword">( </span><span class="string">'='</span><span class="keyword">, </span><span class="string">'&amp;'</span><span class="keyword">, </span><span class="default">$array </span><span class="keyword">) );<br />
</span><span class="default">?&gt;<br />
</span><br />
Or if you want to output an HTML element attributes:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">'&lt;input '</span><span class="keyword">.</span><span class="default">array_implode</span><span class="keyword">( </span><span class="string">'="'</span><span class="keyword">, </span><span class="string">'" '</span><span class="keyword">, </span><span class="default">$array </span><span class="keyword">).</span><span class="string">' /&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Hope it can help someone!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106071""></a>
  <div class="note">
   <strong class="user">jim at terrys dot net</strong>
   <a href="#106071" class="date">07-Oct-2011 05:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for dealing with tables:<br />
<br />
<span class="default">&lt;?php<br />
$values </span><span class="keyword">= array(</span><span class="string">'firstname'</span><span class="keyword">=&gt;</span><span class="string">'firstname_value'</span><span class="keyword">,</span><span class="string">'lastname'</span><span class="keyword">=&gt;</span><span class="string">'lastname_value'</span><span class="keyword">);<br />
<br />
</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'INSERT INTO %s (%s) VALUES ("%s")'</span><span class="keyword">, </span><span class="string">'table_name'</span><span class="keyword">, </span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'mysql_escape_string'</span><span class="keyword">, </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">))), </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'", "'</span><span class="keyword">,</span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'mysql_escape_string'</span><span class="keyword">, </span><span class="default">$values</span><span class="keyword">)));<br />
<br />
</span><span class="comment">//that gives you: INSERT INTO table_name (firstname, lastname) VALUES ("firstname_value", "lastname_value")<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105454""></a>
  <div class="note">
   <strong class="user">gu_ludo at yahoo dot com dot br</strong>
   <a href="#105454" class="date">19-Aug-2011 04:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hello there.<br />
First, forgive me for my English if I write anything wrong. I'm brazilian.<br />
<br />
I've made a recursive implode for multidimensional arrays. The $glue may be either an array or a string. If array, each element will be used as glue for each level of $pieces. If count($glue) is less than number of levels of $pieces, the last glue will be used for the remainder levels.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">implode_r</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$pieces</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$glue </span><span class="keyword">= array(</span><span class="default">$glue</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$thisLevelGlue </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">count</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">)) </span><span class="default">$glue </span><span class="keyword">= array(</span><span class="default">$thisLevelGlue</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$pieces</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return (string) </span><span class="default">$pieces</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$pieces </span><span class="keyword">as </span><span class="default">$sub</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">.= </span><span class="default">implode_r</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$sub</span><span class="keyword">) . </span><span class="default">$thisLevelGlue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$pieces</span><span class="keyword">)) </span><span class="default">$return </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">) -</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$thisLevelGlue</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="comment">//Example<br />
</span><span class="default">$arr </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'SecondLevelFirstElement'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'SecondLevelSecondElement'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'FirstLevelFirstElement'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'FirstLevelSecondElement'<br />
</span><span class="keyword">);<br />
<br />
echo </span><span class="default">implode_r</span><span class="keyword">(array(</span><span class="string">"-|-"</span><span class="keyword">, </span><span class="string">"_"</span><span class="keyword">));<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The output string will be:<br />
"SecondLevelFirstElement_SecondLevelSecondElement-|-FirstLevelFirstElement-|-FirstLevelSecondElement"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104568""></a>
  <div class="note">
   <strong class="user">alexey dot klimko at gmail dot com</strong>
   <a href="#104568" class="date">23-Jun-2011 05:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to implode an array of booleans, you will get a strange result:<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(</span><span class="default">implode</span><span class="keyword">(</span><span class="string">''</span><span class="keyword">,array(</span><span class="default">true</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">)));<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
string(3) "111"<br />
<br />
TRUE became "1", FALSE became nothing.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103861""></a>
  <div class="note">
   <strong class="user">tl at magus dot dk</strong>
   <a href="#103861" class="date">06-May-2011 10:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is also possible to implode an associative array using the following code (if you do not like (mis-)using http functions):<br />
<br />
<span class="default">&lt;?php<br />
<br />
$assoc_array </span><span class="keyword">= array(</span><span class="string">"Key1" </span><span class="keyword">=&gt; </span><span class="string">"Value1"</span><span class="keyword">, </span><span class="string">"Key2" </span><span class="keyword">=&gt; </span><span class="string">"Value2"</span><span class="keyword">);<br />
<br />
</span><span class="default">$new_array </span><span class="keyword">= </span><span class="default">array_map</span><span class="keyword">(</span><span class="default">create_function</span><span class="keyword">(</span><span class="string">'$key, $value'</span><span class="keyword">, </span><span class="string">'return $key.":".$value." # ";'</span><span class="keyword">), </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$assoc_array</span><span class="keyword">), </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$assoc_array</span><span class="keyword">));<br />
<br />
print </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$new_array</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Which will output:<br />
<br />
Key1:Value1 # Key2:Value2 #</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102401""></a>
  <div class="note">
   <strong class="user">sean at seancolombo dot com</strong>
   <a href="#102401" class="date">11-Feb-2011 03:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've seen some code below for imploding an associative array.<br />
<br />
Please note that http_build_query() will take care of that for you:<br />
<a href="http://php.net/http_build_query" rel="nofollow" target="_blank">http://php.net/http_build_query</a><br />
<br />
Happy coding!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100820""></a>
  <div class="note">
   <strong class="user">stefan at efectos dot nl</strong>
   <a href="#100820" class="date">09-Nov-2010 01:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Small function when you just want to implode on the keys of an array. Especially helpful when you for instance create an array for database inserting in which the keys point to table row names.<br />
<br />
Uses same function argument names as this documentation states for implode. <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">implode_key</span><span class="keyword">(</span><span class="default">$glue </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">, </span><span class="default">$pieces </span><span class="keyword">= array()) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arrK </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$pieces</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$arrK</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99753""></a>
  <div class="note">
   <strong class="user">jords at NOSPAMshadowservices dot biz</strong>
   <a href="#99753" class="date">02-Sep-2010 09:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You don't need to do anything funny with implode() to get a php array into javascript - just use json_encode().</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97567""></a>
  <div class="note">
   <strong class="user">rustem</strong>
   <a href="#97567" class="date">26-Apr-2010 07:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to output an array of strings inclosed in quotes (to convert it from php to JavaScript for instance), you can use this simple method:<br />
<br />
var js_array = new Array("<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'","'</span><span class="keyword">,</span><span class="default">$php_array</span><span class="keyword">)</span><span class="default">?&gt;</span>");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96100""></a>
  <div class="note">
   <strong class="user">kromped at yahoo dot com</strong>
   <a href="#96100" class="date">08-Feb-2010 04:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Recursive Implode<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">r_implode</span><span class="keyword">( </span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$pieces </span><span class="keyword">)<br />
{<br />
&nbsp; foreach( </span><span class="default">$pieces </span><span class="keyword">as </span><span class="default">$r_pieces </span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$r_pieces </span><span class="keyword">) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$retVal</span><span class="keyword">[] = </span><span class="default">r_implode</span><span class="keyword">( </span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$r_pieces </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$retVal</span><span class="keyword">[] = </span><span class="default">$r_pieces</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">implode</span><span class="keyword">( </span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$retVal </span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">$test_arr </span><span class="keyword">= array( </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, array( </span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b' </span><span class="keyword">), array( array( </span><span class="string">'x'</span><span class="keyword">, </span><span class="string">'y'</span><span class="keyword">), </span><span class="string">'z' </span><span class="keyword">) );<br />
echo </span><span class="default">r_implode</span><span class="keyword">( </span><span class="string">','</span><span class="keyword">, </span><span class="default">$test_arr </span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">$test_arr </span><span class="keyword">= array( </span><span class="default">0 </span><span class="keyword">);<br />
echo </span><span class="default">r_implode</span><span class="keyword">( </span><span class="string">','</span><span class="keyword">, </span><span class="default">$test_arr </span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94688""></a>
  <div class="note">
   <strong class="user">mwwaygoo AT hotmail DOT com</strong>
   <a href="#94688" class="date">18-Nov-2009 07:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was a little worried about the multi-dimensional array implodes listed here, as they are using 'for' loops, which is bad programming practice as arrays are not always nice and neat.<br />
<br />
I hope this helps<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">multi_implode</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$pieces</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$pieces</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$pieces</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while(list(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">)=</span><span class="default">each</span><span class="keyword">(</span><span class="default">$pieces</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string</span><span class="keyword">.=</span><span class="default">$glue</span><span class="keyword">.</span><span class="default">multi_implode</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$pieces</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$glue</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92752""></a>
  <div class="note">
   <strong class="user">ravenswd at gmail dot com</strong>
   <a href="#92752" class="date">07-Aug-2009 04:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As "john" pointed out on 2004 Apr 26, implode does not always work in a way that could be considered intuitive.<br />
<br />
You may need to sort your elements with ksort, or write a longer routine to fill in any "gaps". See this example:<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">=&gt;</span><span class="string">'one'</span><span class="keyword">, </span><span class="default">7</span><span class="keyword">=&gt;</span><span class="string">'seven'</span><span class="keyword">, </span><span class="default">5</span><span class="keyword">=&gt;</span><span class="string">'five'</span><span class="keyword">);<br />
<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">implode </span><span class="keyword">(</span><span class="string">','</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">ksort </span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">$c </span><span class="keyword">= </span><span class="default">implode </span><span class="keyword">(</span><span class="string">','</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">$highest </span><span class="keyword">= </span><span class="default">max</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">));<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$highest</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">):<br />
&nbsp; if (! isset(</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])):<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="string">''</span><span class="keyword">;<br />
&nbsp; endif;<br />
endfor;<br />
</span><span class="default">ksort </span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">$d </span><span class="keyword">= </span><span class="default">implode </span><span class="keyword">(</span><span class="string">','</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">);<br />
<br />
print </span><span class="string">"\$b = '</span><span class="default">$b</span><span class="string">'&lt;br&gt;\n"</span><span class="keyword">;<br />
print </span><span class="string">"\$c = '</span><span class="default">$c</span><span class="string">'&lt;br&gt;\n"</span><span class="keyword">;<br />
print </span><span class="string">"\$d = '</span><span class="default">$d</span><span class="string">'&lt;br&gt;\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">/*<br />
output:<br />
$b = 'one,seven,five'<br />
$c = 'one,five,seven'<br />
$d = ',one,,,,five,,seven'<br />
*/<br />
</span><span class="default">?&gt;<br />
</span><br />
Or, as a function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">ensure </span><span class="keyword">(&amp;</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$filler </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">) {<br />
<br />
&nbsp; </span><span class="comment">// given: array $a with numerical keys<br />
&nbsp; // return: $a with keys sorted numerically and any gaps filled-in<br />
<br />
&nbsp;&nbsp; </span><span class="default">$highest </span><span class="keyword">= </span><span class="default">max</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">));<br />
&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$highest</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; if (! isset(</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])):<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$a</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$filler</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; endif;<br />
&nbsp;&nbsp; endfor;<br />
&nbsp;&nbsp; </span><span class="default">ksort </span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
} </span><span class="comment">// end function ensure<br />
<br />
// usage:<br />
// ensure($foo);<br />
// ensure($bar, 0);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92694""></a>
  <div class="note">
   <strong class="user">adam82s at gmail dot com</strong>
   <a href="#92694" class="date">04-Aug-2009 05:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Found it very useful when inserting sql/mysql rows,<br />
<br />
<span class="default">&lt;?php<br />
$values </span><span class="keyword">= array(</span><span class="string">'firstname'</span><span class="keyword">=&gt;</span><span class="string">'firstname_value'</span><span class="keyword">,</span><span class="string">'lastname'</span><span class="keyword">=&gt;</span><span class="string">'lastname_value'</span><span class="keyword">);<br />
<br />
</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'INSERT INTO %s (%s) VALUES ("%s")'</span><span class="keyword">, </span><span class="string">'table_name'</span><span class="keyword">, </span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'mysql_escape_string'</span><span class="keyword">, </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">))), </span><span class="default">implode</span><span class="keyword">(</span><span class="string">'", "'</span><span class="keyword">,</span><span class="default">array_map</span><span class="keyword">(</span><span class="string">'mysql_escape_string'</span><span class="keyword">, </span><span class="default">$values</span><span class="keyword">)));<br />
<br />
</span><span class="comment">//that gives you: INSERT INTO table_name (firstname, lastname) VALUES ("firstname_value", "lastname_value")<br />
<br />
</span><span class="default">?&gt;<br />
</span>Very useful when dealing with tables with many columns.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90134""></a>
  <div class="note">
   <strong class="user">houston_roadrunner at yahoo dot com</strong>
   <a href="#90134" class="date">07-Apr-2009 11:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
it should be noted that an array with one or no elements works fine. for example:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $a1 </span><span class="keyword">= array(</span><span class="string">"1"</span><span class="keyword">,</span><span class="string">"2"</span><span class="keyword">,</span><span class="string">"3"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a2 </span><span class="keyword">= array(</span><span class="string">"a"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a3 </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"a1 is: '"</span><span class="keyword">.</span><span class="default">implode</span><span class="keyword">(</span><span class="string">"','"</span><span class="keyword">,</span><span class="default">$a1</span><span class="keyword">).</span><span class="string">"'&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"a2 is: '"</span><span class="keyword">.</span><span class="default">implode</span><span class="keyword">(</span><span class="string">"','"</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">).</span><span class="string">"'&lt;br&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"a3 is: '"</span><span class="keyword">.</span><span class="default">implode</span><span class="keyword">(</span><span class="string">"','"</span><span class="keyword">,</span><span class="default">$a3</span><span class="keyword">).</span><span class="string">"'&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
will produce:<br />
===========<br />
a1 is: '1','2','3'<br />
a2 is: 'a'<br />
a3 is: ''</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89550""></a>
  <div class="note">
   <strong class="user">vega at terzapersona dot com</strong>
   <a href="#89550" class="date">13-Mar-2009 01:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have improved crashinside's function for db use<br />
<br />
function mt_implode($char,$array,$fix='',$addslashes=false)<br />
{<br />
&nbsp;&nbsp;&nbsp; $lem = array_keys($array);<br />
&nbsp;&nbsp;&nbsp; $char = htmlentities($char);<br />
&nbsp;&nbsp;&nbsp; for($i=0;$i&lt;sizeof($lem);$i++) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; if($addslashes){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $str .= $fix.(($i == sizeof($lem)-1) ? addslashes($array[$lem[$i]]).$fix : addslashes($array[$lem[$i]]).$fix.$char);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $str .= $fix.(($i == sizeof($lem)-1) ? $array[$lem[$i]].$fix : $array[$lem[$i]].$fix.$char);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $str;<br />
}<br />
<br />
$array = array("apple", "orange", "tree", "Sant' Anna");<br />
echo mt_implode(', ', $array,'"',true); <br />
<br />
// "apple", "orange", "tree", "Sant\' Anna"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88016""></a>
  <div class="note">
   <strong class="user">crashinside</strong>
   <a href="#88016" class="date">06-Jan-2009 02:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've implemented the function implode (it's easy):<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">mt_implode</span><span class="keyword">(</span><span class="default">$char</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$lem </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$char </span><span class="keyword">= </span><span class="default">htmlentities</span><span class="keyword">(</span><span class="default">$char</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$lem</span><span class="keyword">);</span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$str </span><span class="keyword">.= (</span><span class="default">$i </span><span class="keyword">== </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$lem</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">) ? </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$lem</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]] : </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$lem</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]].</span><span class="default">$char</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$str</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Have fun</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87889""></a>
  <div class="note">
   <strong class="user">crazytonyi at example dot com</strong>
   <a href="#87889" class="date">28-Dec-2008 11:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For anyone looking for a good method to wrap each element before imploding it, I use this method:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">wrap_each</span><span class="keyword">(&amp;</span><span class="default">$item</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$item </span><span class="keyword">= </span><span class="string">"'</span><span class="default">$item</span><span class="string">'"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">array_walk</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="string">'wrap_each'</span><span class="keyword">);<br />
</span><span class="default">$array_csv </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86845""></a>
  <div class="note">
   <strong class="user">pr at technoparkcorp dot com</strong>
   <a href="#86845" class="date">06-Nov-2008 12:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function is much more elegant and fast. It converts array to the list with 'and' at the end:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">ImplodeToEnglish </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// sanity check<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (!</span><span class="default">$array </span><span class="keyword">|| !</span><span class="default">count </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">''</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// get last element&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="default">array_pop </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// if it was the only element - return it<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (!</span><span class="default">count </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$last</span><span class="keyword">;&nbsp; &nbsp; <br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode </span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">).</span><span class="string">' and '</span><span class="keyword">.</span><span class="default">$last</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86269""></a>
  <div class="note">
   <strong class="user">php at emanaton dot com</strong>
   <a href="#86269" class="date">09-Oct-2008 08:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was fiddling around on a project and created an associative array implosion function that incorporates several of the ideas from this page, but which also adds a whack of nifty options. Unfortunately, the documentation for it made the post to long to display on this page, so I've provided the example on my site. Enjoy!<br />
<br />
<a href="http://emanaton.com/code/php/implode_assoc" rel="nofollow" target="_blank">http://emanaton.com/code/php/implode_assoc</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85691""></a>
  <div class="note">
   <strong class="user">Kerberos</strong>
   <a href="#85691" class="date">12-Sep-2008 05:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's my version of the english implode function, it's quite crafty so I thought I'd share it...<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">#<br />
&nbsp;&nbsp;&nbsp; # Transforms an array to an english list:<br />
&nbsp;&nbsp;&nbsp; # This, This and This<br />
&nbsp;&nbsp;&nbsp; #<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">array_to_english </span><span class="keyword">( </span><span class="default">$list</span><span class="keyword">, </span><span class="default">$glueword</span><span class="keyword">=</span><span class="string">'and' </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ( </span><span class="default">array_reverse </span><span class="keyword">( </span><span class="default">$list </span><span class="keyword">) as </span><span class="default">$index</span><span class="keyword">=&gt;</span><span class="default">$value </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="string">"</span><span class="default">$value$glue$string</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$index </span><span class="keyword">== </span><span class="default">0 </span><span class="keyword">) </span><span class="default">$glue </span><span class="keyword">= </span><span class="string">" </span><span class="default">$glueword</span><span class="string"> "</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$index </span><span class="keyword">== </span><span class="default">1 </span><span class="keyword">) </span><span class="default">$glue </span><span class="keyword">= </span><span class="string">', '</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$string</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85138""></a>
  <div class="note">
   <strong class="user">compton</strong>
   <a href="#85138" class="date">16-Aug-2008 08:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
superstuntguy below would save himself and his server a lot of time just by using $_SERVER['QUERY_STRING'] (see <a href="http://uk.php.net/manual/en/reserved.variables.server.php" rel="nofollow" target="_blank">http://uk.php.net/manual/en/reserved.variables.server.php</a>), as in:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">'&lt;form action='</span><span class="keyword">, </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">], </span><span class="string">'?'</span><span class="keyword">, </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'QUERY_STRING'</span><span class="keyword">], </span><span class="string">' method=post&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Note: using commas instead of full-stops (periods) between strings for echo is marginally more efficient as echo can then simply pop the substrings off the stack avoiding the tincy-wincy extra overhead of string concatenation.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84788""></a>
  <div class="note">
   <strong class="user">mjong at magnafacta dot nl</strong>
   <a href="#84788" class="date">30-Jul-2008 04:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Many of the functions below can be simplified using this short function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_implode</span><span class="keyword">(</span><span class="default">$arrays</span><span class="keyword">, &amp;</span><span class="default">$target </span><span class="keyword">= array()) {<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$arrays </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_implode</span><span class="keyword">(</span><span class="default">$item</span><span class="keyword">, </span><span class="default">$target</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$target</span><span class="keyword">[] = </span><span class="default">$item</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$target</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$a </span><span class="keyword">= array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, array(</span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'d'</span><span class="keyword">, array(</span><span class="string">'e'</span><span class="keyword">), </span><span class="string">'f'</span><span class="keyword">), </span><span class="string">'g'</span><span class="keyword">, array(</span><span class="string">'h'</span><span class="keyword">));<br />
<br />
echo </span><span class="default">join</span><span class="keyword">(</span><span class="string">' - '</span><span class="keyword">, </span><span class="default">array_implode</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
The outputs:<br />
<br />
<span class="default">&lt;?php<br />
<br />
a </span><span class="keyword">- </span><span class="default">b </span><span class="keyword">- </span><span class="default">c </span><span class="keyword">- </span><span class="default">d </span><span class="keyword">- </span><span class="default">e </span><span class="keyword">- </span><span class="default">f </span><span class="keyword">- </span><span class="default">g </span><span class="keyword">- </span><span class="default">h<br />
<br />
?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84684""></a>
  <div class="note">
   <strong class="user">superstuntguy at gmail dot com</strong>
   <a href="#84684" class="date">25-Jul-2008 05:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found this pretty useful so I wouldn't have to hardcode things:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">implode_get</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$first </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$_GET </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$first</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="string">'?'</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="string">'='</span><span class="keyword">.</span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$first </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="string">'&amp;'</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="string">'='</span><span class="keyword">.</span><span class="default">$value</span><span class="keyword">;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$output</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="string">'&lt;form action='</span><span class="keyword">.</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">].</span><span class="default">implode_get</span><span class="keyword">()</span><span class="string">' method=post&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84644""></a>
  <div class="note">
   <strong class="user">theuedimaster at gmail dot com</strong>
   <a href="#84644" class="date">23-Jul-2008 06:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a recursive implode function that can be used on multi-dimensional arrays. The explode function has also obeen included.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//&nbsp; Can implode an array of any dimension<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; Uses a few basic rules for implosion:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; &nbsp; &nbsp; &nbsp; 1. Replace all instances of delimeters in strings by '/' followed by delimeter <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; &nbsp; &nbsp; &nbsp; 2. 2 Delimeters in between keys<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; &nbsp; &nbsp; &nbsp; 3. 3 Delimeters in between key and value<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; &nbsp; &nbsp; &nbsp; 4. 4 Delimeters in between key-value pairs<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">implodeMDA</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$delimeter</span><span class="keyword">, </span><span class="default">$keyssofar </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$delimeter</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="default">$delimeter</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$keyssofar </span><span class="keyword">!= </span><span class="string">''</span><span class="keyword">) </span><span class="default">$key </span><span class="keyword">= </span><span class="default">$key</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pair </span><span class="keyword">= </span><span class="default">$key</span><span class="keyword">.</span><span class="default">$keyssofar</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$output </span><span class="keyword">!= </span><span class="string">''</span><span class="keyword">) </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">$pair</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$output </span><span class="keyword">!= </span><span class="string">''</span><span class="keyword">) </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$keyssofar </span><span class="keyword">!= </span><span class="string">''</span><span class="keyword">) </span><span class="default">$key </span><span class="keyword">= </span><span class="default">$key</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">implodeMDA</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$delimeter</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">.</span><span class="default">$keyssofar</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$output</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//&nbsp; Can explode a string created by corresponding implodeMDA function<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; Uses a few basic rules for explosion:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; &nbsp; &nbsp; &nbsp; 1. Instances of delimeters in strings have been replaced by '/' followed by delimeter <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; &nbsp; &nbsp; &nbsp; 2. 2 Delimeters in between keys<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; &nbsp; &nbsp; &nbsp; 3. 3 Delimeters in between key and value<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; &nbsp; &nbsp; &nbsp; 4. 4 Delimeters in between key-value pairs<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">explodeMDA</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$delimeter</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pair_delimeter </span><span class="keyword">= </span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pairs </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$pair_delimeter</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$pairs </span><span class="keyword">as </span><span class="default">$pair</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$keyvalue_delimeter </span><span class="keyword">= </span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$keyvalue </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$keyvalue_delimeter</span><span class="keyword">, </span><span class="default">$pair</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$key_delimeter </span><span class="keyword">= </span><span class="default">$delimeter</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="default">$key_delimeter</span><span class="keyword">, </span><span class="default">$keyvalue</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">, </span><span class="default">$delimeter</span><span class="keyword">, </span><span class="default">$keyvalue</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">.</span><span class="default">$delimeter</span><span class="keyword">, </span><span class="default">$delimeter</span><span class="keyword">, </span><span class="default">$keys</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pairarray </span><span class="keyword">= array(</span><span class="default">$keys</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] =&gt; </span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$counter </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$counter </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$keys</span><span class="keyword">); </span><span class="default">$counter</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pairarray </span><span class="keyword">= array(</span><span class="default">$keys</span><span class="keyword">[</span><span class="default">$counter</span><span class="keyword">] =&gt; </span><span class="default">$pairarray</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="default">array_merge_recursive</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="default">$pairarray</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$output</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84478""></a>
  <div class="note">
   <strong class="user">webmaster at tubo-world dot de</strong>
   <a href="#84478" class="date">15-Jul-2008 07:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Refering to the previous post, here an optimized version:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">implode_wrapped</span><span class="keyword">(</span><span class="default">$before</span><span class="keyword">, </span><span class="default">$after</span><span class="keyword">, </span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">$before </span><span class="keyword">. </span><span class="default">$item </span><span class="keyword">. </span><span class="default">$after </span><span class="keyword">. </span><span class="default">$glue</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83464""></a>
  <div class="note">
   <strong class="user">mr dot bloar at gmail dot com</strong>
   <a href="#83464" class="date">27-May-2008 07:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A usefull version of implode() when you need to surround values, for example when you are working with nodes (HTML, XML)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">myImplode</span><span class="keyword">(</span><span class="default">$before</span><span class="keyword">, </span><span class="default">$after</span><span class="keyword">, </span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$nbItem </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$item</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$nbItem</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="string">"</span><span class="default">$before$item$after$glue</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else </span><span class="default">$output </span><span class="keyword">.= </span><span class="string">"</span><span class="default">$before$item$after</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$output</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$an_array </span><span class="keyword">= array(</span><span class="string">'value1'</span><span class="keyword">,</span><span class="string">'value2'</span><span class="keyword">);<br />
print </span><span class="default">myImplode</span><span class="keyword">(</span><span class="string">"&lt;a href=\"#\"&gt;"</span><span class="keyword">,</span><span class="string">"&lt;/a&gt;"</span><span class="keyword">,</span><span class="string">" &gt; "</span><span class="keyword">, </span><span class="default">$an_array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
output : &lt;a href="#"&gt;value1&lt;/a&gt; &gt; &lt;a href="#"&gt;value2&lt;/a&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82230""></a>
  <div class="note">
   <strong class="user">wesleys at opperschaap dot net</strong>
   <a href="#82230" class="date">01-Apr-2008 04:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I'm new to PHP, coming from Perl and I already had a problem once when I wanted to join some strings. In perl you can use join to join a list (which can be an array and/or a list of strings and/or hashes), where PHP does this only with arrays. That annoyed me. <br />
I could not find any code which did this, so I created my own join, based on Perl's join function. It is called p_join().<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/* is_assoc_array and is_sequential_array are STOLEN from:<br />
&nbsp;* <a href="http://nl3.php.net/manual/en/function.is-array.php#73505 */" rel="nofollow" target="_blank">http://nl3.php.net/manual/en/function.is-array.php#73505 */</a><br />
</span><span class="keyword">function </span><span class="default">is_assoc_array</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return (</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) !== </span><span class="default">$var </span><span class="keyword">|| !</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">implode</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">))));<br />
}<br />
<br />
function </span><span class="default">is_sequential_array</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return (</span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) === </span><span class="default">$var </span><span class="keyword">&amp;&amp; </span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">implode</span><span class="keyword">(</span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">))));<br />
}<br />
<br />
function </span><span class="default">_p_join_assoc</span><span class="keyword">(</span><span class="default">$sep</span><span class="keyword">, </span><span class="default">$hash</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$hash </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">.= </span><span class="default">$sep </span><span class="keyword">. </span><span class="default">$k </span><span class="keyword">.&nbsp; </span><span class="default">$sep </span><span class="keyword">. </span><span class="default">$v </span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">_p_join_array</span><span class="keyword">(</span><span class="default">$sep</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># Turn off notices and return to the old loglevel once we're done.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; # This is because we stringify an array in some cases..<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$old_error_reporting </span><span class="keyword">= </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL </span><span class="keyword">^ </span><span class="default">E_NOTICE</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">join</span><span class="keyword">(</span><span class="default">$sep</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">$old_error_reporting</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">p_join</span><span class="keyword">() {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">) &gt; </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$sep </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$args </span><span class="keyword">as </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_assoc_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">.= </span><span class="default">_p_join_assoc</span><span class="keyword">(</span><span class="default">$sep</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">.= </span><span class="default">$sep&nbsp; </span><span class="keyword">. </span><span class="default">_p_join_array</span><span class="keyword">(</span><span class="default">$sep</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">.= </span><span class="default">$sep </span><span class="keyword">. </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># $result will always start with a $sep, so remove it..<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">substr_replace</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">, </span><span class="string">"" </span><span class="keyword">,</span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$sep</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">"%s requires at least 2 parameters"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">__FUNCTION__</span><span class="keyword">), </span><span class="default">E_USER_WARNING</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">null</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">/* And some example code */<br />
<br />
</span><span class="keyword">print </span><span class="default">p_join</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, </span><span class="string">"string"</span><span class="keyword">, array(</span><span class="string">"Key" </span><span class="keyword">=&gt; </span><span class="string">"Value"</span><span class="keyword">, </span><span class="string">"Key 2" </span><span class="keyword">=&gt; </span><span class="string">"Value 2"</span><span class="keyword">),<br />
&nbsp; array(</span><span class="string">"Hello"</span><span class="keyword">, array(</span><span class="string">"in"</span><span class="keyword">, </span><span class="string">"hello"</span><span class="keyword">, </span><span class="string">"world"</span><span class="keyword">), </span><span class="string">"array"</span><span class="keyword">), </span><span class="string">"string 2"</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment">/* Watch out, prints de indices when it you supply a mixed array */<br />
</span><span class="keyword">print </span><span class="default">p_join</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">, array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="string">"Green" </span><span class="keyword">=&gt; </span><span class="string">"Apple" </span><span class="keyword">, array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">))) . </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
print </span><span class="string">"Warning.. "</span><span class="keyword">;<br />
print </span><span class="default">p_join</span><span class="keyword">(</span><span class="string">","</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81922""></a>
  <div class="note">
   <strong class="user">ngkongs at gmail dot com</strong>
   <a href="#81922" class="date">19-Mar-2008 10:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
implode() can't be used for simplexml's array but foreach() does the thing, make new implode function with foreach() will resolve this problem. use strval() to reset SimpleXMLElement object to a simple string variable.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">implode2</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">, </span><span class="default">$var</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$var</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$var </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[]=</span><span class="default">strval</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; } <br />
&nbsp;&nbsp;&nbsp; else return </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81215""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#81215" class="date">18-Feb-2008 03:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
So I looked through all the problem solutions&nbsp; posted here, and combined them into one nice recursive function.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">implode_md</span><span class="keyword">( </span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">$key </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">$list </span><span class="keyword">= </span><span class="default">NULL </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if( !</span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) ) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if( !</span><span class="default">sizeof</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) ) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if( !</span><span class="default">is_null</span><span class="keyword">( </span><span class="default">$key </span><span class="keyword">) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">strpos</span><span class="keyword">( </span><span class="default">$key</span><span class="keyword">, </span><span class="string">"." </span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">array_reverse</span><span class="keyword">( </span><span class="default">explode</span><span class="keyword">( </span><span class="string">"."</span><span class="keyword">, </span><span class="default">$key </span><span class="keyword">) );<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$currentKey </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">( </span><span class="default">$keys </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">sizeof</span><span class="keyword">( </span><span class="default">$keys </span><span class="keyword">) ) </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">( </span><span class="string">"."</span><span class="keyword">, </span><span class="default">$keys </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">( </span><span class="string">""</span><span class="keyword">, </span><span class="default">$keys </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$currentKey </span><span class="keyword">= </span><span class="default">$key</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$keys </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">array_key_exists</span><span class="keyword">( </span><span class="default">$currentKey</span><span class="keyword">, </span><span class="default">$array </span><span class="keyword">) ) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">implode_md</span><span class="keyword">( </span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$currentKey</span><span class="keyword">], </span><span class="default">$keys</span><span class="keyword">, </span><span class="default">$list </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if( !empty( </span><span class="default">$list </span><span class="keyword">) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">count</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) ) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">implode_md</span><span class="keyword">( </span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">$key </span><span class="keyword">) . </span><span class="string">" </span><span class="default">$list</span><span class="string"> </span><span class="default">$last</span><span class="string">"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$last</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; for( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">sizeof</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++ )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">is_array</span><span class="keyword">( </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] ) ) </span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">implode_md</span><span class="keyword">( </span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">], </span><span class="default">$key</span><span class="keyword">, </span><span class="default">$list </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else </span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">( </span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$ret </span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80381""></a>
  <div class="note">
   <strong class="user">jimbob</strong>
   <a href="#80381" class="date">12-Jan-2008 08:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My take on a simple english list function - it's similar to what's already here, but calls count less<br />
<br />
function x_implode_eng_list($array, $glue=', ', $final=' and '){<br />
&nbsp;&nbsp;&nbsp; //takes an array and outputs an English style list<br />
&nbsp;&nbsp;&nbsp; //perform the count once<br />
&nbsp;&nbsp;&nbsp; $count = count($array);<br />
&nbsp;&nbsp;&nbsp; //make sure it's an array and has content<br />
&nbsp;&nbsp;&nbsp; if((!is_array($array)) || ($count == 0)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return '';<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //pop off the end regardless of length<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $end = array_pop($array);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //if there's more than one, implode the remainder using glue and append $end<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($count&gt;1){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return implode($glue, $array) . $final . $end;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //only one value, return the popped end element<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return $end;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
$names[] = 'bob';<br />
$names[] = 'john';<br />
$names[] = 'lucy';<br />
echo x_implode_eng_list($names); //will output bob, john and lucy<br />
<br />
echo x_implode_eng_list($names, ', ', ' or '); //will output bob, john or lucy</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79080""></a>
  <div class="note">
   <strong class="user">datacompboy at call2ru dot com</strong>
   <a href="#79080" class="date">09-Nov-2007 11:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
suppose we have array $content with total size of 10Mb of text.<br />
<br />
then,<br />
&nbsp; $content = join($content);<br />
will run about 23 sec (on my machine -- athlon xp 2600+, 1.5 Gb ram)<br />
<br />
and<br />
&nbsp; file_put_contents("tempfile", $content);<br />
&nbsp; $content = file_get_contents("tempfile");<br />
will run for 0.12 sec (same machine).<br />
<br />
so, think carefully about speed.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78411""></a>
  <div class="note">
   <strong class="user">1413 at blargh dot com</strong>
   <a href="#78411" class="date">10-Oct-2007 03:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Below is the function for making an English-style list from an array, seems to be simpler than some of the other examples I've seen.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">ImplodeProper</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$lastConnector </span><span class="keyword">= </span><span class="string">'and'</span><span class="keyword">)<br />
{<br />
&nbsp; if( !</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">) or </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">) == </span><span class="default">0</span><span class="keyword">) return </span><span class="string">''</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">,</span><span class="default">$arr</span><span class="keyword">).</span><span class="string">", </span><span class="default">$lastConnector</span><span class="string"> </span><span class="default">$last</span><span class="string">"</span><span class="keyword">;<br />
&nbsp; else<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$last</span><span class="keyword">;&nbsp; <br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Examples:<br />
&lt;?<br />
&nbsp;&nbsp; print ImplodeProper(array()).'&lt;br&gt;';<br />
&nbsp;&nbsp; print ImplodeProper(array('foo')).'&lt;br&gt;';<br />
&nbsp;&nbsp; print ImplodeProper(array('foo','bar')).'&lt;br&gt;';<br />
&nbsp;&nbsp; print ImplodeProper(array('for','bar','bleh')).'&lt;br&gt;';<br />
?&gt;<br />
<br />
Yields:<br />
<br />
foo<br />
foo, and bar<br />
for, bar, and bleh</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78332""></a>
  <div class="note">
   <strong class="user">sinatosk at gmail dot com</strong>
   <a href="#78332" class="date">07-Oct-2007 05:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This code implodes same as the PHP built in except it allows you to do multi dimension arrays ( similar to a function below but works dynamic :p.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">implode_md</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">$array_path</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if ( !empty(</span><span class="default">$array_path</span><span class="keyword">) )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array_path </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$array_path</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( ( </span><span class="default">$array_path_sizeof </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$array_path</span><span class="keyword">) ) &lt; </span><span class="default">1 </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array_sizeof </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; for ( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$array_sizeof</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++ )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[ </span><span class="default">$i </span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for ( </span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$array_path_sizeof</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++ )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">=&amp; </span><span class="default">$value</span><span class="keyword">[ </span><span class="default">$array_path</span><span class="keyword">[ </span><span class="default">$j </span><span class="keyword">] ];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$str </span><span class="keyword">.= </span><span class="default">$value </span><span class="keyword">. </span><span class="default">$glue</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[ </span><span class="default">$array_sizeof </span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; for ( </span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">$array_path_sizeof</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++ )<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">=&amp; </span><span class="default">$value</span><span class="keyword">[ </span><span class="default">$array_path</span><span class="keyword">[ </span><span class="default">$j </span><span class="keyword">] ];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$str </span><span class="keyword">.= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$str</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
And heres an example on how to use this<br />
<br />
<span class="default">&lt;?php<br />
<br />
$arr </span><span class="keyword">= array();<br />
</span><span class="default">$arr</span><span class="keyword">[][</span><span class="string">'data'</span><span class="keyword">][</span><span class="string">'id'</span><span class="keyword">] = </span><span class="string">'a'</span><span class="keyword">;<br />
</span><span class="default">$arr</span><span class="keyword">[][</span><span class="string">'data'</span><span class="keyword">][</span><span class="string">'id'</span><span class="keyword">] = </span><span class="string">'b'</span><span class="keyword">;<br />
</span><span class="default">$arr</span><span class="keyword">[][</span><span class="string">'data'</span><span class="keyword">][</span><span class="string">'id'</span><span class="keyword">] = </span><span class="string">'c'</span><span class="keyword">;<br />
</span><span class="default">$arr</span><span class="keyword">[][</span><span class="string">'data'</span><span class="keyword">][</span><span class="string">'id'</span><span class="keyword">] = </span><span class="string">'d'</span><span class="keyword">;<br />
</span><span class="default">$arr</span><span class="keyword">[][</span><span class="string">'data'</span><span class="keyword">][</span><span class="string">'id'</span><span class="keyword">] = </span><span class="string">'e'</span><span class="keyword">;<br />
</span><span class="default">$arr</span><span class="keyword">[][</span><span class="string">'data'</span><span class="keyword">][</span><span class="string">'id'</span><span class="keyword">] = </span><span class="string">'f'</span><span class="keyword">;<br />
</span><span class="default">$arr</span><span class="keyword">[][</span><span class="string">'data'</span><span class="keyword">][</span><span class="string">'id'</span><span class="keyword">] = </span><span class="string">'g'</span><span class="keyword">;<br />
<br />
echo </span><span class="default">implode_md</span><span class="keyword">(</span><span class="string">','</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">, </span><span class="string">'data.id'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
The output of this code should be<br />
<br />
'a,b,c,d,e,f,g'<br />
<br />
When you want to work with more dimensions... say for example you have an array that is like this<br />
<br />
<span class="default">&lt;?php<br />
<br />
$arr</span><span class="keyword">=array();<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'game'</span><span class="keyword">][</span><span class="string">'pc'</span><span class="keyword">][</span><span class="string">'fps'</span><span class="keyword">][</span><span class="string">'idsoftware'</span><span class="keyword">] = </span><span class="string">'Quake'</span><span class="keyword">;<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'game'</span><span class="keyword">][</span><span class="string">'pc'</span><span class="keyword">][</span><span class="string">'fps'</span><span class="keyword">][</span><span class="string">'idsoftware'</span><span class="keyword">] = </span><span class="string">'Quake II'</span><span class="keyword">;<br />
</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">][</span><span class="string">'game'</span><span class="keyword">][</span><span class="string">'pc'</span><span class="keyword">][</span><span class="string">'fps'</span><span class="keyword">][</span><span class="string">'idsoftware'</span><span class="keyword">] = </span><span class="string">'Quake III Arena'</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
on the third parameter... as a string you simply type in<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">echo </span><span class="default">implode_md</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">, </span><span class="string">'game.pc.fps.idsoftware'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
and the output should be<br />
<br />
'Quake, Quake II, Quake III Arena'<br />
<br />
Enjoy ;)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76295""></a>
  <div class="note">
   <strong class="user">thomas at tgohome dot com</strong>
   <a href="#76295" class="date">09-Jul-2007 01:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is my quick function to create a list, English style, but will accept any glue, so you could use 'or', or even 'or though, it could be', etcetera. It should also support PHP 4, although I haven't tested it; it doesn't use the PHP 5 negative substr() trick. <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/**<br />
&nbsp;* Quick script to join items in an array, English<br />
&nbsp;* style; using the "one, two and three" style.<br />
&nbsp;*<br />
&nbsp;* Copyright 2007 Thomas O. Feel free to redistribute<br />
&nbsp;* so long as this copyright remains. <br />
&nbsp;*/<br />
<br />
</span><span class="keyword">function </span><span class="default">implode_ea</span><span class="keyword">(</span><span class="default">$glue_punct</span><span class="keyword">, </span><span class="default">$glue_word</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Implode the entire array<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$glue_punct</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Check the length of the array<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &gt; </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Calculate the amount needed to trim<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$trimamount </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">]) + </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$glue_punct</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Trim the imploded string<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">) - </span><span class="default">$trimamount</span><span class="keyword">); </span><span class="comment">// PHP 4 compatible<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="string">"</span><span class="default">$result</span><span class="string"> </span><span class="default">$glue_word</span><span class="string"> " </span><span class="keyword">. </span><span class="default">$array</span><span class="keyword">[</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">];<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Return the result<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// In this case, the array cannot be splitted by a<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // word or punctuation, because it is too small.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
echo </span><span class="default">implode_ea</span><span class="keyword">(</span><span class="string">", "</span><span class="keyword">, </span><span class="string">"and"</span><span class="keyword">, array(</span><span class="string">"one"</span><span class="keyword">, </span><span class="string">"two"</span><span class="keyword">, </span><span class="string">"three"</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
(implode_ea stands for 'Implode, English And style')<br />
<br />
Hope this helps,<br />
Tom</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76196""></a>
  <div class="note">
   <strong class="user">peter dot goodman at gmail dot com</strong>
   <a href="#76196" class="date">04-Jul-2007 10:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I came up with this nifty function to implode an Iterator or class that implements IteratorAggregate:<br />
<br />
function implode_iterator($sep = '', $it) {<br />
&nbsp;&nbsp;&nbsp; $a = array();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(!$it instanceof Traversable) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; throw new UnexpectedValueException('$it must implement Traversable.');<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if($it instanceof IteratorAggregate) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $a = iterator_to_array($it, FALSE);<br />
&nbsp;&nbsp;&nbsp; } else if($it instanceof Iterator) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach($it as $val) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $a[] = $val;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return implode($sep, $a);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76144""></a>
  <div class="note">
   <strong class="user">Dennis Day</strong>
   <a href="#76144" class="date">02-Jul-2007 02:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have resolved an issue in SquirrelMail.&nbsp; The problem seemed to be with the implode command.&nbsp; Apparently you do not want to use this function with a large array as SquirellMail attempted to do.&nbsp; This only was an issue with some of the email attachments larger that 2MB.<br />
<br />
In /src/move_messages.php, replace the line line that says <br />
<br />
$body = implode('', $body_a); <br />
<br />
With :<br />
<br />
// Dennis Day's custom code<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $body = "";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach($body_a as $body_a_key=&gt;$body_a_value){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $body .= $body_a_value;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
// End Dennis Day's custom code<br />
<br />
// Original Bad Code<br />
//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $body = implode('', $body_a);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75760""></a>
  <div class="note">
   <strong class="user">TheMadBomberWhatBombsAtMidnight</strong>
   <a href="#75760" class="date">14-Jun-2007 08:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in response to Brian, building a POST/GET string from an assoc array is easily done with the builtin http_build_query...as the example from its doc page shows:<br />
<br />
<span class="default">&lt;?php<br />
$data </span><span class="keyword">= array(</span><span class="string">'foo'</span><span class="keyword">=&gt;</span><span class="string">'bar'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'baz'</span><span class="keyword">=&gt;</span><span class="string">'boom'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'cow'</span><span class="keyword">=&gt;</span><span class="string">'milk'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'php'</span><span class="keyword">=&gt;</span><span class="string">'hypertext processor'</span><span class="keyword">);<br />
<br />
echo </span><span class="default">http_build_query</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">); </span><span class="comment">// foo=bar&amp;baz=boom&amp;cow=milk&amp;php=hypertext+processor<br />
</span><span class="default">?&gt;<br />
</span><br />
of course, the builtin function also urlencodes the string it returns, which Brian's function did not.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74011""></a>
  <div class="note">
   <strong class="user">darwinkid at gmail dot com</strong>
   <a href="#74011" class="date">20-Mar-2007 12:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this is a little function i made to implode an array based on key. its main purpose is to implode elements within<br />
a multi-dimensional array. its slightly different than some of the other examples because it makes use of some<br />
PHP SPL features. if your not using PHP5, this definitely won't work for you.<br />
<br />
let me know what you think!<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">implode_by_key</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$keyname</span><span class="keyword">, </span><span class="default">$pieces</span><span class="keyword">)<br />
{<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// create a new recursive iterator to get array items<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$it </span><span class="keyword">= new </span><span class="default">RecursiveIteratorIterator</span><span class="keyword">(new </span><span class="default">RecursiveArrayIterator</span><span class="keyword">(</span><span class="default">$pieces</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$it </span><span class="keyword">AS </span><span class="default">$element</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$it</span><span class="keyword">-&gt;</span><span class="default">key</span><span class="keyword">() == </span><span class="default">$keyname</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[] = </span><span class="default">$it</span><span class="keyword">-&gt;</span><span class="default">current</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">);<br />
<br />
}<br />
<br />
</span><span class="comment">// here is an example<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'somekey' </span><span class="keyword">=&gt; </span><span class="string">'somevalue'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'key2' </span><span class="keyword">=&gt; </span><span class="string">'anoter value'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'key2' </span><span class="keyword">=&gt; </span><span class="string">'another sub value'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'key3' </span><span class="keyword">=&gt; </span><span class="string">'asdlkfs jdafajdshf aoufiahsdlkfjsadf'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'key4' </span><span class="keyword">=&gt; </span><span class="string">'this is key 4 - 1'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'key4' </span><span class="keyword">=&gt; </span><span class="string">'this is key 4 - 2'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'key4' </span><span class="keyword">=&gt; </span><span class="string">'this is key 4 - 3'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'key5' </span><span class="keyword">=&gt; </span><span class="string">'asdfkajsdflkasjdfklajshfkljasfhasdfasdf'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="string">'key5' </span><span class="keyword">=&gt; </span><span class="string">'asdfkajsdflkasjdfklajshfkljasfhasdfasdf'</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; );<br />
<br />
echo </span><span class="default">implode_by_key</span><span class="keyword">(</span><span class="string">'&lt;br/&gt;'</span><span class="keyword">, </span><span class="string">'key4'</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
This outputs:<br />
<br />
this is key 4 - 1<br />
this is key 4 - 2<br />
this is key 4 - 3</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73985""></a>
  <div class="note">
   <strong class="user">Hayley</strong>
   <a href="#73985" class="date">19-Mar-2007 02:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
And adding one more case to drewish at katherinehouse dot com's code to deal with the two-element case "a and b":<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">case </span><span class="default">2</span><span class="keyword">:<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">).</span><span class="string">' and '</span><span class="keyword">.</span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Of course, then one can start considering Oxford rules again, and maybe testing that the argument really is an array....<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">english_list</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$useOxfordComma</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; switch(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; case </span><span class="default">0</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; case </span><span class="default">1</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// This may not be a normal numerically-indexed array.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; case </span><span class="default">2</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">).</span><span class="string">' and '</span><span class="keyword">.</span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">).(</span><span class="default">$useOxfordComma</span><span class="keyword">?</span><span class="string">','</span><span class="keyword">:</span><span class="string">''</span><span class="keyword">).</span><span class="string">' and '</span><span class="keyword">.</span><span class="default">$last</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72143""></a>
  <div class="note">
   <strong class="user">ahigerd at stratitec dot com</strong>
   <a href="#72143" class="date">04-Jan-2007 06:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that PHP uses copy-on-write so passing parameters (even array parameters) by reference gains you no performance benefit, and in fact in some cases can HURT performance.<br />
<br />
For example:<br />
<br />
php &gt; $array = array('a','s','d','f');<br />
php &gt; $start = microtime(true); for($i=0; $i&lt;1000000; $i++) byref($array); echo microtime(true)-$start;<br />
2.40807890892<br />
php &gt; $start = microtime(true); for($i=0; $i&lt;1000000; $i++) byval($array); echo microtime(true)-$start;<br />
1.40822386742</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71348""></a>
  <div class="note">
   <strong class="user">bishop</strong>
   <a href="#71348" class="date">23-Nov-2006 06:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The english_list() implementation of davidpk212 at gmail dot com, Andy Morris, and tshort at cisco dot com does not handle the case of a two-element array with Oxford comma.&nbsp; Example:<br />
<br />
<span class="default">&lt;?php<br />
english_list</span><span class="keyword">(array (</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">), </span><span class="default">true</span><span class="keyword">) </span><span class="comment">// == 'a, and b'<br />
// should be 'a and b'<br />
</span><span class="default">?&gt;<br />
</span><br />
Here's another implementation that addresses this issue, uses pass-by-reference without modifying the array, and illustrates yet another approach to solving the problem:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">english_list</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$useOxfordComma </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$count </span><span class="keyword">= (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) ? </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) : </span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">3 </span><span class="keyword">&lt;= </span><span class="default">$count</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$list </span><span class="keyword">= </span><span class="default">prev</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) . (</span><span class="default">$useOxfordComma </span><span class="keyword">? </span><span class="string">', and ' </span><span class="keyword">: </span><span class="string">' and '</span><span class="keyword">) . </span><span class="default">$last</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$v </span><span class="keyword">= </span><span class="default">prev</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$list </span><span class="keyword">= </span><span class="default">$v </span><span class="keyword">. </span><span class="string">', ' </span><span class="keyword">. </span><span class="default">$list</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; } else if (</span><span class="default">2 </span><span class="keyword">== </span><span class="default">$count</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$list </span><span class="keyword">= </span><span class="default">prev</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) . </span><span class="string">' and ' </span><span class="keyword">. </span><span class="default">$last</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else if (</span><span class="default">1 </span><span class="keyword">== </span><span class="default">$count</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$list </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; } else { <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$list</span><span class="keyword">;<br />
}&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
</span><span class="default">?&gt;<br />
</span><br />
Run times for this version are comparable to the run times for heir earlier posted versions.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71346""></a>
  <div class="note">
   <strong class="user">richard at happymango dot me dot uk</strong>
   <a href="#71346" class="date">23-Nov-2006 04:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a simple function that is the same as implode except it allows you to specify two glue parameters instead of one so an imploded array would output "this, this, this and this" rather than "this, this, this, this, this".<br />
<br />
This is useful if you want to implode arrays into a string to echo as part of a sentence.<br />
<br />
It uses the second glue between the last two items and the first glue between all others. It will use the second glue if there are only two items to implode so it would output "this and this".<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">implode2</span><span class="keyword">(</span><span class="default">$glue1</span><span class="keyword">, </span><span class="default">$glue2</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return ((</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &gt; </span><span class="default">2</span><span class="keyword">)? </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$glue1</span><span class="keyword">, </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">)).</span><span class="default">$glue1 </span><span class="keyword">: </span><span class="string">""</span><span class="keyword">).</span><span class="default">implode</span><span class="keyword">(</span><span class="default">$glue2</span><span class="keyword">, </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, -</span><span class="default">2</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="comment">//example below<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array(</span><span class="string">"Monday"</span><span class="keyword">, </span><span class="string">"Tuesday"</span><span class="keyword">);<br />
echo </span><span class="string">"1: "</span><span class="keyword">.</span><span class="default">implode2</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="string">' and '</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array(</span><span class="string">"Mon"</span><span class="keyword">, </span><span class="string">"Tue"</span><span class="keyword">, </span><span class="string">"Wed"</span><span class="keyword">, </span><span class="string">"Thu"</span><span class="keyword">, </span><span class="string">"Fri"</span><span class="keyword">);<br />
echo </span><span class="string">"2: "</span><span class="keyword">.</span><span class="default">implode2</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="string">' &amp;amp; '</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array( </span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">);<br />
echo </span><span class="string">"3: "</span><span class="keyword">.</span><span class="default">implode2</span><span class="keyword">(</span><span class="string">' + '</span><span class="keyword">, </span><span class="string">' = '</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This outputs<br />
<br />
1: Monday and Tuesday<br />
2: Mon, Tue, Wed, Thu &amp; Fri<br />
3: 1 + 2 + 3 + 4 = 10</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70165""></a>
  <div class="note">
   <strong class="user">Demonisch</strong>
   <a href="#70165" class="date">05-Oct-2006 02:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Very simple function for imploding a certain column in a 2D array. Useful if you have fetched records from a database in an associative array and want to store all the values in a certain column as a string, for use with JavaScript or passing values from page to page.<br />
<br />
$sep = the separator, such as " ", "," or "&amp;amp;"<br />
$array = the 2D associative array<br />
$key = the column key, such as "id"<br />
<br />
Feel free to add error protection<br />
<br />
function implodeArray2D ($sep, $array, $key)<br />
{<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; $num = count($array);<br />
&nbsp;&nbsp;&nbsp; $str = "";<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; for ($i = 0; $i &lt; $num; $i++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($i)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $str .= $sep;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $str .= $array[$i][$key];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return $str;<br />
&nbsp;&nbsp;&nbsp; <br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69422""></a>
  <div class="note">
   <strong class="user">triptripon at gmail dot com</strong>
   <a href="#69422" class="date">05-Sep-2006 02:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's my 2 matching (implode|explode)_with_key functions.<br />
Notice, the inglue, outglue cannot appear within the keys\values.<br />
<br />
function implode_with_key($assoc, $inglue = '&gt;', $outglue = ',')<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $return = '';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($assoc as $tk =&gt; $tv) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $return .= $outglue . $tk . $inglue . $tv;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return substr($return,strlen($outglue));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function explode_with_key($str, $inglue = "&gt;", $outglue = ',')<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $hash = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (explode($outglue, $str) as $pair)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $k2v = explode($inglue, $pair);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $hash[$k2v[0]] = $k2v[1];&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $hash;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
-- Tomer Levinboim</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68843""></a>
  <div class="note">
   <strong class="user">worldwideweb dot C-Kling dot de</strong>
   <a href="#68843" class="date">12-Aug-2006 12:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A Script for imploding a multideimensional Array. You give an array of separators in the first argument, and a (multidimensional) array in the second. The script will return the imploded array.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">multimplode</span><span class="keyword">(</span><span class="default">$spacer</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">) <br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; if (empty(</span><span class="default">$spacer</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return(</span><span class="default">multimplode</span><span class="keyword">(array(</span><span class="string">""</span><span class="keyword">),</span><span class="default">$array</span><span class="keyword">)); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$trenn</span><span class="keyword">=</span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$spacer</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (list(</span><span class="default">$key</span><span class="keyword">,</span><span class="default">$val</span><span class="keyword">) = </span><span class="default">each</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">)) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]=</span><span class="default">multimplode</span><span class="keyword">(</span><span class="default">$spacer</span><span class="keyword">,</span><span class="default">$val</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">=</span><span class="default">implode</span><span class="keyword">(</span><span class="default">$trenn</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66470""></a>
  <div class="note">
   <strong class="user">adnan at barakatdesigns dot net</strong>
   <a href="#66470" class="date">23-May-2006 09:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An easier way of achieving the same result as implode_with_keys() - and quicker execution time:<br />
<br />
&lt;?<br />
/* NOTE: $glue is not used if $is_query is true */<br />
function implode_with_keys($array, $glue, $is_query = false) {<br />
&nbsp;&nbsp;&nbsp; if($is_query == true) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return str_replace(array('[', ']', '&amp;'), array('%5B', '%5D', '&amp;amp;'), http_build_query($array));<br />
<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return urldecode(str_replace("&amp;", $glue, http_build_query($array)));<br />
<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
}<br />
<br />
echo implode_with_keys(array('a[1]' =&gt; 'some text', 'a[2]' =&gt; 'even more text'), false, true);<br />
/* Will output 'a%5B1%5D=some+text&amp;amp;a%5B2%5D=even+more+text' */<br />
/* This won't break html validation */<br />
<br />
echo implode_with_keys(array('a[1]' =&gt; 'foo bar', 'b' =&gt; 'more text'), '|');<br />
/* Will output 'a[1]=foo bar|b=more text' */<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60318""></a>
  <div class="note">
   <strong class="user">dabduster at gmail dot com</strong>
   <a href="#60318" class="date">03-Jan-2006 08:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
an implementation of adrian at foeder dot de implode_with_keys function for input and update sql statement.<br />
<br />
function implode_param($glue, $array, $valwrap='', $mode = 0)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; /*&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; if mode = 0 output is key and values<br />
&nbsp;&nbsp;&nbsp; if mode = 1 output only keys<br />
&nbsp;&nbsp;&nbsp; if mode = 2 output only values<br />
&nbsp;&nbsp;&nbsp; */<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; switch ($mode){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case 1:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach($array AS $key =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $ret[] = $valwrap.$key.$valwrap;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case 2:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach($array AS $key =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $ret[] = $valwrap.$value.$valwrap;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; break;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case 0:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach($array AS $key =&gt; $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $ret[] = $key."=".$valwrap.$value.$valwrap;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return implode($glue, $ret);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58320""></a>
  <div class="note">
   <strong class="user">adrian at foeder dot de</strong>
   <a href="#58320" class="date">31-Oct-2005 04:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
...and a mysql-update-statement-compatible implementation of implode_with_keys:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">implode_with_keys</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">, </span><span class="default">$valwrap</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">AS </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">$key</span><span class="keyword">.</span><span class="string">"="</span><span class="keyword">.</span><span class="default">$valwrap</span><span class="keyword">.</span><span class="default">$value</span><span class="keyword">.</span><span class="default">$valwrap</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$ret</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
so implode_with_keys(", ", $array, "'") will output:<br />
<br />
key1='value1', key2='value2'<br />
<br />
and so on. Useful for UPDATE table SET key1='value1', key2='value2'</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57220""></a>
  <div class="note">
   <strong class="user">Peter Hopfgartner</strong>
   <a href="#57220" class="date">27-Sep-2005 07:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Correctly initializing all variables, this would become:<br />
<br />
function implode_with_key($assoc, $inglue = '=', $outglue = '&amp;'){<br />
&nbsp;&nbsp;&nbsp; $return = '';<br />
&nbsp;&nbsp;&nbsp; foreach ($assoc as $tk =&gt; $tv) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $return = ($return != '' ? $return . $outglue : '') .<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $tk . $inglue . $tv;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $return;<br />
}<br />
<br />
Note, the return value is also well defined if $assoc is empty.<br />
<br />
Regards</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56623""></a>
  <div class="note">
   <strong class="user">php at josh dot jeppsons dot org</strong>
   <a href="#56623" class="date">09-Sep-2005 09:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Another variation on implode_with_key:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">implode_with_key</span><span class="keyword">(</span><span class="default">$assoc</span><span class="keyword">, </span><span class="default">$inglue </span><span class="keyword">= </span><span class="string">'='</span><span class="keyword">, </span><span class="default">$outglue </span><span class="keyword">= </span><span class="string">'&amp;'</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$assoc </span><span class="keyword">as </span><span class="default">$tk </span><span class="keyword">=&gt; </span><span class="default">$tv</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= (isset(</span><span class="default">$return</span><span class="keyword">) ? </span><span class="default">$return </span><span class="keyword">. </span><span class="default">$outglue </span><span class="keyword">: </span><span class="string">''</span><span class="keyword">) . </span><span class="default">$tk </span><span class="keyword">. </span><span class="default">$inglue </span><span class="keyword">. </span><span class="default">$tv</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56281""></a>
  <div class="note">
   <strong class="user">pr10n at spymac dot com</strong>
   <a href="#56281" class="date">29-Aug-2005 09:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A little tweak on info at urbits dot com's suggestion just incase someone changes their value of $outglue:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">implode_with_key</span><span class="keyword">(</span><span class="default">$assoc</span><span class="keyword">, </span><span class="default">$inglue </span><span class="keyword">= </span><span class="string">'='</span><span class="keyword">, </span><span class="default">$outglue </span><span class="keyword">= </span><span class="string">'&amp;'</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; foreach (</span><span class="default">$assoc </span><span class="keyword">as </span><span class="default">$tk </span><span class="keyword">=&gt; </span><span class="default">$tv</span><span class="keyword">) </span><span class="default">$return </span><span class="keyword">.= </span><span class="default">$outglue</span><span class="keyword">.</span><span class="default">$tk</span><span class="keyword">.</span><span class="default">$inglue</span><span class="keyword">.</span><span class="default">$tv</span><span class="keyword">;<br />
&nbsp;&nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">,</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$outglue</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55994""></a>
  <div class="note">
   <strong class="user">info at urbits dot com</strong>
   <a href="#55994" class="date">19-Aug-2005 06:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I liked memandeemail's (27-Apr-2005) neat code for imploding an associative array. I have done a mod so that, by default, it returns a url query string.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">implode_with_key</span><span class="keyword">(</span><span class="default">$assoc</span><span class="keyword">, </span><span class="default">$inglue </span><span class="keyword">= </span><span class="string">'='</span><span class="keyword">, </span><span class="default">$outglue </span><span class="keyword">= </span><span class="string">'&amp;'</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; foreach (</span><span class="default">$assoc </span><span class="keyword">as </span><span class="default">$tk </span><span class="keyword">=&gt; </span><span class="default">$tv</span><span class="keyword">) </span><span class="default">$return </span><span class="keyword">.= </span><span class="default">$outglue</span><span class="keyword">.</span><span class="default">$tk</span><span class="keyword">.</span><span class="default">$inglue</span><span class="keyword">.</span><span class="default">$tv</span><span class="keyword">;<br />
&nbsp;&nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$return</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Example:<br />
<span class="default">&lt;?php<br />
$assoc_array </span><span class="keyword">= array(</span><span class="string">"a" </span><span class="keyword">=&gt; </span><span class="string">"foo"</span><span class="keyword">, </span><span class="string">"b" </span><span class="keyword">=&gt; </span><span class="string">"bar"</span><span class="keyword">, </span><span class="string">"c" </span><span class="keyword">=&gt; </span><span class="string">"foobar"</span><span class="keyword">);<br />
echo (</span><span class="default">implode_with_key</span><span class="keyword">(</span><span class="default">$assoc_array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
ouput: a=foo&amp;b=bar&amp;c=foobar<br />
<br />
usage: After altering the $HTTP_GET_VARS values, I pass $HTTP_GET_VARS to the function to easily build variation urls for links and header redirects.<br />
<br />
note: This function doesn't encode the url string or check for empty variables.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54533""></a>
  <div class="note">
   <strong class="user">cristianDOTzuddas [AT] gmailDOTcom</strong>
   <a href="#54533" class="date">07-Jul-2005 12:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
...and another variation of "implode_assoc" function. Just added the boolean parameter $urlencoded; if TRUE returns the array value in URL encod format. If the parameter is not given it behaves like the original function.<br />
<br />
&lt;?<br />
function implode_assoc($inner_glue, $outer_glue, $array, $skip_empty=false, $urlencoded=false) {<br />
&nbsp;&nbsp;&nbsp; $output = array();<br />
&nbsp;&nbsp;&nbsp; foreach($array as $key=&gt;$item) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!$skip_empty || isset($item)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ($urlencoded)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $output[] = $key.$inner_glue.urlencode($item);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $output[] = $key.$inner_glue.$item;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return implode($outer_glue, $output);<br />
}<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53418""></a>
  <div class="note">
   <strong class="user">sam dot bledsoe at nosp at nn dot gmail dot com</strong>
   <a href="#53418" class="date">31-May-2005 08:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The function below recursively outputs an array in a format condusive to parsing it in php or another scripting language.&nbsp; It does NOT output the name of the original array, for that see note 1.&nbsp; It handles all the cases I could think of elegantly.&nbsp; Comments and criticisms are welcome.<br />
<br />
For an array constructed with:<br />
<br />
$arr = array("foo" =&gt; array('bar' =&gt; array(0 =&gt; "value 0", 1 =&gt; "value 1")), "foo two" =&gt; array(0 =&gt; array("bar" =&gt; "value2")));<br />
<br />
The line below:<br />
<br />
echo implode_parseable("=", ";&lt;br&gt;$", $arr, "$", ";");<br />
<br />
Will produce:<br />
<br />
$foo["bar"][0]="value 0";<br />
$foo["bar"][1]="value 1";<br />
$foo_two[0]["bar"]="value2";<br />
<br />
NOTES:<br />
1)&nbsp; If the leading identifier on a line is a number, the output will most likely be unusable since variable names cannot begin with numbers.&nbsp; You can get around this by doing something like:<br />
$arr = array('arr' =&gt; $arr);<br />
This will output the array as it actually is (because the key is the same name as the array) instead of just its fields.<br />
2)&nbsp; Since spaces are not allowed in variable names, they are replaced in lines' leading identifiers by the $space_replace_char parameter, '_' by default.<br />
<br />
Hopefully someone will find this useful, if so drop me a line.&nbsp; Credit and thanks go out to the people who posted their code on this manual page, especially davidpk212 at gmail dot com and phpWalter at torres dot ws.<br />
<br />
function implode_parseable($inner_glue = "=", $outer_glue = "\n", $array = null, $prefix = "", $suffix = "", $space_replace_char = '_', $skip_empty = false, $current_loc = "", $recursion_level = 0){<br />
&nbsp; return $prefix . implode_parseable_r($inner_glue, $outer_glue, $array, $space_replace_char, $skip_empty, $current_loc, $recursion_level) . $suffix;<br />
}<br />
<br />
function implode_parseable_r($inner_glue = "=", $outer_glue = "\n", $array = null, $space_replace_char = '_', $skip_empty = false, $current_loc = "", $recursion_level = 0)<br />
{<br />
&nbsp; if(is_array($array)){<br />
&nbsp;&nbsp;&nbsp; $output = array();<br />
&nbsp;&nbsp;&nbsp; foreach( $array as $key =&gt; $item ){<br />
&nbsp;&nbsp; &nbsp;&nbsp; if ( is_array ($item) ){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //don't quote numeric indicies<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_string($key)) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $quoted_key = "\"" . $key . "\""; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $quoted_key = $key;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // This is value is an array, go and do it again!<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $level = $recursion_level + 1;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($recursion_level == 0){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // can't have spaces in a variable name!<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $current_loc .= str_replace(' ', $space_replace_char, $key);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $output[] = implode_parseable_r ($inner_glue, $outer_glue, $item,&nbsp; '_', $skip_empty, $current_loc, $level);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //start the position tracker over after every run from level 0<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $current_loc = '';<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $current_loc .= "[" . $quoted_key . "]";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $output[] = implode_parseable_r ($inner_glue, $outer_glue, $item,&nbsp; '_', $skip_empty, $current_loc, $level);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; //remove the last index from the position tracker string after using it<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $current_loc = ereg_replace('\[[^]]*\]$', '', $current_loc);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; don't quote or []ify the base variable name,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //&nbsp; but do for all else as appropriate<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($recursion_level != 0){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(is_string($key))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $key = "\"" . $key . "\"";<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $key = "[" . $key . "]";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
//&nbsp; &nbsp; &nbsp; &nbsp; echo "&lt;br&gt;";<br />
//&nbsp; &nbsp; &nbsp; &nbsp; var_dump($item);<br />
//&nbsp; &nbsp; &nbsp; &nbsp; echo "&lt;br&gt;";<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $skip_this = false;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($skip_empty &amp;&amp; (!isset($item) || $item == NULL || $item == '')) $skip_this = true;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; //quote the item (which is the value of the array index) if it is a string<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(is_string($item)) $item = "\"" . $item . "\"";<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!$skip_this) $output[] = $current_loc . $key . $inner_glue . $item;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return implode($outer_glue, $output);<br />
&nbsp; }else{<br />
&nbsp;&nbsp;&nbsp; return $array;<br />
&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53391""></a>
  <div class="note">
   <strong class="user">Klba</strong>
   <a href="#53391" class="date">31-May-2005 05:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in case of value $item==0 but is set is necessary use function isset()<br />
<br />
function implode_assoc($inner_glue,$outer_glue,$array,$skip_empty=false){<br />
&nbsp;$output=array();<br />
&nbsp;foreach($array as $key=&gt;$item)<br />
&nbsp; if(!$skip_empty || isset($item)){$output[]=$key.$inner_glue.$item;}<br />
&nbsp;return implode($outer_glue,$output);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52871""></a>
  <div class="note">
   <strong class="user">killroy at g m a i l dot c o m</strong>
   <a href="#52871" class="date">16-May-2005 01:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is another variation on Chris' function. I added a $skip_empty parameter. if it's set to TRUE the result string will not contain keys whose values are empty. Great for building query_strings. If the parameter is not given it behaves like the original function:<br />
<br />
$a='1';<br />
$b='';<br />
$c='3';<br />
<br />
INPUT: implode_assoc('=','&amp;',array('a'=&gt;$a,'b'=&gt;$b,'c'=&gt;$c),true);<br />
OUTPUT: a=1&amp;c=3<br />
<br />
INPUT: implode_assoc('=','&amp;',array('a'=&gt;$a,'b'=&gt;$b,'c'=&gt;$c));<br />
OUTPUT: a=1&amp;b=&amp;c=3<br />
<br />
function implode_assoc($inner_glue,$outer_glue,$array,$skip_empty=false){<br />
&nbsp;$output=array();<br />
&nbsp;foreach($array as $key=&gt;$item)<br />
&nbsp; if(!$skip_empty || $item){$output[]=$key.$inner_glue.$item;}<br />
&nbsp;return implode($outer_glue,$output);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52398""></a>
  <div class="note">
   <strong class="user">tshort at cisco dot com</strong>
   <a href="#52398" class="date">29-Apr-2005 07:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Correction: I meant "passed by value", not "pass by reference". My mistake. Passing by reference would speed up any of these functions by avoiding the copy necessary for "by value.<br />
<br />
Other solutions have problems with non-arrays as well. But it demonstrates that there are many ways to solve this problem. Adding checks for non-arrays and short arrays makes the solution less elegant, but safer. Other solutions should have included similar protections.<br />
<br />
function english_list($array, $oxfordComma=0)<br />
{<br />
&nbsp; if (!is_array($array)) return $array;<br />
&nbsp; if (count($array) &lt;= 1) return join(", ", $array);<br />
&nbsp; $last = array_pop($array);<br />
&nbsp; return join(", ", $array) . ($oxfordComma ? "," : "") . " and " . $last;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52376""></a>
  <div class="note">
   <strong class="user">Andy Morris</strong>
   <a href="#52376" class="date">28-Apr-2005 05:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's always dangerous to give sweeping statements like "this will always work!". Your solution is much more elegant than mine, but perhaps it's a little too elegant for its own good! Try giving it an array with zero or one elements in it for example. You could say that folks shouldn't call it in that case, but you know folks... they like pushing the boundaries. :-)<br />
<br />
Perhaps you meant to say that the array can be altered inside the function because it is passed "by value" rather than "by reference", or is that just a mixture of terminology from my C++ upbringing? Passing by reference would imply that you could alter the array inside the function and have that alter its value outside. Passing by value implies that any changes inside the function affect the local function copy only. In PHP, the latter is clearly the case, unless a variable is explicitly declared as global.<br />
<br />
OK, that's my 2c.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52371""></a>
  <div class="note">
   <strong class="user">tshort at cisco dot com</strong>
   <a href="#52371" class="date">28-Apr-2005 01:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/* <br />
&nbsp; english_list()<br />
This one works with anything, since the array is passed by reference, modifying it in the function via pop has no effect on the array outside the function. But it can't be done on one line, because the array_pop() must occur before the join().<br />
*/<br />
<br />
function english_list($array, $oxfordComma=0)<br />
{<br />
&nbsp; $last = array_pop($array);<br />
&nbsp; return join(", ", $array) . ($oxfordComma ? "," : "") . " and " . $last;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52363""></a>
  <div class="note">
   <strong class="user">Andy Morris</strong>
   <a href="#52363" class="date">28-Apr-2005 10:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Similar to a previous note, but this works for any length array, plus also works for arrays with key strings instead of integer keys! I know it's not strictly an implode() example, but it concerns what you might be considering using implode() to help you to do achieve...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Return array as a comma separated list; final two elements separated<br />
// by 'and' with an optional "Oxford" comma preceding the 'and'.<br />
</span><span class="keyword">function </span><span class="default">english_list</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$oxfordComma</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">$optionalComma </span><span class="keyword">= ( </span><span class="default">$oxfordComma </span><span class="keyword">) ? </span><span class="string">"," </span><span class="keyword">: </span><span class="string">""</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$size </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">);<br />
&nbsp; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp; foreach ( </span><span class="default">$array </span><span class="keyword">as </span><span class="default">$item </span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$str </span><span class="keyword">.= </span><span class="default">$item</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$size </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">) </span><span class="default">$str </span><span class="keyword">.= </span><span class="string">", "</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; elseif ( </span><span class="default">$i </span><span class="keyword">== </span><span class="default">$size </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">) </span><span class="default">$str </span><span class="keyword">.= </span><span class="default">$optionalComma</span><span class="keyword">.</span><span class="string">" and "</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">$str</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// test the comma separated list function<br />
</span><span class="keyword">echo </span><span class="default">english_list</span><span class="keyword">( array(), </span><span class="default">1 </span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="default">english_list</span><span class="keyword">( array(</span><span class="string">"foo"</span><span class="keyword">), </span><span class="default">1 </span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="default">english_list</span><span class="keyword">( array(</span><span class="string">"foo"</span><span class="keyword">, </span><span class="string">"bar"</span><span class="keyword">), </span><span class="default">0 </span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="default">english_list</span><span class="keyword">( array(</span><span class="string">"a" </span><span class="keyword">=&gt; </span><span class="string">"foo"</span><span class="keyword">, </span><span class="string">"b" </span><span class="keyword">=&gt; </span><span class="string">"bar"</span><span class="keyword">, </span><span class="string">"c" </span><span class="keyword">=&gt; </span><span class="string">"foobar"</span><span class="keyword">), </span><span class="default">1 </span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
echo </span><span class="default">english_list</span><span class="keyword">( array(</span><span class="string">"foo"</span><span class="keyword">, </span><span class="string">"bar"</span><span class="keyword">, </span><span class="string">"foobar"</span><span class="keyword">, </span><span class="string">"barfoo"</span><span class="keyword">), </span><span class="default">0 </span><span class="keyword">).</span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52301""></a>
  <div class="note">
   <strong class="user">memandeemail at gmail dot com</strong>
   <a href="#52301" class="date">27-Apr-2005 06:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
/**<br />
&nbsp;&nbsp; &nbsp; * Like implode but with keys<br />
&nbsp;&nbsp; &nbsp; *<br />
&nbsp;&nbsp; &nbsp; * @param string[optional] $glue<br />
&nbsp;&nbsp; &nbsp; * @param array $pieces<br />
&nbsp;&nbsp; &nbsp; * @param string[optional] $hifen<br />
&nbsp;&nbsp; &nbsp; * @return string<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; function implode_with_key($glue = null, $pieces, $hifen = ',') {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $return = null;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($pieces as $tk =&gt; $tv) $return .= $glue.$tk.$hifen.$tv;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return substr($return,1);<br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51907""></a>
  <div class="note">
   <strong class="user">davidpk212 at gmail dot com</strong>
   <a href="#51907" class="date">14-Apr-2005 08:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I made this function to create an english-readable list from an array.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">english_list</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$oxfordcomma</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$count</span><span class="keyword">];<br />
&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$count</span><span class="keyword">]);<br />
&nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">join</span><span class="keyword">(</span><span class="string">", "</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">);<br />
&nbsp; if (</span><span class="default">$oxfordcomma</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$str </span><span class="keyword">.= </span><span class="string">","</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$str </span><span class="keyword">.= </span><span class="string">" and </span><span class="default">$last</span><span class="string">"</span><span class="keyword">;<br />
&nbsp; <br />
&nbsp; return </span><span class="default">$str</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
The optional parameter "oxfordcomma" indicates whether or not to use the Oxford comma (a comma before the "and").<br />
<br />
Example:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">print </span><span class="default">english_list</span><span class="keyword">(array(</span><span class="string">"foo"</span><span class="keyword">, </span><span class="string">"bar"</span><span class="keyword">, </span><span class="string">"foobar"</span><span class="keyword">, </span><span class="string">"barfoo"</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span>Would produce:<br />
<br />
foo, bar, foobar, and barfoo</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51512""></a>
  <div class="note">
   
   <a href="#51512" class="date">01-Apr-2005 06:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is another varriation on the below code. This is useful if you are trying to store data as a string to be returned to an array later.&nbsp; It allows unlimited nested arrays to be both stored and extracted, but does not print out as pretty.<br />
<br />
function implode_assoc_r2($inner_glue = "=", $outer_glue = "\n", $recusion_level = 0, $array = null)<br />
{<br />
&nbsp;&nbsp; $output = array();<br />
<br />
&nbsp;&nbsp; foreach( $array as $key =&gt; $item )<br />
&nbsp;&nbsp; &nbsp; &nbsp; if ( is_array ($item) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // This is value is an array, go and do it again!<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $level = $recusion_level + 1;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output[] = $key . $inner_glue . $recusion_level . $inner_glue . implode_assoc_r ($inner_glue, $outer_glue, $level, $item, $keepOuterKey);<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output[] = $key . $inner_glue . $recusion_level . $inner_glue . $item;<br />
<br />
&nbsp;&nbsp; return implode($outer_glue . $recusion_level . $outer_glue, $output);<br />
}<br />
<br />
function explode_assoc_r2($inner_glue = "=", $outer_glue = "\n", $recusion_level = 0, $string = null)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp; $output=array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; $array=explode($outer_glue.$recusion_level.$outer_glue, $string);<br />
&nbsp;&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; foreach ($array as $value)<br />
&nbsp;&nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $row=explode($inner_glue.$recusion_level.$inner_glue,$value);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output[$row[0]]=$row[1];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $level = $recusion_level + 1;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(strpos($output[$row[0]],$inner_glue.$level.$inner_glue))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $output[$row[0]] = explode_with_keys_a($inner_glue,$outer_glue,$level,$output[$row[0]]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; return $output;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51416""></a>
  <div class="note">
   <strong class="user">php.net {at} nr78 {dot} net</strong>
   <a href="#51416" class="date">30-Mar-2005 06:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Also quite handy in INSERT statements:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp; </span><span class="comment">// array containing data<br />
&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">"name" </span><span class="keyword">=&gt; </span><span class="string">"John"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">"surname" </span><span class="keyword">=&gt; </span><span class="string">"Doe"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">"email" </span><span class="keyword">=&gt; </span><span class="string">"j.doe@intelligence.gov"<br />
&nbsp;&nbsp; </span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; </span><span class="comment">// build query...<br />
&nbsp;&nbsp; </span><span class="default">$sql&nbsp; </span><span class="keyword">= </span><span class="string">"INSERT INTO table"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; </span><span class="comment">// implode keys of $array...<br />
&nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">.= </span><span class="string">" (`"</span><span class="keyword">.</span><span class="default">implode</span><span class="keyword">(</span><span class="string">"`, `"</span><span class="keyword">, </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)).</span><span class="string">"`)"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; </span><span class="comment">// implode values of $array...<br />
&nbsp;&nbsp; </span><span class="default">$sql </span><span class="keyword">.= </span><span class="string">" VALUES ('"</span><span class="keyword">.</span><span class="default">implode</span><span class="keyword">(</span><span class="string">"', '"</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">).</span><span class="string">"') "</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; </span><span class="comment">// execute query...<br />
&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">mysql_query</span><span class="keyword">(</span><span class="default">$sql</span><span class="keyword">) or die(</span><span class="default">mysql_error</span><span class="keyword">());<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50570""></a>
  <div class="note">
   <strong class="user">stefan</strong>
   <a href="#50570" class="date">03-Mar-2005 09:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Even handier if you use the following:<br />
<br />
<span class="default">&lt;?php<br />
$id_nums </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">12</span><span class="keyword">,</span><span class="default">18</span><span class="keyword">,</span><span class="default">24</span><span class="keyword">);<br />
<br />
</span><span class="default">$id_nums </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">", "</span><span class="keyword">, </span><span class="default">$id_nums</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
</span><span class="default">$sqlquery </span><span class="keyword">= </span><span class="string">"Select name,email,phone from usertable where user_id IN (</span><span class="default">$id_nums</span><span class="string">)"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// $sqlquery becomes "Select name,email,phone from usertable where user_id IN (1,6,12,18,24)"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50566""></a>
  <div class="note">
   <strong class="user">Geoff Eby</strong>
   <a href="#50566" class="date">03-Mar-2005 08:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A handy use of implode in a MySQL query<br />
<br />
<span class="default">&lt;?php <br />
$id_nums </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">12</span><span class="keyword">,</span><span class="default">18</span><span class="keyword">,</span><span class="default">24</span><span class="keyword">);<br />
<br />
</span><span class="default">$id_nums </span><span class="keyword">= </span><span class="default">implode</span><span class="keyword">(</span><span class="string">" OR user_id="</span><span class="keyword">, </span><span class="default">$id_nums</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
</span><span class="default">$sqlquery </span><span class="keyword">= </span><span class="string">"Select name,email,phone from usertable where user_id=</span><span class="default">$id_nums</span><span class="string">"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// $sqlquery becomes "Select name,email,phone from usertable where user_id=1 OR user_id=6 OR user_id=12 OR user_id=18 OR user_id=24"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45667""></a>
  <div class="note">
   <strong class="user">phpWalter at torres dot ws</strong>
   <a href="#45667" class="date">14-Sep-2004 11:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Chris Ross (17-Aug-2004 11:18) gave us a great function 'implode_assoc'.<br />
<br />
But it didn't handle multi-level array.<br />
<br />
I know, a few others here added this "feature", but...<br />
<br />
I've modified Chirs' function to be recursive.<br />
<br />
Hope it helps someone.<br />
<br />
/**<br />
&nbsp; * Method to recursivly implode a multi-dimensional array<br />
&nbsp; * Orginal: Chris Ross - 17-Aug-2004<br />
&nbsp; * Modified: Walter Torres - 09-14-2004<br />
&nbsp; **/<br />
function implode_assoc_r($inner_glue = "=", $outer_glue = "\n", $array = null, $keepOuterKey = false)<br />
{<br />
&nbsp;&nbsp;&nbsp; $output = array();<br />
<br />
&nbsp;&nbsp;&nbsp; foreach( $array as $key =&gt; $item )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( is_array ($item) )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if ( $keepOuterKey )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $output[] = $key;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // This is value is an array, go and do it again!<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $output[] = implode_assoc_r ($inner_glue, $outer_glue, $item, $keepOuterKey);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $output[] = $key . $inner_glue . $item;<br />
<br />
&nbsp;&nbsp;&nbsp; return implode($outer_glue, $output);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44836""></a>
  <div class="note">
   <strong class="user">Chris Ross</strong>
   <a href="#44836" class="date">17-Aug-2004 11:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I took static's implode_with_keys, and converted into something I considered a little more programatically useful.&nbsp; I would argue that this sort of functionality should maybe be added to PHP.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/* This isn't really DB function, but it's general...&nbsp; This will */<br />
/* act like the PHP implode() function, but for assoc. arrays... */<br />
</span><span class="keyword">function </span><span class="default">implode_assoc</span><span class="keyword">(</span><span class="default">$inner_glue</span><span class="keyword">, </span><span class="default">$outer_glue</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach( </span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$item </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output</span><span class="keyword">[] = </span><span class="default">$key </span><span class="keyword">. </span><span class="default">$inner_glue </span><span class="keyword">. </span><span class="default">$item</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="default">$outer_glue</span><span class="keyword">, </span><span class="default">$output</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
&nbsp; It's the same as static's, really, but allows you to join the keys to the values with any arbitrary string, rather than hard-coding a '='.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41924""></a>
  <div class="note">
   <strong class="user">john</strong>
   <a href="#41924" class="date">26-Apr-2004 02:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
hi,<br />
to prevent implode from putting the zero at the end, I use ksort().<br />
<br />
example:<br />
<br />
$val[1]="one";<br />
$val[2]="two";<br />
$val[0]="zero";<br />
ksort($val);<br />
echo implode(":",$val);<br />
//will return "zero:one:two"</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36941""></a>
  <div class="note">
   <strong class="user">chris at hitcatcher dot com</strong>
   <a href="#36941" class="date">28-Oct-2003 01:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found it neccesary to create a function that joins the contents of a single dimension from a 2-d array. Here's the code in case anyone else should need to do the same:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">join_2d</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$pieces</span><span class="keyword">, </span><span class="default">$dimension </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//joins the values of a single dimension in a 2-d array<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$rtn </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$piece </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(isset(</span><span class="default">$value</span><span class="keyword">[</span><span class="default">$dimension</span><span class="keyword">])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rtn</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">[</span><span class="default">$dimension</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">join</span><span class="keyword">(</span><span class="default">$glue</span><span class="keyword">, </span><span class="default">$rtn</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
The dimension argument can be a positive integer or a named index. Here is an example:<br />
<br />
<span class="default">&lt;?php<br />
$testarray </span><span class="keyword">= array(array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'three' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'three' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'c'</span><span class="keyword">, </span><span class="string">'three' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'d'</span><span class="keyword">, </span><span class="string">'three' </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; array(</span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'e'</span><span class="keyword">, </span><span class="string">'three' </span><span class="keyword">=&gt; </span><span class="default">5</span><span class="keyword">));<br />
<br />
print </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$testarray</span><span class="keyword">); print </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
print </span><span class="default">join_2d</span><span class="keyword">(</span><span class="string">", "</span><span class="keyword">, </span><span class="default">$testarray</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">) . </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
print </span><span class="default">join_2d</span><span class="keyword">(</span><span class="string">", "</span><span class="keyword">, </span><span class="default">$testarray</span><span class="keyword">, </span><span class="string">'three'</span><span class="keyword">) . </span><span class="string">"&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35214""></a>
  <div class="note">
   <strong class="user">dan at danposluns dot com</strong>
   <a href="#35214" class="date">23-Aug-2003 11:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
*** MULTI-DIMENSIONAL ARRAY IMPLODE ***<br />
<br />
First of all, it should be noted that the function in the previous note is not technically correct, as it glues the outside of the first piece. This is the problem faced by any function that wants to construct a set out of an array without the overhead of handling the boundary indexes. It also doesn't preserve the dimensional architecture.<br />
<br />
Use this function when you want to call implode() on a multi-dimensional array and want the resulting string to preserve the architecture of the different dimensions. For example:<br />
<br />
array ( 5, array (2, 4, 6), array (3, 6, 9, array (12)))<br />
<br />
would be reduced to:<br />
<br />
[ 5, [ 2, 4, 6 ], [ 3, 6, 9, [ 12 ] ] ]<br />
<br />
Note that this does not preserve key values. If you need those, you are probably better off using serialize() and then replacing the tokens with your own symbols using the string functions.<br />
<br />
Anyway, here is the code:<br />
<br />
function mdImpode($x, $y)<br />
{<br />
&nbsp;&nbsp;&nbsp; $a = (is_array($x)) ? '[ ' . array_reduce($x, 'mdImplode') . ' ]' : $x;<br />
&nbsp;&nbsp;&nbsp; $b = (is_array($y)) ? '[ ' . array_reduce($y, 'mdImplode') . ' ]' : $y;<br />
&nbsp;&nbsp;&nbsp; return $a . ', ' . $b;<br />
}<br />
<br />
Then to call it, use:<br />
<br />
$result = '[ ' . array_reduce($pieces, 'mdImplode') . ' ]';<br />
<br />
Note that you have to make manual changes if you want different glue or set symbols. There may be a more elegant solution, but this should be a good compromise between efficiency and simplicity (the manual says that array_reduce is iterative, so this should be pretty speedy).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="33217""></a>
  <div class="note">
   <strong class="user">gregrahkin</strong>
   <a href="#33217" class="date">19-Jun-2003 10:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function will implode a multi-dimension array<br />
<br />
function implode_r ($glue, $pieces){<br />
&nbsp;$out = "";<br />
&nbsp;foreach ($pieces as $piece)<br />
&nbsp; if (is_array ($piece)) $out .= implode_r ($glue, $piece); // recurse<br />
&nbsp; else&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $out .= $glue.$piece;<br />
&nbsp; <br />
&nbsp;return $out;<br />
&nbsp;}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32550""></a>
  <div class="note">
   <strong class="user">james at globalmegacorp dot org</strong>
   <a href="#32550" class="date">30-May-2003 07:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As a followup to the implode_with_keys function posted by 'static', here's a corresponding explode_with_keys function I wrote:<br />
<br />
function explode_with_keys($seperator, $string)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $output=array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $array=explode($seperator, $string);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($array as $value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $row=explode("=",$value);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $output[$row[0]]=$row[1];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $output;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="25811""></a>
  <div class="note">
   <strong class="user">ulderico at maber dot com dot br</strong>
   <a href="#25811" class="date">07-Oct-2002 10:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
'Implode' does not implodes recursively... It might quite useful implode recursively when you get a many Arrays values with keys that replaces themselves as:<br />
<br />
<a href="http://server/file.php?arg[1]=123&amp;arg[2]=312&amp;arg[3]=543&amp;arg[2]=abc" rel="nofollow" target="_blank">http://server/file.php?arg[1]=123&amp;arg[2]=312&amp;arg[3]=543&amp;arg[2]=abc</a><br />
<br />
If you build this URL progressively it would a great a idea that the newest value indeed took the place of any older ones, thus:<br />
<br />
<a href="http://server/file.php?arg[1]=123&amp;arg[3]=543&amp;arg[2]=abc" rel="nofollow" target="_blank">http://server/file.php?arg[1]=123&amp;arg[3]=543&amp;arg[2]=abc</a><br />
<br />
would be a better option;<br />
<br />
If one uses $_SERVER['REQUEST_URI'], this sanitation would not happen, the URL string would be greater and greater everytime.<br />
<br />
With implode_r (see below) it becomes easier to build a "sanitised" URL, the one that less likely will overflow the browser.<br />
<br />
$URL = $_SERVER['PHP_SELF'];<br />
$tmp = implode_r("&amp;", $_REQUEST); /* So as to allow to get ANY VALUE (G/P) from the Browser... */<br />
$URL .= "?".$tmp;<br />
<br />
/* implode_r */<br />
function implode_r($glue, $array, $array_name = NULL){<br />
while(list($key,$value) = @each($array))<br />
if(is_array($value))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $return[] = implode_r($glue, $value, (string) $key);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($array_name != NULL)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $return[] = $array_name."[".(string) $key."]=".$value;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $return[] = $key."=".$value;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return(implode($glue, $return));<br />
}<br />
sorry I couldn't format the code.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="23193""></a>
  <div class="note">
   <strong class="user">Cedric at isoca dot com</strong>
   <a href="#23193" class="date">11-Jul-2002 10:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Implode with an unset array will made a warning and fail, but is ok with an empty array.<br />
So if you don't trust the content of the array, allways initialize it before :<br />
&nbsp; $param = array();<br />
&nbsp; [...]<br />
&nbsp; echo implode('&amp;', $param);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21461""></a>
  <div class="note">
   <strong class="user">static</strong>
   <a href="#21461" class="date">14-May-2002 12:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The one thing missing with this function is a way to add the keys. So I wrote this little function:<br />
<br />
function implode_with_keys($glue, $array) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $output = array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach( $array as $key =&gt; $item )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $output[] = $key . "=" . $item;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return implode($glue, $output);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="19928""></a>
  <div class="note">
   <strong class="user">php at woodenpickle dot com</strong>
   <a href="#19928" class="date">14-Mar-2002 10:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hey, I found a good use for implode() today. It came from a need to have a &lt;select name=state multiple&gt; box on the page that a person could select multiple states from and send those to a &gt;SELECT * FROM customers WHERE state='$state'; query. But they need to be able to send just one state also. Well, I changes the html select box to say &lt;select name=state[] multiple&gt;. This turns $state into an array as you may know. I then, later on in the script, did this:<br />
<br />
$count = count( $state );<br />
if( $count &gt; 1 ) {<br />
&nbsp;&nbsp; &nbsp; $states = implode( "'.'", $state );<br />
&nbsp;&nbsp; &nbsp; $result = $database-&gt;query( "SELECT * FROM currentOrders WHERE date&gt;=$from AND date &lt;=$to AND state IN ('$states')" );<br />
}<br />
<br />
//This takes care of multiple states, but if the user sent only one state, I catch it here:<br />
<br />
foreach( $state as $value );<br />
if( $value )<br />
&nbsp;&nbsp; &nbsp; $result = $database-&gt;query( "SELECT * FROM currentOrders WHERE date&gt;=$from AND date&lt;=$to AND state='$value'" );<br />
else //This one will catch the ALL states option if they choose that.<br />
&nbsp;&nbsp; &nbsp; $result = $database-&gt;query( "SELECT * FROM currentOrders WHERE date&gt;=$from AND date&lt;=$to" );<br />
<br />
Anyway, I thought I'd post this up here in case it might help someone. Or maybe someone could figure out a better way and enlighten us all.. Have fun.. Bob</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.htmlspecialchars.html">htmlspecialchars</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.join.html">join</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
