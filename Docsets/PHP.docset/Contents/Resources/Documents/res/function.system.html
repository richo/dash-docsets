<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Execute an external program and display the output</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.shell-exec.html">shell_exec</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="book.sem.html">Semaphore</a></div>
 <div class="up"><a href="ref.exec.html">Program execution Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.system" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">system</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">system</span> &mdash; <span class="dc-title">Execute an external program and display the output</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.system-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>system</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$command</tt></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter reference">&$return_var</tt></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><b>system()</b></span> is just like the C version of the
   function in that it executes the given
   <i><tt class="parameter">command</tt></i> and outputs the result.
  </p>
  <p class="para">
   The <span class="function"><b>system()</b></span> call also tries to automatically
   flush the web server&#039;s output buffer after each line of output if
   PHP is running as a server module.
  </p>
  <p class="para">
   If you need to execute a command and have all the data from the
   command passed directly back without any interference, use the
   <span class="function"><a href="function.passthru.html" class="function">passthru()</a></span> function.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.system-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">command</tt></i></span>
     <dd>

      <p class="para">
       The command that will be executed.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">return_var</tt></i></span>
     <dd>

      <p class="para">
       If the <i><tt class="parameter">return_var</tt></i> argument is present, then the
       return status of the executed command will be written to this
       variable.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.system-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the last line of the command output on success, and <b><tt>FALSE</tt></b>
   on failure.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.system-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-3375">
    <p><b>Example #1 <span class="function"><b>system()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'&lt;pre&gt;'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;Outputs&nbsp;all&nbsp;the&nbsp;result&nbsp;of&nbsp;shellcommand&nbsp;"ls",&nbsp;and&nbsp;returns<br />//&nbsp;the&nbsp;last&nbsp;output&nbsp;line&nbsp;into&nbsp;$last_line.&nbsp;Stores&nbsp;the&nbsp;return&nbsp;value<br />//&nbsp;of&nbsp;the&nbsp;shell&nbsp;command&nbsp;in&nbsp;$retval.<br /></span><span style="color: #0000BB">$last_line&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">system</span><span style="color: #007700">(</span><span style="color: #DD0000">'ls'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$retval</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Printing&nbsp;additional&nbsp;info<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">'<br />&lt;/pre&gt;<br />&lt;hr&nbsp;/&gt;Last&nbsp;line&nbsp;of&nbsp;the&nbsp;output:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$last_line&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'<br />&lt;hr&nbsp;/&gt;Return&nbsp;value:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$retval</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.system-notes">
  <h3 class="title">Notes</h3>
  <div class="warning"><b class="warning">Warning</b><p class="para">When allowing user-supplied data to be
passed to this function, use
<span class="function"><a href="function.escapeshellarg.html" class="function">escapeshellarg()</a></span> or <span class="function"><a href="function.escapeshellcmd.html" class="function">escapeshellcmd()</a></span>
to ensure that users cannot trick the system into executing arbitrary
commands.</p></div>
  <blockquote class="note"><p><b class="note">Note</b>: <p class="para">If a program is started with this function,
in order for it to continue running in the background, the output of the
program must be redirected to a file or another output stream. Failing to do so
will cause PHP to hang until the execution of the program ends.</p></p></blockquote>
  <blockquote class="note"><p><b class="note">Note</b>: <span class="simpara">When
<a href="features.safe-mode.html" class="link">safe mode</a> is enabled, you can only
execute files within the <a href="ini.sect.safe-mode.html#ini.safe-mode-exec-dir" class="link">safe_mode_exec_dir</a>.
For practical reasons, it is currently not allowed to have <i>..</i>
components in the path to the executable.</span></p></blockquote>
  <div class="warning"><b class="warning">Warning</b><p class="simpara">With <a href="features.safe-mode.html" class="link">safe mode</a> enabled,
the command string is escaped with <span class="function"><a href="function.escapeshellcmd.html" class="function">escapeshellcmd()</a></span>. Thus,
<i>echo y | echo x</i> becomes <i>echo y \| echo x</i>.</p></div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.system-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.exec.html" class="function" rel="rdfs-seeAlso">exec()</a> - Execute an external program</span></li>
    <li class="member"><span class="function"><a href="function.passthru.html" class="function" rel="rdfs-seeAlso">passthru()</a> - Execute an external program and display raw output</span></li>
    <li class="member"><span class="function"><a href="function.popen.html" class="function" rel="rdfs-seeAlso">popen()</a> - Opens process file pointer</span></li>
    <li class="member"><span class="function"><a href="function.escapeshellcmd.html" class="function" rel="rdfs-seeAlso">escapeshellcmd()</a> - Escape shell metacharacters</span></li>
    <li class="member"><span class="function"><a href="function.pcntl-exec.html" class="function" rel="rdfs-seeAlso">pcntl_exec()</a> - Executes specified program in current process space</span></li>
    <li class="member"><a href="language.operators.execution.html" class="link">backtick operator</a></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="102516""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#102516" class="date">18-Feb-2011 07:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
From&nbsp; WIDOWS to&nbsp; start multilpe php scripts&nbsp; from&nbsp; a parent script and do not wait for child scripts to finish, from the parent.php creat&nbsp; a X.bat file that contains all the commands to start child objects, something like:<br />
<br />
start /B C:/[path_to_php]/php -f C:/child1.php &gt; C:/[path_to_log1].txt<br />
start /B C:/[path_to_php]/php -f C:/child2.php &gt; C:/[path_to_log2].txt<br />
<br />
and then run the X.bat width <br />
<span class="default">&lt;?php<br />
system</span><span class="keyword">(</span><span class="string">"CMD /C X.bat"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102399""></a>
  <div class="note">
   <strong class="user">fredericmariejoseph at gmail dot com</strong>
   <a href="#102399" class="date">11-Feb-2011 09:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a remark about a the fact that when you want use a variable in your system function, yous maybe find useful to call for trim() function too.<br />
As exemple, let's take a file '/etc/config.cfg' containing the following lines :<br />
EXEC=/usr/local/bin/enviro.sh<br />
DIR=/home/fredmj<br />
then you'll have to use trim() like that :<br />
<br />
<span class="default">&lt;?php<br />
$CONFIGFILE </span><span class="keyword">= </span><span class="string">"/etc/config.cfg"</span><span class="keyword">;<br />
</span><span class="default">$DATACONFIG </span><span class="keyword">= </span><span class="default">file</span><span class="keyword">(</span><span class="default">$CONFIGFILE</span><span class="keyword">);<br />
foreach (</span><span class="default">$DATACONFIG </span><span class="keyword">as </span><span class="default">$line</span><span class="keyword">) {<br />
</span><span class="default">$data </span><span class="keyword">= </span><span class="default">explode </span><span class="keyword">(</span><span class="string">'='</span><span class="keyword">,</span><span class="default">$line</span><span class="keyword">);<br />
&nbsp; switch (</span><span class="default">$data</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) {<br />
&nbsp; case </span><span class="default">EXEC</span><span class="keyword">:<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$EXEC</span><span class="keyword">=</span><span class="default">$data</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp; break;<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">system</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$EXEC</span><span class="keyword">).</span><span class="string">" --help"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
... in order to take into account the ' --help' argument. If not, the CR character will cut off any text after your $EXEC variable.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102395""></a>
  <div class="note">
   <strong class="user">daveloop</strong>
   <a href="#102395" class="date">11-Feb-2011 07:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was trying to get the server-side to beep in windows 7.&nbsp; I finally found something that would work without creating my own EXE.<br />
<br />
Create a batch file with at the CMD prompt type:<br />
&nbsp;<br />
&nbsp;&nbsp; echo @echo (Alt-7)&gt;beep.bat<br />
<br />
Then execute it in PHP with:<br />
<br />
&nbsp;&nbsp; exec ('start /MIN c:\your_path_here\beep.bat');<br />
<br />
NOTE: The only drawback I can find is that a cmd.exe does visually flash on the system (which is why I used the /MIN to ensure it only goes to the taskbar).&nbsp; Not really sure why I don't like that, but it was a side effect that I wasn't looking for.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94929""></a>
  <div class="note">
   <strong class="user">kexianin at diyism dot com</strong>
   <a href="#94929" class="date">02-Dec-2009 11:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you can't see any output or error from system(), shell_exec() etc, you could try this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">my_exec</span><span class="keyword">(</span><span class="default">$cmd</span><span class="keyword">, </span><span class="default">$input</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; {</span><span class="default">$proc</span><span class="keyword">=</span><span class="default">proc_open</span><span class="keyword">(</span><span class="default">$cmd</span><span class="keyword">, array(</span><span class="default">0</span><span class="keyword">=&gt;array(</span><span class="string">'pipe'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">), </span><span class="default">1</span><span class="keyword">=&gt;array(</span><span class="string">'pipe'</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">), </span><span class="default">2</span><span class="keyword">=&gt;array(</span><span class="string">'pipe'</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">)), </span><span class="default">$pipes</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">], </span><span class="default">$input</span><span class="keyword">);</span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stdout</span><span class="keyword">=</span><span class="default">stream_get_contents</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);</span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stderr</span><span class="keyword">=</span><span class="default">stream_get_contents</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);</span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$pipes</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rtn</span><span class="keyword">=</span><span class="default">proc_close</span><span class="keyword">(</span><span class="default">$proc</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return array(</span><span class="string">'stdout'</span><span class="keyword">=&gt;</span><span class="default">$stdout</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'stderr'</span><span class="keyword">=&gt;</span><span class="default">$stderr</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'return'</span><span class="keyword">=&gt;</span><span class="default">$rtn<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
</span><span class="default">var_export</span><span class="keyword">(</span><span class="default">my_exec</span><span class="keyword">(</span><span class="string">'echo -e $(&lt;/dev/stdin) | wc -l'</span><span class="keyword">, </span><span class="string">'h\\nel\\nlo'</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
For example, "echo shell_exec('ls');" will get nothing output,<br />
"my_exec('ls');" will get "sh: ls: command not found",<br />
"my_exec('/bin/ls');" will maybe get "sh: /bin/ls: Permission denied",<br />
and the permission may be caused by selinux.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94262""></a>
  <div class="note">
   <strong class="user">ca at php dot net dot spamtrak dot org</strong>
   <a href="#94262" class="date">26-Oct-2009 12:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you don't want the output of your command echoed to STDOUT while using PHP for scripting (Unix/CLI) use exec() instead of system().<br />
<br />
May apply to CGI versions, YMMV.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; $cmd </span><span class="keyword">= </span><span class="string">"date"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="default">system</span><span class="keyword">(</span><span class="default">$cmd</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">printf</span><span class="keyword">(</span><span class="string">"System Output: </span><span class="default">$output</span><span class="string">\n"</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; </span><span class="default">exec</span><span class="keyword">(</span><span class="default">$cmd</span><span class="keyword">, </span><span class="default">$results</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">printf</span><span class="keyword">(</span><span class="string">"Exec Output: </span><span class="keyword">{</span><span class="default">$results</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]}</span><span class="string">\n"</span><span class="keyword">);<br />
&nbsp; <br />
&nbsp;&nbsp; </span><span class="comment">/* <br />
&nbsp;&nbsp; &nbsp;&nbsp; Output:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Mon Oct 26 19:30:08 EST 2009<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; System Output: Mon Oct 26 19:30:08 EST 2009<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Exec Output: Mon Oct 26 19:30:08 EST 2009<br />
&nbsp;&nbsp; */<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90664""></a>
  <div class="note">
   <strong class="user">grytolle at gmail dot com</strong>
   <a href="#90664" class="date">03-May-2009 10:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a work-around that makes the program run in it's own directory instead of the script's.<br />
<br />
example usage:<br />
<span class="default">&lt;?php runAsynchronously</span><span class="keyword">(</span><span class="string">"c:\games\jazz2\jazz2.exe"</span><span class="keyword">,</span><span class="string">"-connect 1.2.3.4"</span><span class="keyword">); </span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">runAsynchronously</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">,</span><span class="default">$arguments</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$WshShell </span><span class="keyword">= new </span><span class="default">COM</span><span class="keyword">(</span><span class="string">"WScript.Shell"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$oShellLink </span><span class="keyword">= </span><span class="default">$WshShell</span><span class="keyword">-&gt;</span><span class="default">CreateShortcut</span><span class="keyword">(</span><span class="string">"temp.lnk"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$oShellLink</span><span class="keyword">-&gt;</span><span class="default">TargetPath </span><span class="keyword">= </span><span class="default">$path</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$oShellLink</span><span class="keyword">-&gt;</span><span class="default">Arguments </span><span class="keyword">= </span><span class="default">$arguments</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$oShellLink</span><span class="keyword">-&gt;</span><span class="default">WorkingDirectory </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$oShellLink</span><span class="keyword">-&gt;</span><span class="default">WindowStyle </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$oShellLink</span><span class="keyword">-&gt;</span><span class="default">Save</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$oExec </span><span class="keyword">= </span><span class="default">$WshShell</span><span class="keyword">-&gt;</span><span class="default">Run</span><span class="keyword">(</span><span class="string">"temp.lnk"</span><span class="keyword">, </span><span class="default">7</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$WshShell</span><span class="keyword">,</span><span class="default">$oShellLink</span><span class="keyword">,</span><span class="default">$oExec</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">unlink</span><span class="keyword">(</span><span class="string">"temp.lnk"</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90662""></a>
  <div class="note">
   <strong class="user">grytolle at gmail dot com</strong>
   <a href="#90662" class="date">03-May-2009 07:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A more direct approach:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">runAsynchronously</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$WshShell </span><span class="keyword">= new </span><span class="default">COM</span><span class="keyword">(</span><span class="string">"WScript.Shell"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$oExec </span><span class="keyword">= </span><span class="default">$WshShell</span><span class="keyword">-&gt;</span><span class="default">Run</span><span class="keyword">(</span><span class="default">addslashes</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">), </span><span class="default">7</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$WshShell</span><span class="keyword">,</span><span class="default">$oExec</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88543""></a>
  <div class="note">
   <strong class="user">Jan Kuchar</strong>
   <a href="#88543" class="date">28-Jan-2009 09:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found a lot of solutions how to run app asynchronously in background, but nothig works. :( But now I have a solution.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">runAsynchronously</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$WshShell </span><span class="keyword">= new </span><span class="default">COM</span><span class="keyword">(</span><span class="string">"WScript.Shell"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$spustec </span><span class="keyword">= </span><span class="default">getcwd</span><span class="keyword">().</span><span class="string">"\\_"</span><span class="keyword">.</span><span class="default">uniqid</span><span class="keyword">().</span><span class="string">".php"</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="comment">#Generate PHP code to run app and save it into file $spoustec<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fwrite</span><span class="keyword">((</span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$spustec</span><span class="keyword">,</span><span class="string">"w+"</span><span class="keyword">)),</span><span class="string">"&lt;?php chdir(dirname(__FILE__));\$command = \""</span><span class="keyword">.</span><span class="default">addslashes</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">).</span><span class="string">"\";echo \"Now running external program...\n\n\";system(\$command);echo \"Now deleting...\";unlink(__FILE__); ?&gt;"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="comment"># Now run $spoustec -&gt; it will start $path<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$oExec </span><span class="keyword">= </span><span class="default">$WshShell</span><span class="keyword">-&gt;</span><span class="default">Run</span><span class="keyword">(</span><span class="default">$spustec</span><span class="keyword">, </span><span class="default">7</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$WshShell</span><span class="keyword">,</span><span class="default">$oExec</span><span class="keyword">);<br />
&nbsp; }<br />
<br />
</span><span class="default">runAsynchronously</span><span class="keyword">(</span><span class="string">"notepad"</span><span class="keyword">); </span><span class="comment">// Will open notepad, but it will continue excuting the PHP code<br />
</span><span class="keyword">echo </span><span class="string">"Running :)\n\n"</span><span class="keyword">;<br />
</span><span class="default">sleep</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
(Tested on Win7)<br />
<br />
I spend a lot of time on it. So I hope that this will help you. P.S.: Sorry for my English. ;)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86714""></a>
  <div class="note">
   <strong class="user">neeteex</strong>
   <a href="#86714" class="date">31-Oct-2008 02:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
an example that helps me a lot : whiping a whole folder's contempt with no care about CHMOD. TAKE CARE : this script will auto-destroy himself and the whole content of it's folder, if "system()" function is enabled.<br />
<br />
<span class="default">&lt;?php<br />
$path </span><span class="keyword">= </span><span class="default">dirname</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">) ;<br />
<br />
echo </span><span class="string">'erasing ' </span><span class="keyword">. </span><span class="default">$path </span><span class="keyword">. </span><span class="string">'&lt;br /&gt;' </span><span class="keyword">;<br />
<br />
</span><span class="default">system </span><span class="keyword">(</span><span class="string">"rm -Rf </span><span class="default">$path</span><span class="string">"</span><span class="keyword">) ;<br />
<br />
echo </span><span class="string">'&lt;br /&gt;done'<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86032""></a>
  <div class="note">
   <strong class="user">tceverling at yahoo dot co dot uk</strong>
   <a href="#86032" class="date">30-Sep-2008 03:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to use multiple sets of double quotes, there is a nicer workaround than using batch files (.bat). Simply append a useless command in front.<br />
<br />
system('[useless command] &amp; [desired command]');<br />
<br />
The useless command may be like "c:" or "cd".<br />
<br />
Example:<br />
<br />
system('c: &amp; "C:\Program Files\..." "parameter 1" "parameter 2"');<br />
<br />
or<br />
<br />
exec('c: &amp; "C:\Program Files\..." "parameter 1" "parameter 2"');</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85334""></a>
  <div class="note">
   <strong class="user">acid at acidforce dot org</strong>
   <a href="#85334" class="date">26-Aug-2008 07:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A short Note for those, who want to use the mysystem()-Function posted here earlier in Safe Mode:<br />
<br />
The IO-Redirection doesn't seem to Work in Safe Mode. But writting a Wrapper Shell Script for your Command, which does the IO-Redirection, works just fine.<br />
<br />
With best regards,<br />
acid</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84945""></a>
  <div class="note">
   <strong class="user">dukeman at seagate dot com</strong>
   <a href="#84945" class="date">06-Aug-2008 01:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For novices remember that the executable has to be in a directory the server is serving or only local host will be able to access it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83930""></a>
  <div class="note">
   <strong class="user">al at aj8 dot org</strong>
   <a href="#83930" class="date">19-Jun-2008 04:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to willytk at gmail dot com, 10-Sep-2007 01:39<br />
<br />
If imagemagick / convert from eps or pdf is not working because the gs executable is not in the apache path, you can compile imagemagick with&nbsp; --with-frozenpaths<br />
<br />
This makes imagemagick store the full path to the gs executable. The error I was getting before was<br />
"sh: gs: command not found"<br />
when convert was called with "-debug All"<br />
<br />
Cheers<br />
Alastair Battrick</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83572""></a>
  <div class="note">
   <strong class="user">Daniel Morris (danielxmorris.com)</strong>
   <a href="#83572" class="date">02-Jun-2008 06:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
How to produce a system beep with PHP.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">beep </span><span class="keyword">(</span><span class="default">$int_beeps </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$int_beeps</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++): </span><span class="default">$string_beeps </span><span class="keyword">.= </span><span class="string">"\x07"</span><span class="keyword">; endfor;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; isset (</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'SERVER_PROTOCOL'</span><span class="keyword">]) ? </span><span class="default">false </span><span class="keyword">: print </span><span class="default">$string_beeps</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This will not do anything when running through a browser, if running through a shell it will produce an audible beep $int_beeps times.&nbsp; This should work on Windows, Unix, etc.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82411""></a>
  <div class="note">
   <strong class="user">vlad dot sharanhovich at gmail dot com</strong>
   <a href="#82411" class="date">09-Apr-2008 12:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The double quote problem on Windows platform discussed earlier here in comments still present in PHP 5.2.5. You can't execute system($command) if $command contains more than 2 " chars. system('"echo" A'); works, while system('"echo" "A"'); does not. Search comment, that was a solution posted to overhaul this issue via temporary .bat file.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80550""></a>
  <div class="note">
   <strong class="user">Dennis</strong>
   <a href="#80550" class="date">21-Jan-2008 07:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are writing CLI scripts in PHP and call external programs which produce some kind of progress bar you should really use passthru()&nbsp; for the output of the external program to go to the terminal immediately.<br />
Such progress bar are usually done by outputing the string with "\r" at the end, and contain no "\n". system() and friends look for "\n" before flushing the buffer. As a result, you see nothing during the lengthy operation and suddenly you get the 100% reading, because all output was buffered and quickly replayed into the terminal when the final "\n" has been seen.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79229""></a>
  <div class="note">
   <strong class="user">tobias dot mathes at gmail dot com</strong>
   <a href="#79229" class="date">16-Nov-2007 12:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
in response to: toby at globaloptima dot co dot uk<br />
<br />
$x_test = system('export x=10;echo $x;', $retval);<br />
<br />
var_dump($x_test);<br />
var_dump($retval);<br />
<br />
You need to 'assign' your 'x' with 'export', otherwise you wouldn't have it. ;-)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77945""></a>
  <div class="note">
   <strong class="user">toby at globaloptima dot co dot uk</strong>
   <a href="#77945" class="date">20-Sep-2007 02:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding Billybob's comment about multi-line system commands like this:<br />
<br />
$commandeDB1 = system ("cd \<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cd mysql<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cd bin<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mysql -uroot -pedfdiver -P3307<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use diver_1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; insert into cdn_flv_8(flv_file,cdn_dn_or_ip,video_path,flv_groups<br />
&nbsp;&nbsp;&nbsp; values('$fichier','130.98.61.32','/diver_edf/video_1/','0');");<br />
<br />
First things first, this kind of mysql interaction should be taken care of with the in-built mysql or mysqli PHP libraries, it make much more sense when you see it, loads and loads of tutorials online about this exact subject:<br />
<br />
<a href="http://php.net/mysql" rel="nofollow" target="_blank">http://php.net/mysql</a><br />
<br />
See how you can do exactly the same thing without using the system command:<br />
<br />
$link = mysql_connect('localhost', 'root', 'edfdiver');<br />
mysql_select_db('diver_1')<br />
mysql_query("your insert sql here");<br />
mysql_close($link);<br />
<br />
Also you no longer rely on MySQL being located in a certain folder, your script is cross-platform, easier to understand and generally far more robust.<br />
<br />
Regarding multi-line statements using the system function, the only way I've done this in the past is to separate each command with a semi-colon which in some cases is useful but most of the time seems to be a really bad way of doing things (this is using Linux, BASH Shell, I expect Windows has similar mechanism).<br />
<br />
Note that you don't seem to be able to set shell variables either, again using BASH:<br />
<br />
x=10;echo $x<br />
<br />
This works on the command line, running via system prints an empty line, may be possible but I've not managed it yet.<br />
<br />
Also in your example, commands 1,2,3 and 4 are for the Operating System whilst commands 5 and 6 are for MySQL, try putting a semi-colon between each of your commands to see what happens.<br />
<br />
My advice, if you are new-ish to PHP, is to try and avoid the system/exec/passthru functions and stick with in-built PHP libraries where-ever possible, most things you want to do can be handled by these libraries.<br />
<br />
And additions to this are welcome, I'm no expert, just a few things I've noticed.<br />
<br />
Toby</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77804""></a>
  <div class="note">
   <strong class="user">Billybob</strong>
   <a href="#77804" class="date">13-Sep-2007 07:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi<br />
<br />
I'm a newbie in php, and I was wondering if it's possible to use multiple line with "system". Here is an example:<br />
<br />
$commandeDB1 = system ("cd \<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cd mysql<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cd bin<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mysql -uroot -pedfdiver -P3307<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; use diver_1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; insert into cdn_flv_8(flv_file,cdn_dn_or_ip,video_path,flv_groups<br />
&nbsp;&nbsp;&nbsp; values('$fichier','130.98.61.32','/diver_edf/video_1/','0');");<br />
<br />
Thanks</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77715""></a>
  <div class="note">
   <strong class="user">willytk at gmail dot com</strong>
   <a href="#77715" class="date">10-Sep-2007 05:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're having problems with getting imagemagick/convert to work with ghostscript because the gs executable isn't in the apache PATH, do the following:<br />
<br />
To create a thumb of the first pdf page:<br />
<br />
<span class="default">&lt;?php<br />
$command</span><span class="keyword">= </span><span class="string">'export PATH=$PATH:/sw/bin; convert "files/example.pdf[0]" -thumbnail 150x150 "files/thumbs/example.png"'</span><span class="keyword">;<br />
<br />
</span><span class="default">$lastline </span><span class="keyword">= </span><span class="default">system</span><span class="keyword">(</span><span class="default">$command</span><span class="keyword">,</span><span class="default">$return</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Thanks entropy.ch and phpaladin!<br />
<br />
Regards,<br />
<br />
Willy T. Koch<br />
Oslo, Norway</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76561""></a>
  <div class="note">
   <strong class="user">timgolding_10 at hotmail dot com</strong>
   <a href="#76561" class="date">20-Jul-2007 07:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An example of using the system to call the file command on a linux server. This script detects whether a user posted file is a jpeg, gif or png<br />
<br />
<span class="default">&lt;?PHP<br />
<br />
$accepted_types</span><span class="keyword">=array(</span><span class="string">"JPEG" </span><span class="keyword">, </span><span class="string">"GIF"</span><span class="keyword">, </span><span class="string">"PNG"</span><span class="keyword">); <br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// The temporary filename of the file in which the uploaded file was stored on the server. <br />
</span><span class="keyword">if(!empty(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"uploadedfile"</span><span class="keyword">]))<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$uploaddir </span><span class="keyword">= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">].</span><span class="string">"/images/"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$uploaddir</span><span class="keyword">.=</span><span class="default">basename</span><span class="keyword">( </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'uploadedfile'</span><span class="keyword">][</span><span class="string">'name'</span><span class="keyword">]);<br />
&nbsp;&nbsp; <br />
&nbsp;</span><span class="comment">//verfiy file using linux FILE command <br />
&nbsp;</span><span class="default">$last_line </span><span class="keyword">= </span><span class="default">system</span><span class="keyword">(</span><span class="string">'file '</span><span class="keyword">.</span><span class="default">escapeshellarg</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'uploadedfile'</span><span class="keyword">][</span><span class="string">'tmp_name'</span><span class="keyword">]), </span><span class="default">$retval</span><span class="keyword">);<br />
<br />
&nbsp;</span><span class="comment">//get the file extension returned through magic database<br />
&nbsp;</span><span class="default">$splitvals</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">' image data' </span><span class="keyword">,&nbsp; </span><span class="default">$last_line</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$vals</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">':'</span><span class="keyword">, </span><span class="default">$splitvals</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;</span><span class="default">$vals</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]=</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">' '</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">, </span><span class="default">$vals</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]); <br />
<br />
&nbsp;if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$vals</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">], </span><span class="default">$accepted_types</span><span class="keyword">))<br />
&nbsp;{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$vals</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">].</span><span class="string">' was accepted &lt;br /&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">file_exists</span><span class="keyword">(</span><span class="default">$uploaddir</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Copy the file to some permanent location<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">move_uploaded_file</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">"uploadedfile"</span><span class="keyword">][</span><span class="string">"tmp_name"</span><span class="keyword">], </span><span class="default">$uploaddir</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$uploaddir</span><span class="keyword">.</span><span class="string">" was uploaded! &lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"There was a problem when uploding the new file, please contact admin about this."</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else echo </span><span class="string">'This file already exists in DB please rename file before uploading'</span><span class="keyword">;<br />
}<br />
}else echo </span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">'uploadedfile'</span><span class="keyword">][</span><span class="string">'error'</span><span class="keyword">].</span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76119""></a>
  <div class="note">
   <strong class="user">aaron at visual-code dot com</strong>
   <a href="#76119" class="date">01-Jul-2007 04:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding the running of processes in the background.&nbsp; i found that after a few different attempts that this worked fine and allowed the main script to continue unhindered.<br />
<br />
Hope that this might help someone.<br />
<br />
$arg1 = "arg1";<br />
$arg2 = "arg2";<br />
$page = "/path/tothe/script/scriptToRun.php";<br />
$args = "--arg1='".urlencode($arg2)."' --arg2 ='".urlencode($arg2)."'";<br />
$command = "(php -c /usr/local/lib/php.ini ".$page." ".$args." &amp;) &gt; /dev/null";<br />
system($command);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75883""></a>
  <div class="note">
   <strong class="user">eis</strong>
   <a href="#75883" class="date">20-Jun-2007 02:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It should be noted, too, that "unable to fork" error in Windows also occurs if you try to send a command that's too long for cmd.exe to process.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74173""></a>
  <div class="note">
   <strong class="user">peter at randomnity dot com</strong>
   <a href="#74173" class="date">28-Mar-2007 09:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just a note to dan at thecsl dot org<br />
<br />
0 and FALSE are _NOT_ the same.<br />
You can check for false like so:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(</span><span class="default">$return_val </span><span class="keyword">=== </span><span class="default">FALSE</span><span class="keyword">) {<br />
&nbsp;&nbsp; </span><span class="comment">// ....<br />
</span><span class="keyword">} else if (</span><span class="default">$return_val </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; </span><span class="comment">// ...<br />
</span><span class="keyword">}<br />
</span><span class="comment">// Continue...<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74012""></a>
  <div class="note">
   <strong class="user">jordan314 at mailinator dot com</strong>
   <a href="#74012" class="date">20-Mar-2007 12:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
z1a7n8g, your system logging to file function was really useful, but had two errors:<br />
$line=fgets($fPtr,filesize("yourfile.php");<br />
that line needs a second closing ')'<br />
and:<br />
while ($line)<br />
returns true until your script runs out of memory. Those two lines can be combined:<br />
while($line=fgets($fPtr,filesize("yourfile.php")));</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73737""></a>
  <div class="note">
   <strong class="user">norman_ss at hotmail dot com</strong>
   <a href="#73737" class="date">08-Mar-2007 03:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
thanks to tr4nc3,<br />
<br />
I'm trying to, from the explorer, run an access's macro and this example give me the solution:<br />
<br />
You can execute a .bat file with the especifications that give us tr4nc3.<br />
After, in this .bat file, you can execute msacces.exe and pass /x parameter with the name of the macro. like this:<br />
<br />
"c:\windows\system32\cmd.exe /c &lt;path or the msaccess.exe&gt;" &lt;path of the .mdb file&gt; /x &lt;name of the macro&gt;"<br />
<br />
At the end of the .bat file you have to put "exit" and the thread will end.<br />
<br />
Thanks to tr4nc3!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68768""></a>
  <div class="note">
   <strong class="user">dotmg at wikkwiki dot ORG</strong>
   <a href="#68768" class="date">09-Aug-2006 11:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In system($command), $command cannot contain no more than two doublequotes. (At least with 4.3.3, on Windows). IF the path+executable name contains any space (and thus enclosed in double quotes).<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;</span><span class="comment">/**<br />
&nbsp; * This example works fine, there is only 2 double quotes<br />
&nbsp; */<br />
&nbsp; </span><span class="default">system </span><span class="keyword">(</span><span class="string">"\"c:\\program files\\myapp\\myapp.exe\" params_for_myapp"</span><span class="keyword">);<br />
&nbsp;</span><span class="comment">/** <br />
&nbsp; * This one will fail, php will complain sthg like c:\\program is not an executable<br />
&nbsp; */<br />
&nbsp; </span><span class="default">system </span><span class="keyword">(</span><span class="string">"\"c:\\program files\\myapp\\myapp.exe\" \"One param for myapp that contains space\""</span><span class="keyword">);<br />
&nbsp; </span><span class="comment">//<br />
&nbsp; /** <br />
&nbsp;&nbsp; * If you want your script to be able to run with older version of PHP (like 4.3.3), this is a trick:<br />
&nbsp;&nbsp; * Save the command in a temporary file and call that file<br />
&nbsp;&nbsp; */<br />
&nbsp; </span><span class="default">$tmpnam </span><span class="keyword">= </span><span class="default">tempname</span><span class="keyword">(</span><span class="default">$writable_dir</span><span class="keyword">, </span><span class="string">"temp"</span><span class="keyword">).</span><span class="string">".bat"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen </span><span class="keyword">(</span><span class="default">$tmpnam</span><span class="keyword">, </span><span class="string">"w"</span><span class="keyword">);<br />
&nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$command</span><span class="keyword">);<br />
&nbsp; </span><span class="default">fclose </span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />
&nbsp; </span><span class="default">system</span><span class="keyword">(</span><span class="default">$tmpnam</span><span class="keyword">, </span><span class="default">$status</span><span class="keyword">);<br />
&nbsp; </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$tmpnam</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Note: In my preview, backslashes were gone!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66795""></a>
  <div class="note">
   <strong class="user">dan at thecsl dot org</strong>
   <a href="#66795" class="date">29-May-2006 08:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You probably want to check your system calls for errors. The convention is to return 0&nbsp; for "no error" which is the same as FALSE which can be confusing. You need to do something like:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; $cmd </span><span class="keyword">= </span><span class="string">"/usr/bin/pngtopnm </span><span class="default">$png_file</span><span class="string"> &gt; </span><span class="default">$pnm_file</span><span class="string">"</span><span class="keyword">;<br />
&nbsp; </span><span class="default">system</span><span class="keyword">(</span><span class="default">$cmd</span><span class="keyword">,</span><span class="default">$return_value</span><span class="keyword">);<br />
&nbsp; (</span><span class="default">$return_value </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) or die(</span><span class="string">"returned an error: </span><span class="default">$cmd</span><span class="string">"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60836""></a>
  <div class="note">
   <strong class="user">matt-php at cdsportland dot com</strong>
   <a href="#60836" class="date">17-Jan-2006 09:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If using Windows with IIS and you're having problems with the system() and related commands, I found the easiest way to solve it was to modify the Authentication Method for the file (or directory) that uses the call and change the anonymous access user from the default (IUSR_IMAGE) to a user with enough permissions to execute the commands in the system call.&nbsp; This way, there is no need to give execute permissions to IUSR_IMAGE on cmd.exe (which opens up a security risk system-wide) or copy cmd.exe into your php directory (per the suggestions of others).&nbsp; Hope this helps someone!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59884""></a>
  <div class="note">
   <strong class="user">151408626 dot unique at servux dot org</strong>
   <a href="#59884" class="date">19-Dec-2005 02:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The documentation notes that for making a program running in the background: ... you have to make sure that the output of that program is redirected to a file or some other output stream ...<br />
<br />
But simply redirecting the command's output to a fifo will also cause PHP to wait for the command to terminate, even if it is started in background.<br />
<br />
After quite a bit of trial &amp; error, however I figured out that the trick (mentioned in some other note) using parenthesis to regain control over an already redirected STDOUT does work here, too:<br />
<br />
&lt;?<br />
<br />
// this will not execute the echo in background while continuing the PHP-script, <br />
//&nbsp; &nbsp; as one might expect <br />
system("echo 'something' &gt;$someFIFO &amp;");<br />
<br />
// however that will do the trick - the echo is run in background, waiting until the data is read <br />
//&nbsp; &nbsp; from the FIFO, while your PHP-script continues execution, e.g. being able to open that <br />
//&nbsp; &nbsp; FIFO for read without being blocked until some data will arrive!! <br />
system("(echo 'something' &gt;$someFIFO) &gt;/dev/null &amp;");<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58423""></a>
  <div class="note">
   <strong class="user">cho at stunt growth dot com</strong>
   <a href="#58423" class="date">03-Nov-2005 01:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note to the persons who suggested using backticks for gathering a return value from scripts via system().<br />
<br />
Using Backticks is generally frowned upon for security sake.&nbsp; They can be exploited more easily.<br />
<br />
Instead, why not use the exec() function with a return parameter specified as an array type.&nbsp; This will allow you to take the full string returned from your script (for example rsync) and return each line in an array.<br />
<br />
like so:<br />
$result = array();<br />
exec( $cmd, &amp;$result);<br />
foreach ( $result as $v )<br />
{<br />
// parse, or do cool stuff<br />
}<br />
<br />
Hope this alternative brings you merriment.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55627""></a>
  <div class="note">
   <strong class="user">vdweij at hotmail dot com</strong>
   <a href="#55627" class="date">09-Aug-2005 02:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is possible to only capture the error stream (STERR). Here it goes...<br />
<br />
(some_command par1 par2 &gt; /dev/null) 3&gt;&amp;1 1&gt;&amp;2 2&gt;&amp;3<br />
<br />
-First STDOUT is redirected to /dev/null.<br />
-By using parenthesis it is possible to gain control over STERR and STOUT again.<br />
-Then switch STERR with STOUT. <br />
<br />
The switch is using the standard variable switch method -- 3 variables (buckets) are required to swap 2 variables with each other. (you have 2 variables and you need to switch the contents - you must bring in a 3rd temporary variable to hold the contents of one value so you can properly swap them).<br />
<br />
This link gave me this information:<br />
<a href="http://www.cpqlinux.com/redirect.html" rel="nofollow" target="_blank">http://www.cpqlinux.com/redirect.html</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52770""></a>
  <div class="note">
   <strong class="user">Stuart Prescott</strong>
   <a href="#52770" class="date">11-May-2005 10:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that for stderr redirection, you have to use double quotes (") not single quotes (') for the 2&gt;&amp;1 part at least.<br />
<br />
&lt;?<br />
//e.g. the this will NOT do what you expect:<br />
exec('mysqldump -h localhost ...... 2&gt;&amp;1', $output);<br />
<br />
//but this will:<br />
exec("mysqldump -h localhost ...... 2&gt;&amp;1", $output);<br />
?&gt;<br />
<br />
*sigh*<br />
<br />
(Sounds like a PHP bug to me..., or at least buggy docs!)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52273""></a>
  <div class="note">
   <strong class="user">phil at pjhayward.net</strong>
   <a href="#52273" class="date">26-Apr-2005 01:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On Windows XP, (possibly others)<br />
<br />
If you are getting the unable to fork error, make sure the internet guest user has permission to read and execute the \Windows\System32\cmd.exe file.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52195""></a>
  <div class="note">
   <strong class="user">admin at nabeelakhtar dot net</strong>
   <a href="#52195" class="date">23-Apr-2005 07:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Windows XP (IIS) users: (Unable to fork Problem)<br />
<br />
If you receive something like:<br />
Warning:&nbsp; passthru() [function.passthru]: Unable to fork [dir] in c:\Inetpub\wwwroot\ping.php on line X<br />
<br />
1. Copy CMD.EXE file from the Windows\System32\ folder to your PHP directory (c:\PHP\).<br />
<br />
This should fix the problem.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48190""></a>
  <div class="note">
   <strong class="user">cabel at panic dot com</strong>
   <a href="#48190" class="date">14-Dec-2004 04:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
We were using system() to call a Cocoa command-line binary from PHP using Mac OS X. The Cocoa binary was simply not working -- no error message, no logging, nothing, it would just die within moments of&nbsp; launching from the system() function and we'd get no results.<br />
<br />
The answer now seems obvious -- we were hitting PHP's memory limit. We did not consider that PHP's memory limit would also extend to programs launched via system().<br />
<br />
So, if your system() call is failing mysteriously and giving no results, after trying the obvious (permissions, executable, etc.) considering upping:<br />
<br />
memory_limit<br />
<br />
in your php.ini from 8M to something larger.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48010""></a>
  <div class="note">
   <strong class="user">Shai Coleman</strong>
   <a href="#48010" class="date">08-Dec-2004 04:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The easiest way to run a process in the background under Windows, is to use system() with the bgrun.exe utility, available from <a href="http://www.jukkis.net/bgrun/" rel="nofollow" target="_blank">http://www.jukkis.net/bgrun/</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45961""></a>
  <div class="note">
   <strong class="user">roga at yoopee dot de</strong>
   <a href="#45961" class="date">24-Sep-2004 09:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In combination with Zend Optimizer and Windows 2K/XP some programs may not run with system(), exec(), etc.<br />
<br />
I tried to use a small tool for ejecting the cd tray and it did just nothing. Disabling Zend Optimizer solved it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45390""></a>
  <div class="note">
   <strong class="user">srawlinNOSPAM at magma dot ca</strong>
   <a href="#45390" class="date">04-Sep-2004 01:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are running PHP in a chroot environment then the system (and passthru) function needs /bin/sh to be located in the chroot as well.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42567""></a>
  <div class="note">
   <strong class="user">eric_REMOVE at movementmovement_REMOVE dot com</strong>
   <a href="#42567" class="date">21-May-2004 12:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's important to note that if you are running a series of system() commands in a loop, you need to include the second argument in order for them to run synchonously.<br />
<br />
ie)<br />
<br />
// this will execute process.php asynchronously; not waiting for completion before executing the next one.<br />
$array = array('apple', 'banana', 'pear');<br />
foreach($array as $i)<br />
{<br />
system("php process.php \"fruit=$i\"");<br />
}<br />
<br />
// this will execute process.php 3 times, waiting for the prior command to complete before starting a new one<br />
$array = array('apple', 'banana', 'pear');<br />
foreach($array as $i)<br />
{<br />
system("php process.php \"fruit=$i\"", $status);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40581""></a>
  <div class="note">
   <strong class="user">beetung at yahoo dot com</strong>
   <a href="#40581" class="date">08-Mar-2004 01:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Under Linux<br />
exec() doesnt follow symbolic link when interpret by httpd...<br />
<br />
I have my /home/www/cgi-bin --&gt; soft linked to a samba mounted directory under /mnt/Downloads/www.site.com/cgi-bin<br />
<br />
exec("/home/www/cgi-bin/runProg $a $b");<br />
<br />
works ok when I execute the script using &gt; php myscript.php but fails to show the output when run via the web browser.<br />
<br />
When I give it the exact full path without the symbolic link<br />
<br />
exec("/mnt/Downloads/www.site.com/cgi-bin/runProg $a $b");<br />
<br />
everything works perfectly.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40454""></a>
  <div class="note">
   <strong class="user">mortoray at ecircle-ag dot com</strong>
   <a href="#40454" class="date">04-Mar-2004 03:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Do not use "system" if you use the "php.ini" option:<br />
&nbsp;&nbsp;&nbsp; zlib.output_compression = On<br />
<br />
Doing so will result in the browser receiving garbage (I'm guessing the headers/buffers get confused).<br />
<br />
Use passthru in this case, it appears to work as intended.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40110""></a>
  <div class="note">
   <strong class="user">tr4nc3 at msn dot com</strong>
   <a href="#40110" class="date">22-Feb-2004 02:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I almost gave up trying to get Windows XP w/ Apache 2 to use either system(), or exec() to run a batch file.<br />
<br />
If the batch file was this...<br />
<br />
echo test &gt; test.txt<br />
<br />
it would work fine, creating test.txt...<br />
<br />
but if the batch file was..<br />
<br />
iexplore.exe "<a href="http://www.ibm.com" rel="nofollow" target="_blank">http://www.ibm.com</a>"<br />
<br />
I would get nothing. After hours and hours of messing around with this I figured it must be some type of permission problem. (dugh!)<br />
<br />
Long story a little shorter.. You have to give Apache permission to "interact with the desktop".<br />
<br />
Here's how...<br />
<br />
Start&gt;Run&gt;services.msc<br />
Right click "Apache...", select properties.<br />
Click on the "LOG ON" tab<br />
Check the box "Allow this service to interact with desktop"<br />
Click OK<br />
Restart Apache<br />
<br />
Works great!<br />
:D<br />
<br />
HOPE THIS HELPS SOMEONE!<br />
Too bad I didn't find a post like this before I figured it out myself. (I could have been working on something.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39969""></a>
  <div class="note">
   <strong class="user">djem at shadrinsk dot net</strong>
   <a href="#39969" class="date">17-Feb-2004 05:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
BUGFIX for the mysystem() function, posted by n-jones.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">syscall</span><span class="keyword">(</span><span class="default">$command</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$proc </span><span class="keyword">= </span><span class="default">popen</span><span class="keyword">(</span><span class="string">"(</span><span class="default">$command</span><span class="string">)2&gt;&amp;1"</span><span class="keyword">,</span><span class="string">"r"</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (!</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$proc</span><span class="keyword">)) </span><span class="default">$result </span><span class="keyword">.= </span><span class="default">fgets</span><span class="keyword">(</span><span class="default">$proc</span><span class="keyword">, </span><span class="default">1000</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">pclose</span><span class="keyword">(</span><span class="default">$proc</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Hello from Russia! :)<br />
djem.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37835""></a>
  <div class="note">
   <strong class="user">diogaogv at icqmail dot com</strong>
   <a href="#37835" class="date">28-Nov-2003 04:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a really useful use for import(); while running the server at ur own machine is taking a screenshot of you desktop and showing it to the guest !!!<br />
<br />
&lt;?<br />
echo system("/usr/X11R6/bin/import -window root -display localhost:0 /mnt/d/Desenvolvimento/Desenvolvimento\ WWW/import/cache/imagem.jpg -quality 30" ." 2&gt;&amp;1");<br />
?&gt;<br />
&lt;img src="cache/imagem.jpg"&gt;<br />
<br />
remember to set chmod 777 to your directory (called "cache" on my code). also do "xhost +" or you r gonna get a xlib error saying that it could not connect to x server at localhost...<br />
<br />
the code is still too simple. i've just done it. e.g. you can improve a real cache system avoying more than one screenshot in a minute while...<br />
<br />
that is it! hope u enjoy it ( rofl... =DDD ) ...<br />
<br />
diogo86</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37089""></a>
  <div class="note">
   <strong class="user">tomlubbock at hotmail dot com</strong>
   <a href="#37089" class="date">02-Nov-2003 06:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to run root-level commands, such as to reboot a service, the utility 'sudo' will let you handle linux permissions. In our example we use 'sudo' to allow apache temporary root access to restart a service. We can then use:<br />
<br />
system("sudo service dhcpd restart")<br />
<br />
You also need to examine the /etc/sudoers file to specify what permissions to grant. Hope this helps someone!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35842""></a>
  <div class="note">
   <strong class="user">morris_hirsch at hotmail dot com</strong>
   <a href="#35842" class="date">16-Sep-2003 02:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
another reason to use shell_exec instead of system is when the result is multiple lines such as grep or ls <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// this correctly sets answer string to all lines found<br />
//$answer = shell_exec ("grep 'set of color names' *.php ");<br />
//echo "answer = $answer";<br />
<br />
// this passes all lines to output (they&nbsp; show on page)<br />
// and sets answer string to the final line<br />
&nbsp;</span><span class="default">$sys </span><span class="keyword">= </span><span class="default">system </span><span class="keyword">(</span><span class="string">"grep 'set of color names' *.php "</span><span class="keyword">);<br />
&nbsp;echo </span><span class="string">"sys =((</span><span class="default">$sys</span><span class="string">))"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
here is view/source resulting from system call<br />
<br />
setprefs.php:// The standard set of color names is:<br />
setprefs.php:// Most browsers accept a wider set of color names<br />
silly.php:&nbsp; //$answer = shell_exec ("grep 'set of color names' *.php ");<br />
silly.php: $sys = system ("grep 'set of color names' *.php ");<br />
sys =((silly.php: $sys = system ("grep 'set of color names' *.php ");))<br />
<br />
and here is view source from using shell_exec instead<br />
<br />
answer = setprefs.php:// The standard set of color names is:<br />
setprefs.php:// Most browsers accept a wider set of color names<br />
silly.php:&nbsp; $answer = shell_exec ("grep 'set of color names' *.php ");<br />
silly.php:// $sys = system ("grep 'set of color names' *.php ");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35649""></a>
  <div class="note">
   <strong class="user">lc at _REMOVE__THIS_lc dot yi dot org</strong>
   <a href="#35649" class="date">09-Sep-2003 05:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Re: cpmorris at hotmail dot com and WINNT.<br />
<br />
I just spent some time learning to use the php system function.&nbsp; I managed to get long file names to work for me.&nbsp; It seems you need to take the same approach that batch files, WSH, and most other programming languages do under WinNT/2K/XP.&nbsp; Putting double quotes around the Path+Filename seems to work.&nbsp; So, something like this should have worked for you:<br />
<br />
"c:\program files\apache group\apache2\bin\htpasswd"<br />
<br />
Note that if you have parameters, they go OUTSIDE of the last quote.&nbsp; Oh, and don't forget to escape the slashes and quotes!&nbsp; <br />
<br />
I don't know what htpasswd's params are, but let us pretend:<br />
<br />
$cmd="\"c:\\program files\\apache group\\apache2\\bin\\htpasswd\" username password";<br />
$str=system($cmd);<br />
<br />
Hope this helps someone!<br />
<br />
Leonard<br />
http:\\www.lc.yi.org</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="35297""></a>
  <div class="note">
   <strong class="user">Jim Belton</strong>
   <a href="#35297" class="date">26-Aug-2003 01:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To run a full screen program from a PHP CLI script, redirect input from and output to /dev/tty.&nbsp; For example:<br />
<br />
system("timeconfig &gt; /dev/tty &lt; /dev/tty");<br />
<br />
System will wait for the program to finish before continuing.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="33617""></a>
  <div class="note">
   <strong class="user">chris at karakas-online dot de</strong>
   <a href="#33617" class="date">01-Jul-2003 06:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If your PHP installation permits execution of commands through system() (e.g. you are not running in safe mode, or, if you are, safe_mode_exec_dir contains all the commands you need), you can trigger a backup of your MySQL database, just by pointing your browser to the following script:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="comment">// Enter your MySQL access data&nbsp; <br />
&nbsp; </span><span class="default">$host</span><span class="keyword">= </span><span class="string">'dbhost'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp; </span><span class="default">$user</span><span class="keyword">= </span><span class="string">'dbuser'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp; </span><span class="default">$pass</span><span class="keyword">= </span><span class="string">'dbpassword'</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$db</span><span class="keyword">=&nbsp;&nbsp; </span><span class="string">'db'</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="default">$backupdir </span><span class="keyword">= </span><span class="string">'backups'</span><span class="keyword">;&nbsp;&nbsp; <br />
<br />
&nbsp; </span><span class="comment">// Compute day, month, year, hour and min.<br />
&nbsp; </span><span class="default">$today </span><span class="keyword">= </span><span class="default">getdate</span><span class="keyword">();<br />
&nbsp; </span><span class="default">$day </span><span class="keyword">= </span><span class="default">$today</span><span class="keyword">[</span><span class="default">mday</span><span class="keyword">];<br />
&nbsp; if (</span><span class="default">$day </span><span class="keyword">&lt; </span><span class="default">10</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$day </span><span class="keyword">= </span><span class="string">"0</span><span class="default">$day</span><span class="string">"</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$month </span><span class="keyword">= </span><span class="default">$today</span><span class="keyword">[</span><span class="default">mon</span><span class="keyword">];<br />
&nbsp; if (</span><span class="default">$month </span><span class="keyword">&lt; </span><span class="default">10</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$month </span><span class="keyword">= </span><span class="string">"0</span><span class="default">$month</span><span class="string">"</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; </span><span class="default">$year </span><span class="keyword">= </span><span class="default">$today</span><span class="keyword">[</span><span class="default">year</span><span class="keyword">];<br />
&nbsp; </span><span class="default">$hour </span><span class="keyword">= </span><span class="default">$today</span><span class="keyword">[</span><span class="default">hours</span><span class="keyword">];<br />
&nbsp; </span><span class="default">$min </span><span class="keyword">= </span><span class="default">$today</span><span class="keyword">[</span><span class="default">minutes</span><span class="keyword">];<br />
&nbsp; </span><span class="default">$sec </span><span class="keyword">= </span><span class="string">"00"</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="comment">// Execute mysqldump command.<br />
&nbsp; // It will produce a file named $db-$year$month$day-$hour$min.gz <br />
&nbsp; // under $DOCUMENT_ROOT/$backupdir<br />
&nbsp; </span><span class="default">system</span><span class="keyword">(</span><span class="default">sprintf</span><span class="keyword">( <br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'mysqldump --opt -h %s -u %s -p%s %s | gzip &gt; %s/%s/%s-%s%s%s-%s%s.gz'</span><span class="keyword">,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$host</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$user</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pass</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$db</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">getenv</span><span class="keyword">(</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$backupdir</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$db</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$year</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$month</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$day</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$hour</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$min<br />
&nbsp; </span><span class="keyword">));&nbsp; <br />
&nbsp; echo </span><span class="string">'+DONE'</span><span class="keyword">;&nbsp; <br />
</span><span class="default">?&gt;</span> <br />
<br />
If you are not allowed cron access on the web server, you can set up your own cron job to periodically call the above script. If you don't have cron, or a similar functionality on your system, you can still modify the above script to inform the browser to reget the file every xxx hours. A poor man's cron, so to say ;-)<br />
<br />
Of course, the $backupdir should at least be protected with a .htaccess file.<br />
<br />
And of course, you are not going to backup a really large database this way, if your PHP has some timeout set (as is usually the case with web hosters).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30193""></a>
  <div class="note">
   <strong class="user">d dot kraft at szo dot de</strong>
   <a href="#30193" class="date">10-Mar-2003 02:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For PHP running inside a Webserver:<br />
<br />
When calling a process via<br />
system("your_process &amp;");<br />
to make it running in background, note that this process is killed when the webserver is restarted.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30053""></a>
  <div class="note">
   <strong class="user">cnoelker at softpearls dot de</strong>
   <a href="#30053" class="date">05-Mar-2003 06:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi,<br />
some tips for using a system()-call for batch files on a windows computer:<br />
* Write the path to the executable with double back-slashes, like so:<br />
&nbsp;&nbsp; C:\\path\\to\\prog.exe<br />
* If you are refering to other pathes, e.g. as a parameter, one back-slash works fine.<br />
* Do not use SET for declaring parameters - this does not work! Example:<br />
&nbsp;&nbsp; SET PATH="C:\path\to\lib"<br />
&nbsp;&nbsp; echo path is %PATH%<br />
This works fine when started from the comand line, but when called from PHP, the variable is just empty.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="28519""></a>
  <div class="note">
   <strong class="user">user at unknown dot com</strong>
   <a href="#28519" class="date">15-Jan-2003 02:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a simple way to include a beep on the server-side whenever a page in viewed.<br />
**contents of 'beeping' page**<br />
require ("beep.php")<br />
<br />
**contents of beep.php**<br />
<span class="default">&lt;?php<br />
system </span><span class="keyword">(</span><span class="string">"/home/site/exe/beep.executable"</span><span class="keyword">);<br />
</span><span class="comment">// on windows system ("c:\beep.exe");<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="24031""></a>
  <div class="note">
   <strong class="user">n-jones at fredesign dot net</strong>
   <a href="#24031" class="date">04-Aug-2002 03:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To have system output from both the STDERR and STDOUT, I've modified the function posted above by lowery@craiglowery.com<br />
<br />
function mysystem($command) {<br />
&nbsp; if (!($p=popen("($command)2&gt;&amp;1","r"))) { <br />
&nbsp;&nbsp;&nbsp; return 126;<br />
&nbsp; }<br />
<br />
&nbsp; while (!feof($p)) {<br />
&nbsp;&nbsp;&nbsp; $line=fgets($p,1000);<br />
&nbsp;&nbsp;&nbsp; $out .= $line;<br />
&nbsp; }<br />
&nbsp; pclose($p);<br />
&nbsp; return $out; <br />
}<br />
<br />
Now you can use mysystem() like;<br />
<br />
$var = "cat ".$file;<br />
echo mysystem($var);<br />
<br />
$catfile = mysystem($var);<br />
<br />
if (ereg("text", $catfile)) {<br />
&nbsp; //stuff here;<br />
}<br />
<br />
N.Jones</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="23532""></a>
  <div class="note">
   <strong class="user">a dot paul at bernardlabs dot com</strong>
   <a href="#23532" class="date">21-Jul-2002 04:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Well system is a pretty interesting and useful function.<br />
<br />
This might have been already pointed out by predessors but anyways, for anyone looking to execute command line queries from php or scripts in general, this function does the trick.<br />
<br />
However while using the command, you have to always think in terms of the command you are using as the function and the parameters as the arguments.<br />
<br />
So say I want to do a 'ls -ls' on /home/sites/sitexyz/www/$username<br />
<br />
I could do a <br />
<br />
system("ls -la \"/home/sites/sitexyz/www/$username\" ");<br />
<br />
Its important to think of this as passing&nbsp; &nbsp; &nbsp; /home/sites/sitexyz/www/$username&nbsp; &nbsp;&nbsp; as an argument to the function ls -la .<br />
<br />
Similarly, you could do a <br />
<br />
system("cp -r \"/home/sites/sitexyz/www/$username\"&nbsp; \"/home/sites/sitexyz/www/$username2\" ");<br />
<br />
But you then need to use 'chmod -R 777 to the directory you want to copy it to, which can be done by a&nbsp; <br />
<br />
system("chmod -R 777&nbsp;&nbsp; \"/home/sites/sitexyz/www/$username2\" ");<br />
<br />
Now you can execute all the terminal commans via the php, however do realise the security concerns of using the same, especially when the operation is going to preceeded by some user input, so, you need to make sure you filter the inputs, or better not allow user intervention.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="22424""></a>
  <div class="note">
   
   <a href="#22424" class="date">17-Jun-2002 08:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The system() function does not consistently write to the int return_var.&nbsp; I highly recommend using the code from the post above it worked well for me.<br />
<br />
---------------------------------------------<br />
$a = `/bin/ls -a`;<br />
note: the ` is a backtick, not a single quote<br />
---------------------------------------------<br />
<br />
This also works well in Perl so it is rather useful to know.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="22251""></a>
  <div class="note">
   <strong class="user">ed at lexingrad dot net</strong>
   <a href="#22251" class="date">12-Jun-2002 06:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
best use I have found for this function so far:<br />
<br />
<span class="default">&lt;?php<br />
$fortune </span><span class="keyword">= `</span><span class="string">/usr/games/fortune -aeo</span><span class="keyword">`;<br />
&nbsp;<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">eregi_replace</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">, </span><span class="string">"&lt;br&gt;"</span><span class="keyword">, </span><span class="default">$fortune</span><span class="keyword">);<br />
<br />
echo </span><span class="default">$var</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>that's with all the fortune's installed, including the dirty ones. the reg expression replace formats them correctly</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21427""></a>
  <div class="note">
   <strong class="user">roger at proproject dot com</strong>
   <a href="#21427" class="date">12-May-2002 10:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For your in-house pages, I recommend redirecting stderr to stdout so you'll know if something goes wrong.&nbsp; Here's a real-life example:<br />
<br />
system("/mysql_reboot 2&gt;&amp;1");</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="20207""></a>
  <div class="note">
   <strong class="user">james at jsrobertson dot net</strong>
   <a href="#20207" class="date">26-Mar-2002 11:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've found a very useful technique for the system function. Say if you want to create a page of quotes and you have /usr/games/fortune available. Instead of spending time creating a database and populating it with thousands of quotes, you can just use:<br />
<br />
<span class="default">&lt;?php<br />
system</span><span class="keyword">(</span><span class="string">'/usr/games/fortune'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
likewise if you want to list the files in your directory, say for example, Mp3's?<br />
<br />
<span class="default">&lt;?php<br />
system</span><span class="keyword">(</span><span class="string">'ls /home/mp3 -l'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
basically<br />
<br />
<span class="default">&lt;?php<br />
system</span><span class="keyword">(</span><span class="string">'any_command'</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="20062""></a>
  <div class="note">
   <strong class="user">z1a7n8g at / at a&lt;o&lt;l dot c&lt;o&lt;m</strong>
   <a href="#20062" class="date">20-Mar-2002 08:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I am currently using a form driven administration<br />
page to start an ftp server remotely from a web page in FreeBSD 4.5 using PHP 4.1.2 &amp; apache 1.3.23. (Sorry guys, no CVS!!)<br />
This code will emulate a CLI command from your browser (anywhere!!) and execute it if your PHP module/binary has the correct permissions...<br />
&lt;code&gt;&lt;pre&gt;<br />
//your front end<br />
&lt;form ..your form stuff here...&gt;<br />
&lt;input type="text" name=command&gt;<br />
&lt;your additional form stuff&gt;<br />
///the gutz<br />
&lt;? <br />
&nbsp;$arg=explode( " ", $command, 4 )<br />
&nbsp;&nbsp; &nbsp; if ($arg[0] = "system")<br />
&nbsp;&nbsp; &nbsp; &nbsp; { <br />
&nbsp;system($arg[1] . " " . $arg[2] . " " . $arg[3]..etc);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }?&gt;<br />
&lt;/code&gt;&lt;/pre&gt;<br />
This works, however it is simple and lacks any error output.<br />
try:<br />
&lt;pre&gt;&lt;code&gt;<br />
&nbsp;&lt;?system(command &gt; /path/to/yourfile.php);<br />
&nbsp;&nbsp; &nbsp; $fPtr=@fopen("yourfile.php",r);<br />
&nbsp;&nbsp; &nbsp; $line=fgets($fPtr,filesize("yourfile.php");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while ($line)<br />
&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $formatted_line=ereg_replace("your favorite newline semantic","&lt;BR&gt;",$line);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print $formatted_line;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
&nbsp;?&gt;<br />
&lt;/pre&gt;&lt;/code&gt;<br />
Keep in mind the SECURITY implications with the use of this and like scripts. You've been warned.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="19230""></a>
  <div class="note">
   <strong class="user">tk at taponet dot de</strong>
   <a href="#19230" class="date">20-Feb-2002 07:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beware:<br />
if (! system($cmd)) {<br />
&nbsp; print "error";<br />
}<br />
<br />
does not work!<br />
Use<br />
if (system($cmd) === false) {<br />
...}<br />
<br />
instead!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18840""></a>
  <div class="note">
   <strong class="user">nospam at 1111-internet dot com</strong>
   <a href="#18840" class="date">06-Feb-2002 10:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a neat trick that exploits an inherent php anomaly... if you want to run a shell command but not have it take up two processes for the entire life of the command (a child for the shell and a grandchild for the command), add a "&amp;" at the end of the command to kill the shell and leave the grandchild command running... Though it's a bit counterintuitive, php will continue to listen for the orphanized grandchild command's STDOUT as long as it continues to run, provided STDOUT hasn't been been redirected with a "&gt;/some/file"...<br />
<br />
Very helpful if you're in a low-process-quota situation - I might even go so far as to say that this benefit might warrant ALWAYS using a "&amp;" in php Unix system command situations - though the jury's still out on that one...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15159""></a>
  <div class="note">
   <strong class="user">ryan at seattleone dot com</strong>
   <a href="#15159" class="date">29-Aug-2001 05:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I was trying to use the system command, and I couldnt get it to work, then it occured to me, send the stderr to a file to see what is really happening.<br />
<br />
system( $command . " &amp;&gt; /tmp/error " );</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="6978""></a>
  <div class="note">
   <strong class="user">nospam at php dot net</strong>
   <a href="#6978" class="date">24-Jul-2000 05:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are trying to parse a CGI script to your webserver which needs arguments, take a look to the virtual() function .. it took me long before i found out it existed...<br />
It's used like this:<br />
<span class="default">&lt;?php<br />
virtual</span><span class="keyword">(</span><span class="string">"/cgi-bin/lastuser.cgi?argument"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>And that works excellent now for me</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="6347""></a>
  <div class="note">
   <strong class="user">digitalturbulence at softhome dot net</strong>
   <a href="#6347" class="date">09-Jul-2000 12:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If the command printf("%s",system($cmd)); doesn't work, check the httpd.error_log file in your /var/log directory. At my home, the system command can just load binary files in the directory /usr/lib/apache/bin<br />
Stephan.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="973""></a>
  <div class="note">
   <strong class="user">ccurtis at aet-usa dot com</strong>
   <a href="#973" class="date">14-Jun-1999 11:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If no headers have been printed, calling the system() function will flush the headers to the client and insert a newline; no further headers or cookies will be transferred to the browser.&nbsp; In version 3.0.7, you will not be warned that the Header() function failed, but will be warned if trying to set a cookie.&nbsp; If you want to continue to send headers after the function call, use exec() instead.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.shell-exec.html">shell_exec</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="book.sem.html">Semaphore</a></div>
 <div class="up"><a href="ref.exec.html">Program execution Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
