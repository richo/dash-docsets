<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Returns information about a file path</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.parse-ini-string.html">parse_ini_string</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.pclose.html">pclose</a></div>
 <div class="up"><a href="ref.filesystem.html">Filesystem Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.pathinfo" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">pathinfo</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.3, PHP 5)</p><p class="refpurpose"><span class="refname">pathinfo</span> &mdash; <span class="dc-title">Returns information about a file path</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.pathinfo-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><b>pathinfo</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$path</tt></span>
   [, <span class="methodparam"><span class="type">int</span> <tt class="parameter">$options</tt><span class="initializer"> = PATHINFO_DIRNAME | PATHINFO_BASENAME | PATHINFO_EXTENSION | PATHINFO_FILENAME</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><b>pathinfo()</b></span> returns information about
   <i><tt class="parameter">path</tt></i>: either an associative array or a string,
   depending on <i><tt class="parameter">options</tt></i>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.pathinfo-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">path</tt></i></span>
     <dd>

      <p class="para">
       The path to be parsed.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">options</tt></i></span>
     <dd>

      <p class="para">
       If present, specifies a specific element to be returned; one of
       <b><tt>PATHINFO_DIRNAME</tt></b>,
       <b><tt>PATHINFO_BASENAME</tt></b>,
       <b><tt>PATHINFO_EXTENSION</tt></b> or
       <b><tt>PATHINFO_FILENAME</tt></b>.
      </p>
      <p class="para">If <i><tt class="parameter">options</tt></i> is not specified, returns all
       available elements.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.pathinfo-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   If the <i><tt class="parameter">options</tt></i> parameter is not passed, an
   associative <span class="type"><a href="language.types.array.html" class="type array">array</a></span> containing the following elements is
   returned:
   <i>dirname</i>, <i>basename</i>,
   <i>extension</i> (if any), and <i>filename</i>.
  </p>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    If the <i><tt class="parameter">path</tt></i> does not have an extension, no
    <i>extension</i> element will be returned
    (see second example below).
   </p>
  </p></blockquote>
  <p class="para">
   If <i><tt class="parameter">options</tt></i> is present, returns a 
   <span class="type"><a href="language.types.string.html" class="type string">string</a></span> containing the requested element.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.pathinfo-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">5.2.0</td>
       <td align="left">
        The <b><tt>PATHINFO_FILENAME</tt></b> constant was added.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.pathinfo-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-2213">
    <p><b>Example #1 <span class="function"><b>pathinfo()</b></span> Example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$path_parts&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'/www/htdocs/inc/lib.inc.php'</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'dirname'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'basename'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'filename'</span><span style="color: #007700">],&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;since&nbsp;PHP&nbsp;5.2.0<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
/www/htdocs/inc
lib.inc.php
php
lib.inc
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-2214">
    <p><b>Example #2 <span class="function"><b>pathinfo()</b></span> example showing difference between null and no extension</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$path_parts&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/emptyextension.'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #0000BB">$path_parts&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pathinfo</span><span style="color: #007700">(</span><span style="color: #DD0000">'/path/noextension'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$path_parts</span><span style="color: #007700">[</span><span style="color: #DD0000">'extension'</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
string(0) &quot;&quot;

Notice: Undefined index: extension in test.php on line 6
NULL
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.pathinfo-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    For information on retrieving the current path info, read
    the section on <a href="language.variables.predefined.html" class="link">
    predefined reserved variables</a>.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    <span class="function"><b>pathinfo()</b></span> is locale aware, so for it to parse a path 
    containing multibyte characters correctly, the matching locale must be set using 
    the <span class="function"><a href="function.setlocale.html" class="function">setlocale()</a></span> function.
   </p>
  </p></blockquote>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.pathinfo-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.dirname.html" class="function" rel="rdfs-seeAlso">dirname()</a> - Returns parent directory's path</span></li>
    <li class="member"><span class="function"><a href="function.basename.html" class="function" rel="rdfs-seeAlso">basename()</a> - Returns trailing name component of path</span></li>
    <li class="member"><span class="function"><a href="function.parse-url.html" class="function" rel="rdfs-seeAlso">parse_url()</a> - Parse a URL and return its components</span></li>
    <li class="member"><span class="function"><a href="function.realpath.html" class="function" rel="rdfs-seeAlso">realpath()</a> - Returns canonicalized absolute pathname</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="104638""></a>
  <div class="note">
   <strong class="user">admin at torntech dot com</strong>
   <a href="#104638" class="date">27-Jun-2011 09:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
pathinfo will return null if 0 or null is specified for the option argument.<br />
So you'll need to define it's value manually if the option field is omitted, to provide the default functionality.<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">getFileInfo</span><span class="keyword">(</span><span class="default">$source </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$option </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">$option</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//1 + 2 + 4<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$option </span><span class="keyword">= </span><span class="default">PATHINFO_DIRNAME </span><span class="keyword">+ </span><span class="default">PATHINFO_BASENAME </span><span class="keyword">+ </span><span class="default">PATHINFO_EXTENSION</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'PATHINFO_FILENAME'</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$option </span><span class="keyword">+= </span><span class="default">PATHINFO_FILENAME</span><span class="keyword">; </span><span class="comment">//8<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">, </span><span class="default">$option</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">getFileInfo</span><span class="keyword">(</span><span class="string">"/test/file/someFile.txt"</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100421""></a>
  <div class="note">
   <strong class="user">fabiolimasouto at gmail dot com</strong>
   <a href="#100421" class="date">14-Oct-2010 12:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes we want to get an array of each component in the pathname associated with the correspondent path to that directory. We need it for creating breadCrumbs and stuff like that. So here it goes:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/* Function parsePathComponents <br />
&nbsp;&nbsp;&nbsp; * parse through all path components<br />
&nbsp;&nbsp;&nbsp; * resolves the cross platform slash issue<br />
&nbsp;&nbsp;&nbsp; * eliminates extra redundant slashes<br />
&nbsp;&nbsp;&nbsp; * @return associative array: ComponentName=&gt;CorrespondentPath<br />
*/<br />
<br />
/* Array */ </span><span class="keyword">function </span><span class="default">parsePathComponents</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">,</span><span class="default">$endSlash</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">,</span><span class="default">$base</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">)<br />
{<br />
&nbsp;for(<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$path </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$slash </span><span class="keyword">= </span><span class="default">strstr</span><span class="keyword">(</span><span class="default">PHP_OS</span><span class="keyword">,</span><span class="string">'WIN'</span><span class="keyword">) ? </span><span class="string">'\/' </span><span class="keyword">: </span><span class="string">'/'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$retArray </span><span class="keyword">= array(),<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">$temp </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;</span><span class="default">$char </span><span class="keyword">= @</span><span class="default">$path</span><span class="keyword">{</span><span class="default">$x</span><span class="keyword">}; </span><span class="default">$x</span><span class="keyword">++)<br />
&nbsp;{ <br />
&nbsp; if(!</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$slash</span><span class="keyword">,</span><span class="default">$char</span><span class="keyword">)) </span><span class="default">$temp </span><span class="keyword">.= </span><span class="default">$char</span><span class="keyword">;<br />
&nbsp; elseif(</span><span class="default">$temp</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">.= </span><span class="default">$temp</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$retArray</span><span class="keyword">[</span><span class="default">$temp</span><span class="keyword">] = </span><span class="default">$str</span><span class="keyword">.(</span><span class="default">$endSlash </span><span class="keyword">? </span><span class="default">$slash</span><span class="keyword">{</span><span class="default">0</span><span class="keyword">} : </span><span class="string">''</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$str </span><span class="keyword">.= </span><span class="default">$slash</span><span class="keyword">{</span><span class="default">0</span><span class="keyword">};<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp;}<br />
&nbsp;</span><span class="default">$base</span><span class="keyword">&amp;&amp;</span><span class="default">$temp </span><span class="keyword">and </span><span class="default">$retArray</span><span class="keyword">[</span><span class="default">$temp</span><span class="keyword">] = </span><span class="default">$str</span><span class="keyword">.</span><span class="default">$temp</span><span class="keyword">;<br />
&nbsp;return </span><span class="default">$retArray</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Testing in WINDOWS<br />
// NOTE: UNIX will return paths with normal slashes<br />
<br />
// return array with path names ending with a slash<br />
</span><span class="default">$path </span><span class="keyword">= </span><span class="string">'/my//stupid//path/to///some/file.php'</span><span class="keyword">;<br />
</span><span class="default">$pathComps </span><span class="keyword">= </span><span class="default">parsePathComponents</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$pathComps</span><span class="keyword">);<br />
<br />
</span><span class="comment">//Array ( [my] =&gt; my\ [stupid] =&gt; my\stupid\ [path] =&gt; my\stupid\path\ [to] =&gt; my\stupid\path\to\ [some] =&gt; my\stupid\path\to\some\ ) <br />
<br />
</span><span class="default">$path </span><span class="keyword">= </span><span class="string">'my/other//path/'</span><span class="keyword">;<br />
</span><span class="comment">// return paths not ending with slash<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">parsePathComponents</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">,</span><span class="default">false</span><span class="keyword">));<br />
</span><span class="comment">// Array ( [my] =&gt; my [other] =&gt; my\other [path] =&gt; my\other\path )<br />
<br />
</span><span class="default">$path </span><span class="keyword">= </span><span class="string">'my//other/path/to///file.php'</span><span class="keyword">;<br />
</span><span class="comment">// use third argument = true: for capturing the "file.php" base<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">parsePathComponents</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">));<br />
<br />
</span><span class="comment">//Array ( [my] =&gt; my\ [other] =&gt; my\other\ [path] =&gt; my\other\path\ [to] =&gt; my\other\path\to\ [file.php] =&gt; my\other\path\to\file.php )<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93610""></a>
  <div class="note">
   <strong class="user">kc8yds at gmail dot com</strong>
   <a href="#93610" class="date">18-Sep-2009 02:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
any type of url parse_url can handle this will get the extension of<br />
<br />
pathinfo(parse_url('URL GOES HERE',PHP_URL_PATH),PATHINFO_EXTENSION)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88718""></a>
  <div class="note">
   <strong class="user">jjoss at mail dot ru</strong>
   <a href="#88718" class="date">04-Feb-2009 10:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
pathinfo() which can be used with UTF filenames.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">pathinfo_utf</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="string">'/'</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">) </span><span class="default">$basename </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'/'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="string">'\\'</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">) </span><span class="default">$basename </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'\\'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; else return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (empty(</span><span class="default">$basename</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dirname </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) - </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$basename</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$basename</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="default">end</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'.'</span><span class="keyword">, </span><span class="default">$path</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$filename </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$basename</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$basename</span><span class="keyword">) - </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$extension</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$filename </span><span class="keyword">= </span><span class="default">$basename</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return array<br />
&nbsp;&nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'dirname' </span><span class="keyword">=&gt; </span><span class="default">$dirname</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'basename' </span><span class="keyword">=&gt; </span><span class="default">$basename</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'extension' </span><span class="keyword">=&gt; </span><span class="default">$extension</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="string">'filename' </span><span class="keyword">=&gt; </span><span class="default">$filename<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">);<br />
&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88654""></a>
  <div class="note">
   <strong class="user">aalaap at gmail dot com</strong>
   <a href="#88654" class="date">02-Feb-2009 07:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a simple function that gets the extension of a file. Simply using PATHINFO_EXTENSION will yield incorrect results if the path contains a query string with dots in the parameter names (for eg. &amp;x.1=2&amp;y.1=5), so this function eliminates the query string first and subsequently runs PATHINFO_EXTENSION on the clean path/url.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">extension</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$qpos </span><span class="keyword">= </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="string">"?"</span><span class="keyword">);<br />
<br />
&nbsp; if (</span><span class="default">$qpos</span><span class="keyword">!==</span><span class="default">false</span><span class="keyword">) </span><span class="default">$path </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$qpos</span><span class="keyword">);<br />
&nbsp; <br />
&nbsp; </span><span class="default">$extension </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">, </span><span class="default">PATHINFO_EXTENSION</span><span class="keyword">);<br />
<br />
&nbsp; return </span><span class="default">$extension</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88159""></a>
  <div class="note">
   <strong class="user">php [spat] hm2k.org</strong>
   <a href="#88159" class="date">13-Jan-2009 04:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A little compat for &lt; 5.2<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">pathinfo_filename</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">) { </span><span class="comment">//file.name.ext, returns file.name<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'PATHINFO_FILENAME'</span><span class="keyword">)) return </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">,</span><span class="default">PATHINFO_FILENAME</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">, </span><span class="string">'.'</span><span class="keyword">)) return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87831""></a>
  <div class="note">
   <strong class="user">php-manual at spunts dot net</strong>
   <a href="#87831" class="date">24-Dec-2008 09:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For a good example of how platform independent this function is have a look at the different return values that Lostindream and I experienced. Mine is above and Lostindream's is below:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /www/psychicblast/images/1<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; my three girlfriends.jpg<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; jpg<br />
)<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /www/htdocs<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; index.html<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; html<br />
&nbsp;&nbsp;&nbsp; [filename] =&gt; index<br />
)<br />
z</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87388""></a>
  <div class="note">
   <strong class="user">benjaminhill at gmail dot com</strong>
   <a href="#87388" class="date">02-Dec-2008 09:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A warning: this function varies depending on the platform it is being run on.&nbsp; For example, pathinfo('C:\Program Files\Adobe\Reader 9.0\Reader\AcroRd32.exe') will return a different result when run through a winOS PHP platform (local development) vs. a server's UNIX-based OS.&nbsp; A bit like the Locale settings, but unexpected.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85196""></a>
  <div class="note">
   <strong class="user">Lostindream at atlas dot cz</strong>
   <a href="#85196" class="date">19-Aug-2008 01:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
at example from "qutechie at gmail dot com" you can only replace function 'strpos' with 'strrpos'. (strrpos â€” Find position of last occurrence of a char in a string)<br />
<br />
It's simple. For example:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">filePath</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">)<br />
{<br />
&nbsp;</span><span class="default">$fileParts </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">);<br />
<br />
&nbsp;if(!isset(</span><span class="default">$fileParts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">]))<br />
&nbsp;{</span><span class="default">$fileParts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$fileParts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">], </span><span class="default">0</span><span class="keyword">, </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$fileParts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">], </span><span class="string">'.'</span><span class="keyword">));}<br />
&nbsp; <br />
&nbsp;return </span><span class="default">$fileParts</span><span class="keyword">;<br />
}<br />
&nbsp;<br />
</span><span class="default">$filePath </span><span class="keyword">= </span><span class="default">filePath</span><span class="keyword">(</span><span class="string">'/www/htdocs/index.html'</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Output will be:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /www/htdocs<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; index.html<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; html<br />
&nbsp;&nbsp;&nbsp; [filename] =&gt; index<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85115""></a>
  <div class="note">
   <strong class="user">leons87_AT_hotmail_DOT_com</strong>
   <a href="#85115" class="date">15-Aug-2008 04:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
qutechie at gmail dot com wrote a fix for support for filename in PHP 4; however it gets it wrong whenever you have a filename with a . in it (so foo.bar.jpg would return foo instead of foo.bar).<br />
<br />
A fix would be:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(!isset(</span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">])){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$reversed_filename </span><span class="keyword">= </span><span class="default">strrev</span><span class="keyword">( </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">] );<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">] = </span><span class="default">strrev</span><span class="keyword">( </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$reversed_filename</span><span class="keyword">, </span><span class="default">strpos</span><span class="keyword">( </span><span class="default">$reversed_filename</span><span class="keyword">, </span><span class="string">'.' </span><span class="keyword">) + </span><span class="default">1 </span><span class="keyword">) );<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
The idea is that you reverse the string and create a substring that starts after the first '.' and then reverse the result.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84613""></a>
  <div class="note">
   <strong class="user">qutechie at gmail dot com</strong>
   <a href="#84613" class="date">21-Jul-2008 06:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Quick fix for lack of support for 'filename' in php4<br />
<br />
<span class="default">&lt;?php<br />
$path_parts </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">'/www/htdocs/index.html'</span><span class="keyword">);<br />
<br />
echo </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'dirname'</span><span class="keyword">], </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">], </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'extension'</span><span class="keyword">], </span><span class="string">"\n"</span><span class="keyword">;<br />
echo </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">], </span><span class="string">"\n"</span><span class="keyword">; </span><span class="comment">// since PHP 5.2.0<br />
<br />
// if php4<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(!isset(</span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">], </span><span class="default">0</span><span class="keyword">,</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$path_parts</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">],</span><span class="string">'.'</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81359""></a>
  <div class="note">
   <strong class="user">christian dot reinecke at web dot de</strong>
   <a href="#81359" class="date">24-Feb-2008 07:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you call pathinfo with a filename in url-style (example.php?with=parameter), make sure you remove the given parameters before, otherwise they will be returned as part of the extension.<br />
<br />
extension =&gt; php?with=parameter</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80748""></a>
  <div class="note">
   <strong class="user">tom at foo-bar dot co dot uk</strong>
   <a href="#80748" class="date">30-Jan-2008 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that this function seems to just perform string operations, and will work even on a non-existent path, e.g.<br />
<br />
<span class="default">&lt;?php<br />
print_r</span><span class="keyword">(</span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">'/no/where/file.txt'</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
which will output:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /no/where<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; file.txt<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; txt<br />
&nbsp;&nbsp;&nbsp; [filename] =&gt; file<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80652""></a>
  <div class="note">
   <strong class="user">OakBehringer</strong>
   <a href="#80652" class="date">27-Jan-2008 05:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Building on David Blinco's function, the following will:<br />
<br />
1. Return the correct protocol for secure requests (https)<br />
2. Throw an exception for invalid files<br />
3. Ensure the returned url separates directories with forward slashes (David's will not on Windows systems).<br />
<br />
function mapPath ($filepath) {<br />
&nbsp;&nbsp;&nbsp; $realpath = realpath($filepath);<br />
&nbsp;&nbsp;&nbsp; $dir;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; // Verify that the path passed is real and harvest the bottom directory<br />
&nbsp;&nbsp;&nbsp; if (is_file($realpath)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $dir = dirname($realpath);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; elseif (is_dir($realpath)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $dir = $realpath; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; throw new Exception('File does not exist: ' . $realpath);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; // Make sure the path is not lower than the server root<br />
&nbsp;&nbsp;&nbsp; if (strlen($dir) &lt; strlen($_SERVER['DOCUMENT_ROOT']))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; throw new Exception("Cannot create http path below server http root.");<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; $path = ((isset($_SERVER['HTTPS']) &amp;&amp; strtolower($_SERVER['HTTPS']) != 'off') ? 'https' : 'http') . '://' . $_SERVER['HTTP_HOST'] . substr($realpath, strlen($_SERVER['DOCUMENT_ROOT']));<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if (DIRECTORY_SEPARATOR == '\\')<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $path = str_replace('\\', '/', $path);<br />
<br />
&nbsp;&nbsp;&nbsp; return $path;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80641""></a>
  <div class="note">
   <strong class="user">davidblinco at gmail dot com</strong>
   <a href="#80641" class="date">26-Jan-2008 07:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function is not perfect, but you can use it to convert a relative path to a URL.<br />
Please email me if you can make any improvements.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">mapURL</span><span class="keyword">(</span><span class="default">$relPath</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$filePathName </span><span class="keyword">= </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$relPath</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$filePath </span><span class="keyword">= </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">dirname</span><span class="keyword">(</span><span class="default">$relPath</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$basePath </span><span class="keyword">= </span><span class="default">realpath</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// can not create URL for directory lower than DOCUMENT_ROOT<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$basePath</span><span class="keyword">) &gt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$filePath</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="string">'<a href="http://" rel="nofollow" target="_blank">http://</a>' </span><span class="keyword">. </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'HTTP_HOST'</span><span class="keyword">] . </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$filePathName</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$basePath</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79980""></a>
  <div class="note">
   <strong class="user">henrik at not-an-address dot com</strong>
   <a href="#79980" class="date">21-Dec-2007 10:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you have filename with utf-8 characters, pathinfo will strip them away:<br />
<br />
print_r(pathinfo("/mnt/files/é£›å…’æ¨‚åœ˜å…‰èŒ«.mp3"));<br />
<br />
&nbsp;.. will display:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /mnt/files<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; .mp3<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; mp3<br />
&nbsp;&nbsp;&nbsp; [filename] =&gt; <br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79912""></a>
  <div class="note">
   <strong class="user">mrnemesis at ntlworld dot com</strong>
   <a href="#79912" class="date">19-Dec-2007 07:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that in PHP 4 (if you're stuck using it), pathinfo only provides dirname, basename, and extension, but not filename. This function will not split a file's stem and extension for you.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77748""></a>
  <div class="note">
   <strong class="user">anders.jenbo()pc.dk</strong>
   <a href="#77748" class="date">11-Sep-2007 02:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Heres a funciton to get the same results from php 4+ but you will have to call pathinfo_filename() instead of pathinfo().<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(</span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">phpversion</span><span class="keyword">(), </span><span class="string">"5.2.0"</span><span class="keyword">, </span><span class="string">"&lt;"</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">pathinfo_filename</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$temp</span><span class="keyword">[</span><span class="string">'extension'</span><span class="keyword">])<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp</span><span class="keyword">[</span><span class="string">'filename'</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">],</span><span class="default">0 </span><span class="keyword">,</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">[</span><span class="string">'basename'</span><span class="keyword">])-</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">[</span><span class="string">'extension'</span><span class="keyword">])-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$temp</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
} else {<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">pathinfo_filename</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76433""></a>
  <div class="note">
   <strong class="user">avi-team at inbox dot lv</strong>
   <a href="#76433" class="date">15-Jul-2007 08:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You shouldn't assign values as it is described in previous post<br />
// wrong:<br />
list( $dirname, $basename, $extension, $filename ) = array_values( pathinfo($file) );<br />
<br />
if $file has no extension, you get wrong variable values: $extension would be assigned with 'filename' array element of pathinfo() result, but $filename - would be empty.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75453""></a>
  <div class="note">
   <strong class="user">phpnet at whoisgregg dot com</strong>
   <a href="#75453" class="date">30-May-2007 11:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to easily assign the values returned by pathinfo to separate variable names, list isn't enough. You can use array_values() first to convert the associative array into the indexed array that list() expects:<br />
<br />
// throws notices, variables aren't set<br />
list( $dirname, $basename, $extension, $filename ) = pathinfo($file);<br />
<br />
// works<br />
list( $dirname, $basename, $extension, $filename ) = array_values( pathinfo($file) );</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59083""></a>
  <div class="note">
   <strong class="user">cochise_chiracahua at hotmail.com</strong>
   <a href="#59083" class="date">25-Nov-2005 11:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes, it's interessant to get the basename without extension.<br />
So, I appended a new entry 'basenameWE' (Basename Without Extension) to the returned array.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// pathinfo improved<br />
</span><span class="keyword">function </span><span class="default">pathinfo_im</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tab </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tab</span><span class="keyword">[</span><span class="string">"basenameWE"</span><span class="keyword">] = </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$tab</span><span class="keyword">[</span><span class="string">"basename"</span><span class="keyword">],</span><span class="default">0<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">,</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$tab</span><span class="keyword">[</span><span class="string">"basename"</span><span class="keyword">]) - (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$tab</span><span class="keyword">[</span><span class="string">"extension"</span><span class="keyword">]) + </span><span class="default">1</span><span class="keyword">) );<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$tab</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$my_path </span><span class="keyword">= </span><span class="string">"/var/www/html/example.html"</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"&lt;pre&gt;\n"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">( </span><span class="default">pathinfo_im</span><span class="keyword">(</span><span class="default">$my_path</span><span class="keyword">) );<br />
echo </span><span class="string">"&lt;/pre&gt;\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Out :<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /var/www/html<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; example.html<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; html<br />
&nbsp;&nbsp;&nbsp; [basenameWE] =&gt; example<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54598""></a>
  <div class="note">
   <strong class="user">sgermain at icexnetworks dot com</strong>
   <a href="#54598" class="date">08-Jul-2005 11:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is true that if you put a directory into pathinfo, usually the extension is empty. But, if the directory name is /www/example.com/ for example, you will have the following output:<br />
<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [dirname] =&gt; /www<br />
&nbsp;&nbsp;&nbsp; [basename] =&gt; example.com<br />
&nbsp;&nbsp;&nbsp; [extension] =&gt; com<br />
)<br />
<br />
So, it is the same as a file.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49765""></a>
  <div class="note">
   <strong class="user">n0dalus</strong>
   <a href="#49765" class="date">08-Feb-2005 01:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If a file has more than one 'file extension' (seperated by periods), the last one will be returned.<br />
For example:<br />
<span class="default">&lt;?php<br />
$pathinfo </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="string">'/dir/test.tar.gz'</span><span class="keyword">);<br />
echo </span><span class="string">'Extension: '</span><span class="keyword">.</span><span class="default">$pathinfo</span><span class="keyword">[</span><span class="string">'extension'</span><span class="keyword">];<br />
</span><span class="default">?&gt;<br />
</span>will produce:<br />
Extension: gz<br />
<br />
and not tar.gz</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47867""></a>
  <div class="note">
   
   <a href="#47867" class="date">03-Dec-2004 04:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want only the file extension, use this:<br />
<span class="default">&lt;?php<br />
$extension </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">), </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>This is many times faster than using pathinfo() and getting the value from array.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46252""></a>
  <div class="note">
   <strong class="user">rob at webdimension dot co dot uk</strong>
   <a href="#46252" class="date">04-Oct-2004 06:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Further to my previous post.<br />
<br />
This affects servers that run PHP as a cgi module<br />
<br />
If you have your own server:<br />
You can use the AcceptPathInfo directive to force the core handler to accept requests with PATH_INFO and thereby restore the ability to use PATH_INFO in server-side includes.<br />
<br />
Further information:<br />
<a href="http://httpd.apache.org/docs-2.0/mod/core.html#acceptpathinfo" rel="nofollow" target="_blank">http://httpd.apache.org/docs-2.0/mod/core.html#acceptpathinfo</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44890""></a>
  <div class="note">
   <strong class="user">junk at plaino dot com</strong>
   <a href="#44890" class="date">19-Aug-2004 06:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Convert a URL to the local file path and vice versa, convert a local file path to a URL.<br />
<br />
// this sets the sytem / or \ :<br />
strstr( PHP_OS, "WIN") ? $slash = "\\" : $slash = "/";<br />
<br />
// This is the location of the php file that contains this<br />
// function. Usually this request is made to files/folders <br />
// down the directory structure, so the php file that <br />
// contains these functions is a good "where am i" <br />
// reference point:<br />
$WIMPY_BASE['path']['physical'] = getcwd();<br />
$WIMPY_BASE['path']['www'] = "<a href="http://" rel="nofollow" target="_blank">http://</a>".$_SERVER['HTTP_HOST'];<br />
<br />
function url2filepath($theURL){<br />
&nbsp;&nbsp;&nbsp; global $WIMPY_BASE, $slash;<br />
&nbsp;&nbsp;&nbsp; $AtheFile = explode ("/", $theURL);<br />
&nbsp;&nbsp;&nbsp; $theFileName = array_pop($AtheFile);<br />
&nbsp;&nbsp;&nbsp; $AwimpyPathWWW = explode ("/", $WIMPY_BASE['path']['www']);<br />
&nbsp;&nbsp;&nbsp; $AtheFilePath = array_values (array_diff ($AtheFile, $AwimpyPathWWW));<br />
&nbsp;&nbsp;&nbsp; if($AtheFilePath){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $theFilePath = $slash.implode($slash, $AtheFilePath).$slash.$theFileName;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $theFilePath = implode($slash, $AtheFilePath).$slash.$theFileName;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return ($WIMPY_BASE['path']['physical'].$theFilePath);<br />
}<br />
<br />
function filepath2url ($theFilepath){<br />
&nbsp;&nbsp;&nbsp; global $WIMPY_BASE, $slash;<br />
&nbsp;&nbsp;&nbsp; $AtheFile = explode ($slash, $theFilepath);<br />
&nbsp;&nbsp;&nbsp; $theFileName = array_pop($AtheFile);<br />
&nbsp;&nbsp;&nbsp; $AwimpyPathFILE = explode ($slash, $WIMPY_BASE['path']['physical']);<br />
&nbsp;&nbsp;&nbsp; $AtheFilePath = array_values (array_diff ($AtheFile, $AwimpyPathFILE));<br />
&nbsp;&nbsp;&nbsp; $thFileURL = implode("/", $AtheFilePath)."/".$theFileName;<br />
&nbsp;&nbsp;&nbsp; return ($WIMPY_BASE['path']['www']."$thFileURL");<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="21842""></a>
  <div class="note">
   <strong class="user">albertof at deltasoft dot com dot ar</strong>
   <a href="#21842" class="date">29-May-2002 01:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This code is to work in index.php/var/var<br />
<br />
if(isset($PATH_INFO)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; $viewcode = explode('/', $PATH_INFO);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $num = count($viewcode);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if($num % 2 == 0) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $viewcode[] = '';<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $num++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for($i = 1; $i &lt; $num; $i += 2) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $$viewcode[$i] = $viewcode[$i+1];<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15031""></a>
  <div class="note">
   <strong class="user">m-symons at home dot com</strong>
   <a href="#15031" class="date">24-Aug-2001 07:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
And, of course, to account for the problem noted in the first post whereby calling a directory, not a file, messes with the output of pathinfo(), you can include the following test:<br />
<br />
if($pathinfo[extension] == "") {<br />
<br />
$deep++;<br />
<br />
}<br />
<br />
Ooops...sorry for missing that.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="15029""></a>
  <div class="note">
   <strong class="user">m-symons at home dot com</strong>
   <a href="#15029" class="date">24-Aug-2001 06:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a neat wee function to grab the relative path to root (especially useful if you're using mock-directories to pass variables into scripts with mod_rewrite).&nbsp; The function simply iterates through every occurence of "/" within the REQUEST_URI environment variable, appending "../" to the output for every instance:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">path_to_root</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pathinfo </span><span class="keyword">= </span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$path</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$deep </span><span class="keyword">= </span><span class="default">substr_count</span><span class="keyword">(</span><span class="default">$pathinfo</span><span class="keyword">[</span><span class="default">dirname</span><span class="keyword">], </span><span class="string">"/"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$path_to_root </span><span class="keyword">= </span><span class="string">"./"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$deep</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$path_to_root </span><span class="keyword">.= </span><span class="string">"../"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$path_to_root</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">path_to_root</span><span class="keyword">(</span><span class="default">$REQUEST_URI</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="14955""></a>
  <div class="note">
   <strong class="user">mikep at oeone dot com</strong>
   <a href="#14955" class="date">22-Aug-2001 10:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you run this on a directory, basename is the last directory in the path, dirname is the path before the final directory and extension is empty.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.parse-ini-string.html">parse_ini_string</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.pclose.html">pclose</a></div>
 <div class="up"><a href="ref.filesystem.html">Filesystem Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
