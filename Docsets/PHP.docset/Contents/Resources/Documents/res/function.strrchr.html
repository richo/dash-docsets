<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Find the last occurrence of a character in a string</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.strpos.html">strpos</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.strrev.html">strrev</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.strrchr" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">strrchr</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">strrchr</span> &mdash; <span class="dc-title">Find the last occurrence of a character in a string</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.strrchr-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>strrchr</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$haystack</tt></span>
   , <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$needle</tt></span>
   )</div>

  <p class="para rdfs-comment">
   This function returns the portion of <i><tt class="parameter">haystack</tt></i> which
   starts at the last occurrence of <i><tt class="parameter">needle</tt></i> and goes
   until the end of <i><tt class="parameter">haystack</tt></i>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.strrchr-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">haystack</tt></i></span>
     <dd>

      <p class="para">
       The string to search in
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">needle</tt></i></span>
     <dd>

      <p class="para">
       If <i><tt class="parameter">needle</tt></i> contains more than one character,
       only the first is used. This behavior is different from that of
       <span class="function"><a href="function.strstr.html" class="function">strstr()</a></span>.
      </p>
      <p class="para">
       If <i><tt class="parameter">needle</tt></i> is not a string, it is converted to
       an integer and applied as the ordinal value of a character.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.strrchr-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   This function returns the portion of string, or <b><tt>FALSE</tt></b> if
   <i><tt class="parameter">needle</tt></i> is not found.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.strrchr-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">4.3.0</td>
       <td align="left">
        This function is now binary safe.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.strrchr-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4445">
    <p><b>Example #1 <span class="function"><b>strrchr()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;get&nbsp;last&nbsp;directory&nbsp;in&nbsp;$PATH<br /></span><span style="color: #0000BB">$dir&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">strrchr</span><span style="color: #007700">(</span><span style="color: #0000BB">$PATH</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">":"</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;get&nbsp;everything&nbsp;after&nbsp;last&nbsp;newline<br /></span><span style="color: #0000BB">$text&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Line&nbsp;1\nLine&nbsp;2\nLine&nbsp;3"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$last&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">substr</span><span style="color: #007700">(</span><span style="color: #0000BB">strrchr</span><span style="color: #007700">(</span><span style="color: #0000BB">$text</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">10</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">1&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>   
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.strrchr-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><b class="note">Note</b>: <span class="simpara">This function is
binary-safe.</span></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.strrchr-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.strstr.html" class="function" rel="rdfs-seeAlso">strstr()</a> - Find the first occurrence of a string</span></li>
    <li class="member"><span class="function"><a href="function.strrpos.html" class="function" rel="rdfs-seeAlso">strrpos()</a> - Find the position of the last occurrence of a substring in a string</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="103191""></a>
  <div class="note">
   <strong class="user">matthewkastor at live dot com</strong>
   <a href="#103191" class="date">30-Mar-2011 01:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Removes the preceeding or proceeding portion of a string<br />
&nbsp;* relative to the last occurrence of the specified character.<br />
&nbsp;* The character selected may be retained or discarded.<br />
&nbsp;* <br />
&nbsp;* Example usage:<br />
&nbsp;* &lt;code&gt;<br />
&nbsp;* $example = '<a href="http://example.com/path/file.php" rel="nofollow" target="_blank">http://example.com/path/file.php</a>';<br />
&nbsp;* $cwd_relative[] = cut_string_using_last('/', $example, 'left', true);<br />
&nbsp;* $cwd_relative[] = cut_string_using_last('/', $example, 'left', false);<br />
&nbsp;* $cwd_relative[] = cut_string_using_last('/', $example, 'right', true);<br />
&nbsp;* $cwd_relative[] = cut_string_using_last('/', $example, 'right', false);<br />
&nbsp;* foreach($cwd_relative as $string) {<br />
&nbsp;*&nbsp; &nbsp;&nbsp; echo "$string &lt;br&gt;".PHP_EOL;<br />
&nbsp;* }<br />
&nbsp;* &lt;/code&gt;<br />
&nbsp;* <br />
&nbsp;* Outputs:<br />
&nbsp;* &lt;code&gt;<br />
&nbsp;* <a href="http://example.com/path/" rel="nofollow" target="_blank">http://example.com/path/</a><br />
&nbsp;* <a href="http://example.com/path" rel="nofollow" target="_blank">http://example.com/path</a><br />
&nbsp;* /file.php<br />
&nbsp;* file.php<br />
&nbsp;* &lt;/code&gt;<br />
&nbsp;* <br />
&nbsp;* @param string $character the character to search for.<br />
&nbsp;* @param string $string the string to search through.<br />
&nbsp;* @param string $side determines whether text to the left or the right of the character is returned.<br />
&nbsp;* Options are: left, or right.<br />
&nbsp;* @param bool $keep_character determines whether or not to keep the character.<br />
&nbsp;* Options are: true, or false.<br />
&nbsp;* @return string<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">cut_string_using_last</span><span class="keyword">(</span><span class="default">$character</span><span class="keyword">, </span><span class="default">$string</span><span class="keyword">, </span><span class="default">$side</span><span class="keyword">, </span><span class="default">$keep_character</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$offset </span><span class="keyword">= (</span><span class="default">$keep_character </span><span class="keyword">? </span><span class="default">1 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$whole_length </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$right_length </span><span class="keyword">= (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$character</span><span class="keyword">)) - </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$left_length </span><span class="keyword">= (</span><span class="default">$whole_length </span><span class="keyword">- </span><span class="default">$right_length </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; switch(</span><span class="default">$side</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'left'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$piece </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, (</span><span class="default">$left_length </span><span class="keyword">+ </span><span class="default">$offset</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'right'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$start </span><span class="keyword">= (</span><span class="default">0 </span><span class="keyword">- (</span><span class="default">$right_length </span><span class="keyword">+ </span><span class="default">$offset</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$piece </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$start</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$piece </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return(</span><span class="default">$piece</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93775""></a>
  <div class="note">
   <strong class="user">corey [works at] effim [dot coooom]</strong>
   <a href="#93775" class="date">28-Sep-2009 10:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Easiest way to get the domain off of an email:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$domain </span><span class="keyword">= </span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">, </span><span class="string">'@'</span><span class="keyword">);<br />
<br />
</span><span class="comment">// gets @gmail.com, with the preceding @.<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
It's not perfect (see above in the manual), but it's pretty damn good.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91074""></a>
  <div class="note">
   <strong class="user">franzemmanuel at gmail dot com</strong>
   <a href="#91074" class="date">23-May-2009 05:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this functions returns the full path of the current directory.<br />
&nbsp;<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">CurrentFullPath</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$root </span><span class="keyword">= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'DOCUMENT_ROOT'</span><span class="keyword">] ;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$self </span><span class="keyword">= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">] ;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$root</span><span class="keyword">.</span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$self</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,-</span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$self</span><span class="keyword">,</span><span class="string">"/"</span><span class="keyword">))) ;<br />
}<br />
<br />
echo </span><span class="default">CurrentFullPath</span><span class="keyword">() ;<br />
<br />
</span><span class="comment">/*<br />
<br />
If path is $path = "/home/me/www/pictures/control.php" ;<br />
<br />
It will return :<br />
<br />
/home/me/www/pictures<br />
<br />
*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86840""></a>
  <div class="note">
   <strong class="user">pnoexz at gmail dot com</strong>
   <a href="#86840" class="date">05-Nov-2008 07:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is my function that returns the type of a file. I fint it easier to add other types of files, and simplier than the rest i have seen around.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">findExt</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$exts </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.jpg' </span><span class="keyword">=&gt; </span><span class="string">'image'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.png' </span><span class="keyword">=&gt; </span><span class="string">'image'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.php' </span><span class="keyword">=&gt; </span><span class="string">'php'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.html' </span><span class="keyword">=&gt; </span><span class="string">'html'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.swf' </span><span class="keyword">=&gt; </span><span class="string">'flash'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.gz' </span><span class="keyword">=&gt; </span><span class="string">'compressed'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'.tar' </span><span class="keyword">=&gt; </span><span class="string">'compressed'</span><span class="keyword">,<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ext </span><span class="keyword">= </span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$exts</span><span class="keyword">[</span><span class="default">$ext</span><span class="keyword">]) { return </span><span class="default">$exts</span><span class="keyword">[</span><span class="default">$ext</span><span class="keyword">]; }<br />
&nbsp;&nbsp;&nbsp; else { return </span><span class="string">"unknown"</span><span class="keyword">; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83516""></a>
  <div class="note">
   <strong class="user">equand at gmail dot com</strong>
   <a href="#83516" class="date">29-May-2008 07:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a KiSS variant of a previous note<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">fcheck</span><span class="keyword">(</span><span class="default">$f </span><span class="keyword">= </span><span class="string">"test.doc"</span><span class="keyword">)<br />
{<br />
&nbsp;</span><span class="default">$fd </span><span class="keyword">= array(</span><span class="string">".xls" </span><span class="keyword">=&gt; </span><span class="string">"Microsoft Excel Worksheet"</span><span class="keyword">,</span><span class="string">".doc" </span><span class="keyword">=&gt; </span><span class="string">"Microsoft Word Document"</span><span class="keyword">,</span><span class="string">".pdf" </span><span class="keyword">=&gt; </span><span class="string">"Adobe Reader PDF File"</span><span class="keyword">);<br />
&nbsp;</span><span class="default">$s </span><span class="keyword">= </span><span class="default">$fd</span><span class="keyword">[</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">)];<br />
&nbsp;if (!empty(</span><span class="default">$s</span><span class="keyword">))<br />
&nbsp;{<br />
&nbsp; return </span><span class="default">$s</span><span class="keyword">;<br />
&nbsp;}<br />
&nbsp;else<br />
&nbsp;{<br />
&nbsp; return </span><span class="string">"Unknown file type"</span><span class="keyword">;<br />
&nbsp;}<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83341""></a>
  <div class="note">
   <strong class="user">Emmanuel Quiban</strong>
   <a href="#83341" class="date">21-May-2008 07:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
strrchr is useful also in determining file extensions.<br />
<br />
Here is a sample code that determines the file type based on its file extension. This is useful in displaying the files in your page, without using the database for the file description list.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;</span><span class="comment">/* File Extension Display using arrays<br />
&nbsp;&nbsp; &nbsp; by: Emmanuel Quiban (Philippines)<br />
&nbsp;&nbsp; &nbsp; BSCS 2002, AdU<br />
&nbsp;&nbsp; &nbsp; 21-May-2008<br />
&nbsp;*/<br />
<br />
&nbsp;// Sample file<br />
&nbsp;</span><span class="default">$filesample </span><span class="keyword">= </span><span class="string">"Mydocu.doc"</span><span class="keyword">;<br />
<br />
&nbsp;</span><span class="comment">//Array for file description. You can expand the array list further with other file types you want<br />
&nbsp;</span><span class="default">$filedes </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"Microsoft Excel Worksheet"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"Microsoft Word Document"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"Adobe Reader PDF File"</span><span class="keyword">);<br />
<br />
&nbsp;</span><span class="comment">//Array for file extensions. Please take note that positions between the two arrays should be in sync with each other for correct file description.<br />
&nbsp;</span><span class="default">$fileext </span><span class="keyword">= array(</span><span class="string">".xls"</span><span class="keyword">, </span><span class="string">".doc"</span><span class="keyword">, </span><span class="string">".pdf"</span><span class="keyword">);<br />
<br />
&nbsp;</span><span class="comment">//This gets the file extension<br />
&nbsp;</span><span class="default">$ext </span><span class="keyword">= </span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$filesample</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">);<br />
<br />
&nbsp;</span><span class="comment">//This conditional statement checks if the file extension given is in the array and matches it with the file description<br />
&nbsp;</span><span class="keyword">if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$ext</span><span class="keyword">,</span><span class="default">$fileext</span><span class="keyword">)) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Search the array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ext2 </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$ext</span><span class="keyword">, </span><span class="default">$fileext</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Since the result of the array_search is in integer, you can now assign it as an array value<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$filetype </span><span class="keyword">= </span><span class="default">$filedes</span><span class="keyword">[</span><span class="default">$ext2</span><span class="keyword">];<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Show the result<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">echo </span><span class="default">$filetype</span><span class="keyword">;<br />
&nbsp;} else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$filetype </span><span class="keyword">= </span><span class="string">"Unknown file type"</span><span class="keyword">;<br />
&nbsp;}<br />
</span><span class="default">?&gt;<br />
</span>-----<br />
The output of the script above is:<br />
Microsoft Word Document<br />
<br />
Let's say even if the filename looks like "My.Docu.doc", strrchr still gets the value ".doc" because it gets the last occurance of the dot.<br />
-----<br />
<br />
You can also make it as a function, like this:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;</span><span class="comment">/* File Extension Display using arrays<br />
&nbsp;&nbsp; &nbsp; by: Emmanuel Quiban (Philippines)<br />
&nbsp;&nbsp; &nbsp; BSCS 2002, AdU<br />
&nbsp;&nbsp; &nbsp; 21-May-2008<br />
&nbsp;*/<br />
&nbsp;</span><span class="keyword">function </span><span class="default">getFileType</span><span class="keyword">(</span><span class="default">$yourfile</span><span class="keyword">){<br />
<br />
&nbsp;</span><span class="default">$filedes </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"CompuServe GIF Image"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"JPEG Image"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"Portable Network Graphics (PNG) Image"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">);<br />
<br />
&nbsp;</span><span class="default">$fileext </span><span class="keyword">= array(</span><span class="string">".gif"</span><span class="keyword">,</span><span class="string">".jpg"</span><span class="keyword">,</span><span class="string">".png"</span><span class="keyword">);<br />
<br />
&nbsp;</span><span class="default">$ext </span><span class="keyword">= </span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$yourfile</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">);<br />
&nbsp;if (</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$ext</span><span class="keyword">,</span><span class="default">$fileext</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ext2 </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$ext</span><span class="keyword">, </span><span class="default">$fileext</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$filetype </span><span class="keyword">= </span><span class="default">$filedes</span><span class="keyword">[</span><span class="default">$ext2</span><span class="keyword">];<br />
&nbsp;} else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$filetype </span><span class="keyword">= </span><span class="string">"Unknown file type"</span><span class="keyword">;<br />
&nbsp;}<br />
<br />
&nbsp;return </span><span class="default">$filetype</span><span class="keyword">;<br />
&nbsp;}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76846""></a>
  <div class="note">
   <strong class="user">subbz2k at yahoo dot de</strong>
   <a href="#76846" class="date">01-Aug-2007 04:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i just recently did a function, that uses strrchr to format - let's say a currency - with 2 decimals. can also be done using number_format but you may NOT always want an automatic rounding of your decimals. thats there this function comes in handy:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">formatTwoDecimals</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$trim</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; </span><span class="default">$after_comma </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">, </span><span class="default">$trim</span><span class="keyword">), </span><span class="default">0</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$in_front_of_comma </span><span class="keyword">= (int) </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$final </span><span class="keyword">= </span><span class="default">$in_front_of_comma </span><span class="keyword">. </span><span class="default">$after_comma</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; return </span><span class="default">$final</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="default">formatTwoDecimals</span><span class="keyword">(</span><span class="string">"365.6078985"</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
this will produce<br />
365.60<br />
<br />
instead of<br />
365.61<br />
which will show up then you use number_format.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68809""></a>
  <div class="note">
   <strong class="user">repley at freemail dot it</strong>
   <a href="#68809" class="date">11-Aug-2006 06:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Final get file name and extension into an array with or without dot, using strrchr and strrchr_reverse.<br />
Note our use of !==. Now work if the position of $needle in $haystack was the 0th (first) character like ".htaccess"<br />
&lt;?<br />
//strxchr(string haystack, string needle [, bool int leftinclusive [, bool int rightinclusive ]])<br />
function strxchr($haystack, $needle, $l_inclusive = 0, $r_inclusive = 0){<br />
&nbsp;&nbsp; //Note our use of !==. Now work if the position of $needle in $haystack was the 0th (first) character.<br />
&nbsp;&nbsp; if(strrpos($haystack, $needle) !== false){<br />
&nbsp;&nbsp; &nbsp; &nbsp; //Everything before last $needle in $haystack.<br />
&nbsp;&nbsp; &nbsp; &nbsp; $left =&nbsp; substr($haystack, 0, strrpos($haystack, $needle) + $l_inclusive);<br />
&nbsp;&nbsp; &nbsp; &nbsp; //Switch value of $r_inclusive from 0 to 1 and viceversa.<br />
&nbsp;&nbsp; &nbsp; &nbsp; $r_inclusive = ($r_inclusive == 0) ? 1 : 0;<br />
&nbsp;&nbsp; &nbsp; &nbsp; //Everything after last $needle in $haystack.<br />
&nbsp;&nbsp; &nbsp; &nbsp; $right =&nbsp; substr(strrchr($haystack, $needle), $r_inclusive);<br />
&nbsp;&nbsp; &nbsp; &nbsp; //Return $left and $right into an array.<br />
&nbsp;&nbsp; &nbsp; &nbsp; $a = array($left, $right);<br />
&nbsp;&nbsp; &nbsp; &nbsp; return $a;<br />
&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; return false;<br />
&nbsp;&nbsp; }<br />
}<br />
?&gt;<br />
<br />
Repley</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="67296""></a>
  <div class="note">
   <strong class="user">readless at gmx dot net</strong>
   <a href="#67296" class="date">06-Jun-2006 07:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
to: repley at freemail dot it<br />
<br />
the code works very well, but as i was trying to cut script names (e.g.: $_SERVER["SCRIPT_NAME"] =&gt; /index.php, cut the string at "/" and return "index.php") it returned nothing (false). i've modified your code and now it works also if the needle is the first char.<br />
- regards from germany<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//strxchr(string haystack, string needle [, bool int leftinclusive [, bool int rightinclusive ]])<br />
</span><span class="keyword">function </span><span class="default">strxchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$l_inclusive </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$r_inclusive </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; if(</span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="comment">//Everything before last $needle in $haystack.<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$left </span><span class="keyword">=&nbsp; </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) + </span><span class="default">$l_inclusive</span><span class="keyword">);<br />
&nbsp;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="comment">//Switch value of $r_inclusive from 0 to 1 and viceversa.<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$r_inclusive </span><span class="keyword">= (</span><span class="default">$r_inclusive </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">) ? </span><span class="default">1 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="comment">//Everything after last $needle in $haystack.<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$right </span><span class="keyword">=&nbsp; </span><span class="default">substr</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">), </span><span class="default">$r_inclusive</span><span class="keyword">);<br />
&nbsp;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="comment">//Return $left and $right into an array.<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="keyword">return array(</span><span class="default">$left</span><span class="keyword">, </span><span class="default">$right</span><span class="keyword">);<br />
&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; if(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)) return array(</span><span class="string">''</span><span class="keyword">, </span><span class="default">substr</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">), </span><span class="default">$r_inclusive</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; else return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66306""></a>
  <div class="note">
   <strong class="user">repley at freemail dot it</strong>
   <a href="#66306" class="date">18-May-2006 03:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Get file name and extension into an array with or without dot, using strrchr and strrchr_reverse.<br />
<br />
&lt;?<br />
//strxchr(string haystack, string needle [, bool int leftinclusive [, bool int rightinclusive ]])<br />
function strxchr($haystack, $needle, $l_inclusive = 0, $r_inclusive = 0){<br />
&nbsp;&nbsp; if(strrpos($haystack, $needle)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; //Everything before last $needle in $haystack.<br />
&nbsp;&nbsp; &nbsp; &nbsp; $left =&nbsp; substr($haystack, 0, strrpos($haystack, $needle) + $l_inclusive);<br />
&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; //Switch value of $r_inclusive from 0 to 1 and viceversa.<br />
&nbsp;&nbsp; &nbsp; &nbsp; $r_inclusive = ($r_inclusive == 0) ? 1 : 0;<br />
&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; //Everything after last $needle in $haystack.<br />
&nbsp;&nbsp; &nbsp; &nbsp; $right =&nbsp; substr(strrchr($haystack, $needle), $r_inclusive);<br />
&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; //Return $left and $right into an array.<br />
&nbsp;&nbsp; &nbsp; &nbsp; $a = array($left, $right);<br />
&nbsp;&nbsp; &nbsp; &nbsp; return $a;<br />
&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; return false;<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
//start test<br />
$haystack = "unknown.txt.log.......gif.....jpeg";<br />
$needle = ".";<br />
$l_inclusive = 1; //1 for inclusive mode, 0 for NOT inclusive mode<br />
$r_inclusive = 1; //1 for inclusive mode, 0 for NOT inclusive mode<br />
<br />
$a = strxchr($haystack, $needle, $l_inclusive, $r_inclusive);<br />
if($a){echo "Left: &lt;strong&gt;" . $a[0] . "&lt;/strong&gt;&lt;br /&gt; Right: &lt;strong&gt;" . $a[1] . "&lt;/strong&gt;";}else{echo "Failed!";}<br />
//end test<br />
?&gt;<br />
<br />
Thanks to all.<br />
<br />
Repley</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64157""></a>
  <div class="note">
   <strong class="user">sekati at gmail dot com</strong>
   <a href="#64157" class="date">08-Apr-2006 05:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
just a small addition to carlos dot lage at gmail dot com note which makes it a bit more useful and flexible:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// return everything up to last instance of needle<br />
// use $trail to include needle chars including and past last needle <br />
</span><span class="keyword">function </span><span class="default">reverse_strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">, </span><span class="default">$trail</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) ? </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) + </span><span class="default">$trail</span><span class="keyword">) : </span><span class="default">false</span><span class="keyword">;<br />
}<br />
</span><span class="comment">// usage:<br />
</span><span class="default">$ns </span><span class="keyword">= (</span><span class="default">reverse_strrchr</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">"SCRIPT_URI"</span><span class="keyword">], </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">));<br />
</span><span class="default">$ns2 </span><span class="keyword">= (</span><span class="default">reverse_strrchr</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">"SCRIPT_URI"</span><span class="keyword">], </span><span class="string">"/"</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">));<br />
echo(</span><span class="default">$ns </span><span class="keyword">. </span><span class="string">"&lt;br&gt;" </span><span class="keyword">. </span><span class="default">$ns2</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60075""></a>
  <div class="note">
   <strong class="user">freakinunreal at hotmail dot com</strong>
   <a href="#60075" class="date">24-Dec-2005 10:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
to marcokonopacki at hotmail dot com.<br />
<br />
I had to make a slight change in your function for it to return the complete needle inclusive.<br />
<br />
// Reverse search of strrchr.<br />
function strrrchr($haystack,$needle)<br />
{<br />
<br />
&nbsp;&nbsp; // Returns everything before $needle (inclusive).<br />
&nbsp;&nbsp; //return substr($haystack,0,strpos($haystack,$needle)+1);<br />
&nbsp;&nbsp; // becomes<br />
&nbsp;&nbsp; return substr($haystack,0,strpos($haystack,$needle)+strlen($needle));<br />
}<br />
<br />
Note: the +1 becomes +strlen($needle)<br />
<br />
Otherwise it only returns the first character in needle backwards.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58673""></a>
  <div class="note">
   <strong class="user">arcesis - gmail - com</strong>
   <a href="#58673" class="date">11-Nov-2005 06:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A quick way to get file's extension (if it has one, otherwise you get an empty string), which can be used when you want to rename the file but keep the old extension. Or for similar purposes. Temporary variable is used just because it's slightly faster to store the value than to run the strrchr() function again.<br />
<br />
<span class="default">&lt;?php<br />
$ext </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">((</span><span class="default">$t</span><span class="keyword">=</span><span class="default">strrchr</span><span class="keyword">(</span><span class="string">"file.ext"</span><span class="keyword">,</span><span class="string">'.'</span><span class="keyword">))!==</span><span class="default">false</span><span class="keyword">?</span><span class="default">$t</span><span class="keyword">:</span><span class="string">''</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55306""></a>
  <div class="note">
   <strong class="user">Primo Anderson Do S’tio</strong>
   <a href="#55306" class="date">29-Jul-2005 10:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
$filename = 'strrchr_test.php';<br />
print strrchr( $filename, '.' );<br />
<br />
Result:<br />
.php<br />
<br />
$other_filename = 'strrchr_test.asp.php';<br />
print&nbsp; strrchr( $other_filename, '.' );<br />
<br />
Result:<br />
.php</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51551""></a>
  <div class="note">
   <strong class="user">carlos dot lage at gmail dot com</strong>
   <a href="#51551" class="date">03-Apr-2005 11:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I used dchris1 at bigpond dot net dot au 's reverse strrchr and reduced it to one line of code and fixed it's functionality - the real strrchr() returns FALSE if the needle is not found, not the haystack :)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// reverse strrchr()<br />
</span><span class="keyword">function </span><span class="default">reverse_strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) ? </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">) +</span><span class="default">1 </span><span class="keyword">) : </span><span class="default">false</span><span class="keyword">;<br />
} <br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39957""></a>
  <div class="note">
   <strong class="user">dchris1 at bigpond dot net dot au</strong>
   <a href="#39957" class="date">16-Feb-2004 07:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The function provided by marcokonopacki at hotmail dot com isn't really a reverse-version of strrchr(), rather a reverse version of strchr(). It returns everything from the start of $haystack up to the FIRST instance of the $needle. This is basically a reverse of the behavior which you expect from strchr(). A reverse version of strrchr() would return everything in $haystack up to the LAST instance of $needle, eg:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// reverse strrchr() - PHP v4.0b3 and above<br />
</span><span class="keyword">function </span><span class="default">reverse_strrchr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">strrpos</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">$needle</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$pos </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$haystack</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$haystack</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pos </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Note that this function will need to be modified slightly to work with pre 4.0b3 versions of PHP due to the return type of strrpos() ('0' is not necessarily 'false'). Check the documentation on strrpos() for more info. <br />
<br />
A function like this can be useful for extracting the path to a script, for example:<br />
<br />
&lt;?<br />
$string = "/path/to/the/file/filename.php";<br />
<br />
echo reverse_strrchr($string, '/'); // will echo "/path/to/the/file/"<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32336""></a>
  <div class="note">
   <strong class="user">andfarm at thibs dot menloschool dot org</strong>
   <a href="#32336" class="date">23-May-2003 04:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
strrchr is also very useful for finding the extension of a file. For example:<br />
<br />
$ext = strrchr($filename, ".");<br />
<br />
and $ext will contain the extension of the file, including a ".", if the file has an extension, and FALSE if the file has no extension. If the file has multiple extensions, such as "evilfile.jpg.vbs", then this construction will just return the last extension.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="31232""></a>
  <div class="note">
   <strong class="user">marcokonopacki at hotmail dot com</strong>
   <a href="#31232" class="date">14-Apr-2003 12:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
&lt;?<br />
<br />
// Reverse search of strrchr.<br />
function strrrchr($haystack,$needle)<br />
{<br />
<br />
&nbsp;&nbsp;&nbsp; // Returns everything before $needle (inclusive).<br />
&nbsp;&nbsp;&nbsp; return substr($haystack,0,strpos($haystack,$needle)+1);<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
<br />
$string = "FIELD NUMBER(9) NOT NULL";<br />
<br />
echo strrrchr($string,")"); // Will print FIELD (9)<br />
<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="26900""></a>
  <div class="note">
   <strong class="user">juancri at tagnet dot org</strong>
   <a href="#26900" class="date">16-Nov-2002 03:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this functions returns the name of the current directory.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">currentd</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">substr</span><span class="keyword">(</span><span class="default">strrchr</span><span class="keyword">(`</span><span class="string">pwd</span><span class="keyword">`, </span><span class="string">'/'</span><span class="keyword">), </span><span class="default">1</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.strpos.html">strpos</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.strrev.html">strrev</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
