<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>DOM XML (PHP 4) Functions</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="domxml.constants.html">Predefined Constants</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.domattribute-name.html">DomAttribute::name</a></div>
 <div class="up"><a href="book.domxml.html">DOM XML (PHP 4)</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="ref.domxml" class="reference">
  <h1 class="title">DOM XML (PHP 4) Functions</h1>

  <div class="partintro">
   <div class="section" id="domxml.deprecated">
    <h2 class="title">Deprecated functions</h2>
    <p class="para">
     There are quite a few functions that do not fit into the DOM standard and
     should no longer be used. These functions are listed in the following table.
     The function <span class="function"><a href="function.domnode-append-child.html" class="function">DomNode_append_child()</a></span> has changed its
     behaviour. It now adds a child and not a sibling. If this
     breaks your application, use the non-DOM function
     <span class="function"><a href="function.domnode-append-sibling.html" class="function">DomNode_append_sibling()</a></span>.
    </p>
    <p class="para">
    <table class="doctable table">
     <caption><b>Deprecated functions and their replacements</b></caption>
     
      <thead valign="middle">
       <tr valign="middle">
        <th>Old function</th>
        <th>New function</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left">xmldoc</td>
        <td align="left"><span class="function"><a href="function.domxml-open-mem.html" class="function">domxml_open_mem()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">xmldocfile</td>
        <td align="left"><span class="function"><a href="function.domxml-open-file.html" class="function">domxml_open_file()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">domxml_new_xmldoc</td>
        <td align="left"><span class="function"><a href="function.domxml-new-doc.html" class="function">domxml_new_doc()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">domxml_dump_mem</td>
        <td align="left"><span class="function"><a href="function.domdocument-dump-mem.html" class="function">DomDocument_dump_mem()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">domxml_dump_mem_file</td>
        <td align="left"><span class="function"><a href="function.domdocument-dump-file.html" class="function">DomDocument_dump_file()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">DomDocument_dump_mem_file</td>
        <td align="left"><span class="function"><a href="function.domdocument-dump-file.html" class="function">DomDocument_dump_file()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">DomDocument_add_root</td>
        <td align="left"><span class="function"><a href="function.domdocument-create-element.html" class="function">DomDocument_create_element()</a></span> followed by
               <span class="function"><a href="function.domnode-append-child.html" class="function">DomNode_append_child()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">DomDocument_dtd</td>
        <td align="left"><span class="function"><a href="function.domdocument-doctype.html" class="function">DomDocument_doctype()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">DomDocument_root</td>
        <td align="left"><span class="function"><a href="function.domdocument-document-element.html" class="function">DomDocument_document_element()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">DomDocument_children</td>
        <td align="left"><span class="function"><a href="function.domnode-child-nodes.html" class="function">DomNode_child_nodes()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">DomDocument_imported_node</td>
        <td align="left">No replacement.</td>
       </tr>

       <tr valign="middle">
        <td align="left">DomNode_add_child</td>
        <td align="left">Create a new node with e.g.
         <span class="function"><a href="function.domdocument-create-element.html" class="function">DomDocument_create_element()</a></span> and add it with
         <span class="function"><a href="function.domnode-append-child.html" class="function">DomNode_append_child()</a></span>.
        </td>
       </tr>

       <tr valign="middle">
        <td align="left">DomNode_children</td>
        <td align="left"><span class="function"><a href="function.domnode-child-nodes.html" class="function">DomNode_child_nodes()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">DomNode_parent</td>
        <td align="left"><span class="function"><a href="function.domnode-parent-node.html" class="function">DomNode_parent_node()</a></span></td>
       </tr>

       <tr valign="middle">
        <td align="left">DomNode_new_child</td>
        <td align="left">Create a new node with e.g.
         <span class="function"><a href="function.domdocument-create-element.html" class="function">DomDocument_create_element()</a></span> and add it with
         <span class="function"><a href="function.domnode-append-child.html" class="function">DomNode_append_child()</a></span>.
        </td>
       </tr>

       <tr valign="middle">
        <td align="left">DomNode_set_content</td>
        <td align="left">Create a new node with e.g.
         <span class="function"><a href="function.domdocument-create-text-node.html" class="function">DomDocument_create_text_node()</a></span> and add it with
         <span class="function"><a href="function.domnode-append-child.html" class="function">DomNode_append_child()</a></span>.
        </td>
       </tr>

       <tr valign="middle">
        <td align="left">DomNode_get_content</td>
        <td align="left">Content is just a text node and can be accessed with
         <span class="function"><a href="function.domnode-child-nodes.html" class="function">DomNode_child_nodes()</a></span>.
        </td>
       </tr>

       <tr valign="middle">
        <td align="left">DomNode_set_content</td>
        <td align="left">Content is just a text node and can be added with
         <span class="function"><a href="function.domnode-append-child.html" class="function">DomNode_append_child()</a></span>.
        </td>
       </tr>

      </tbody>
     
    </table>

    </p>
   </div>

   
   <div class="section" id="domxml.classes">
    <h2 class="title">Classes</h2>
    <p class="para">
     The API of the module follows the DOM Level 2 standard as closely
     as possible. Consequently, the API is fully object-oriented.
     It is a good idea to have the DOM standard available when
     using this module.
     Though the API is object-oriented, there are many functions which can
     be called in a non-object-oriented way by passing the object to operate
     on as the first argument. These functions are mainly to retain compatibility
     to older versions of the extension, and should not be used when creating new
     scripts.
    </p>
    <p class="para">
     This API differs from the official DOM API in two ways. First, all
     class attributes are implemented as functions with the same name.
     Secondly, the function names follow the PHP naming convention. This means
     that a DOM function lastChild() will be written as last_child().
    </p>
    <p class="para">
     This module defines a number of classes, which are listed -
     including their
     method - in the following tables. Classes with an equivalent in the
     DOM standard are named DOMxxx.
    </p>
 
    <p class="para">
    <table class="doctable table">
     <caption><b>List of classes</b></caption>
     
      <thead valign="middle">
       <tr valign="middle">
        <th>Class name</th>
        <th>Parent classes</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left">DomAttribute</td>
        <td align="left">DomNode</td>
       </tr>

       <tr valign="middle">
        <td align="left">DomCData</td>
        <td align="left">DomNode</td>
       </tr>

       <tr valign="middle">
        <td align="left">DomComment</td>
        <td align="left">DomCData : DomNode</td>
       </tr>

       <tr valign="middle">
        <td align="left">DomDocument</td>
        <td align="left">DomNode</td>
       </tr>

       <tr valign="middle">
        <td align="left">DomDocumentType</td>
        <td align="left">DomNode</td>
       </tr>

       <tr valign="middle">
        <td align="left">DomElement</td>
        <td align="left">DomNode</td>
       </tr>

       <tr valign="middle">
        <td align="left">DomEntity</td>
        <td align="left">DomNode</td>
       </tr>

       <tr valign="middle">
        <td align="left">DomEntityReference</td>
        <td align="left">DomNode</td>
       </tr>

       <tr valign="middle">
        <td align="left">DomProcessingInstruction</td>
        <td align="left">DomNode</td>
       </tr>

       <tr valign="middle">
        <td align="left">DomText</td>
        <td align="left">DomCData : DomNode</td>
       </tr>

       <tr valign="middle">
        <td align="left">Parser</td>
        <td align="left">Currently still called DomParser</td>
       </tr>

       <tr valign="middle">
        <td align="left">XPathContext</td>
        <td class="empty">&nbsp;</td>
       </tr>

      </tbody>
     
    </table>

    </p>

    <p class="para">
    <table class="doctable table">
     <caption><b>DomDocument class (DomDocument : DomNode)</b></caption>
     
      <thead valign="middle">
       <tr valign="middle">
        <th>Method name</th>
        <th>Function name</th>
        <th>Remark</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left">doctype</td>
        <td align="left"><span class="function"><a href="function.domdocument-doctype.html" class="function">DomDocument_doctype()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">document_element</td>
        <td align="left"><span class="function"><a href="function.domdocument-document-element.html" class="function">DomDocument_document_element()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">create_element</td>
        <td align="left"><span class="function"><a href="function.domdocument-create-element.html" class="function">DomDocument_create_element()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">create_text_node</td>
        <td align="left"><span class="function"><a href="function.domdocument-create-text-node.html" class="function">DomDocument_create_text_node()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">create_comment</td>
        <td align="left"><span class="function"><a href="function.domdocument-create-comment.html" class="function">DomDocument_create_comment()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">create_cdata_section</td>
        <td align="left"><span class="function"><a href="function.domdocument-create-cdata-section.html" class="function">DomDocument_create_cdata_section()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">create_processing_instruction</td>
        <td align="left"><span class="function"><a href="function.domdocument-create-processing-instruction.html" class="function">DomDocument_create_processing_instruction()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">create_attribute</td>
        <td align="left"><span class="function"><a href="function.domdocument-create-attribute.html" class="function">DomDocument_create_attribute()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">create_entity_reference</td>
        <td align="left"><span class="function"><a href="function.domdocument-create-entity-reference.html" class="function">DomDocument_create_entity_reference()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">get_elements_by_tagname</td>
        <td align="left"><span class="function"><a href="function.domdocument-get-elements-by-tagname.html" class="function">DomDocument_get_elements_by_tagname()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">get_element_by_id</td>
        <td align="left"><span class="function"><a href="function.domdocument-get-element-by-id.html" class="function">DomDocument_get_element_by_id()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">dump_mem</td>
        <td align="left"><span class="function"><a href="function.domdocument-dump-mem.html" class="function">DomDocument_dump_mem()</a></span></td>
        <td align="left">not DOM standard</td>
       </tr>

       <tr valign="middle">
        <td align="left">dump_file</td>
        <td align="left"><span class="function"><a href="function.domdocument-dump-file.html" class="function">DomDocument_dump_file()</a></span></td>
        <td align="left">not DOM standard</td>
       </tr>

       <tr valign="middle">
        <td align="left">html_dump_mem</td>
        <td align="left"><span class="function"><a href="function.domdocument-html-dump-mem.html" class="function">DomDocument_html_dump_mem()</a></span></td>
        <td align="left">not DOM standard</td>
       </tr>

       <tr valign="middle">
        <td align="left">xpath_init</td>
        <td align="left">xpath_init</td>
        <td align="left">not DOM standard</td>
       </tr>

       <tr valign="middle">
        <td align="left">xpath_new_context</td>
        <td align="left">xpath_new_context</td>
        <td align="left">not DOM standard</td>
       </tr>

       <tr valign="middle">
        <td align="left">xptr_new_context</td>
        <td align="left">xptr_new_context</td>
        <td align="left">not DOM standard</td>
       </tr>

      </tbody>
     
    </table>

    </p>

    <p class="para">
    <table class="doctable table">
     <caption><b>DomElement class (DomElement : DomNode)</b></caption>
     
      <thead valign="middle">
       <tr valign="middle">
        <th>Method name</th>
        <th>Function name</th>
        <th>Remark</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left">tagname</td>
        <td align="left"><span class="function"><a href="function.domelement-tagname.html" class="function">DomElement_tagname()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">get_attribute</td>
        <td align="left"><span class="function"><a href="function.domelement-get-attribute.html" class="function">DomElement_get_attribute()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">set_attribute</td>
        <td align="left"><span class="function"><a href="function.domelement-set-attribute.html" class="function">DomElement_set_attribute()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">remove_attribute</td>
        <td align="left"><span class="function"><a href="function.domelement-remove-attribute.html" class="function">DomElement_remove_attribute()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">get_attribute_node</td>
        <td align="left"><span class="function"><a href="function.domelement-get-attribute-node.html" class="function">DomElement_get_attribute_node()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">set_attribute_node</td>
        <td align="left"><span class="function"><a href="function.domelement-set-attribute-node.html" class="function">DomElement_set_attribute_node()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

   
       <tr valign="middle">
        <td align="left">get_elements_by_tagname</td>
        <td align="left"><span class="function"><a href="function.domelement-get-elements-by-tagname.html" class="function">DomElement_get_elements_by_tagname()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">has_attribute</td>
        <td align="left"><span class="function"><a href="function.domelement-has-attribute.html" class="function">DomElement_has_attribute()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

      </tbody>
     
    </table>

    </p>

    <p class="para">
    <table class="doctable table">
     <caption><b>DomNode class</b></caption>
     
      <thead valign="middle">
       <tr valign="middle">
        <th>Method name</th>
        <th>Remark</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-node-name.html" class="function">DomNode_node_name()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-node-value.html" class="function">DomNode_node_value()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-node-type.html" class="function">DomNode_node_type()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-last-child.html" class="function">DomNode_last_child()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-first-child.html" class="function">DomNode_first_child()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-child-nodes.html" class="function">DomNode_child_nodes()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-previous-sibling.html" class="function">DomNode_previous_sibling()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-next-sibling.html" class="function">DomNode_next_sibling()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-parent-node.html" class="function">DomNode_parent_node()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-owner-document.html" class="function">DomNode_owner_document()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-insert-before.html" class="function">DomNode_insert_before()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-append-child.html" class="function">DomNode_append_child()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-append-sibling.html" class="function">DomNode_append_sibling()</a></span></td>
        <td align="left">Not in DOM standard. This function emulates the former
         behaviour of <span class="function"><a href="function.domnode-append-child.html" class="function">DomNode_append_child()</a></span>.</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-remove-child.html" class="function">DomNode_remove_child()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-has-child-nodes.html" class="function">DomNode_has_child_nodes()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-has-attributes.html" class="function">DomNode_has_attributes()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-clone-node.html" class="function">DomNode_clone_node()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-attributes.html" class="function">DomNode_attributes()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-unlink-node.html" class="function">DomNode_unlink_node()</a></span></td>
        <td align="left">Not in DOM standard</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-replace-node.html" class="function">DomNode_replace_node()</a></span></td>
        <td align="left">Not in DOM standard</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-set-content.html" class="function">DomNode_set_content()</a></span></td>
        <td align="left">Not in DOM standard, deprecated</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-get-content.html" class="function">DomNode_get_content()</a></span></td>
        <td align="left">Not in DOM standard, deprecated</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-dump-node.html" class="function">DomNode_dump_node()</a></span></td>
        <td align="left">Not in DOM standard</td>
       </tr>

       <tr valign="middle">
        <td align="left"><span class="function"><a href="function.domnode-is-blank-node.html" class="function">DomNode_is_blank_node()</a></span></td>
        <td align="left">Not in DOM standard</td>
       </tr>

      </tbody>
     
    </table>

    </p>

    <p class="para">
    <table class="doctable table">
     <caption><b>DomAttribute class (DomAttribute : DomNode)</b></caption>
     
      <thead valign="middle">
       <tr valign="middle">
        <th>Method name</th>
        <th class="empty">&nbsp;</th>
        <th>Remark</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left">name</td>
        <td align="left"><span class="function"><a href="function.domattribute-name.html" class="function">DomAttribute_name()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">value</td>
        <td align="left"><span class="function"><a href="function.domattribute-value.html" class="function">DomAttribute_value()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">specified</td>
        <td align="left"><span class="function"><a href="function.domattribute-specified.html" class="function">DomAttribute_specified()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

      </tbody>
     
    </table>

    </p>

    <p class="para">
    <table class="doctable table">
     <caption><b>DomProcessingInstruction class (DomProcessingInstruction : DomNode)</b></caption>
     
      <thead valign="middle">
       <tr valign="middle">
        <th>Method name</th>
        <th>Function name</th>
        <th>Remark</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left">target</td>
        <td align="left"><span class="function"><a href="function.domprocessinginstruction-target.html" class="function">DomProcessingInstruction_target()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">data</td>
        <td align="left"><span class="function"><a href="function.domprocessinginstruction-data.html" class="function">DomProcessingInstruction_data()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

      </tbody>
     
    </table>

    </p>

    <p class="para">
    <table class="doctable table">
     <caption><b>Parser class</b></caption>
     
      <thead valign="middle">
       <tr valign="middle">
        <th>Method name</th>
        <th>Function name</th>
        <th>Remark</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left">add_chunk</td>
        <td align="left"><span class="function"><b>Parser_add_chunk()</b></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">end</td>
        <td align="left"><span class="function"><b>Parser_end()</b></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

      </tbody>
     
    </table>

    </p>

    <p class="para">
    <table class="doctable table">
     <caption><b>XPathContext class</b></caption>
     
      <thead valign="middle">
       <tr valign="middle">
        <th>Method name</th>
        <th>Function name</th>
        <th>Remark</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left">eval</td>
        <td align="left"><span class="function"><b>XPathContext_eval()</b></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">eval_expression</td>
        <td align="left"><span class="function"><b>XPathContext_eval_expression()</b></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">register_ns</td>
        <td align="left"><span class="function"><b>XPathContext_register_ns()</b></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

      </tbody>
     
    </table>

    </p>

    <p class="para">
    <table class="doctable table">
      <caption><b>DomDocumentType class (DomDocumentType : DomNode)</b></caption>
     
      <thead valign="middle">
       <tr valign="middle">
        <th>Method name</th>
        <th>Function name</th>
        <th>Remark</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left">name</td>
        <td align="left"><span class="function"><a href="function.domdocumenttype-name.html" class="function">DomDocumentType_name()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">entities</td>
        <td align="left"><span class="function"><a href="function.domdocumenttype-entities.html" class="function">DomDocumentType_entities()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">notations</td>
        <td align="left"><span class="function"><a href="function.domdocumenttype-notations.html" class="function">DomDocumentType_notations()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">public_id</td>
        <td align="left"><span class="function"><a href="function.domdocumenttype-public-id.html" class="function">DomDocumentType_public_id()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">system_id</td>
        <td align="left"><span class="function"><a href="function.domdocumenttype-system-id.html" class="function">DomDocumentType_system_id()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

       <tr valign="middle">
        <td align="left">internal_subset</td>
        <td align="left"><span class="function"><a href="function.domdocumenttype-internal-subset.html" class="function">DomDocumentType_internal_subset()</a></span></td>
        <td class="empty">&nbsp;</td>
       </tr>

      </tbody>
     
    </table>

    </p>

    <p class="para">
     The classes DomDtd is derived from DomNode. DomComment is derived from
     DomCData.
    </p>
   </div>

   <div class="section" id="domxml.examples">
    <h2 class="title">Examples</h2>
    <p class="para">
     Many examples in this reference require an XML string. Instead of
     repeating this string in every example, it will be put into a file
     which will be included by each example. This include file is shown in the
     following example section. Alternatively, you could create an XML document and
     read it with <span class="function"><b>DomDocument_open_file()</b></span>.
    </p>
    <p class="para">
     <div class="example" id="example-4948">
      <p><b>Example #1 Include file example.inc with XML string</b></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$xmlstr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"&lt;?xml&nbsp;version='1.0'&nbsp;standalone='yes'?&gt;<br />&lt;!DOCTYPE&nbsp;chapter&nbsp;SYSTEM&nbsp;'/share/sgml/Norman_Walsh/db3xml10/db3xml10.dtd'<br />[&nbsp;&lt;!ENTITY&nbsp;sp&nbsp;\"spanish\"&gt;<br />]&gt;<br />&lt;!--&nbsp;lsfj&nbsp;&nbsp;--&gt;<br />&lt;chapter&nbsp;language='en'&gt;&lt;title&nbsp;language='en'&gt;Title&lt;/title&gt;<br />&nbsp;&lt;para&nbsp;language='ge'&gt;<br />&nbsp;&nbsp;&amp;sp;<br />&nbsp;&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;<br />&nbsp;&nbsp;&lt;informaltable&nbsp;ID='findme'&nbsp;language='&amp;sp;'&gt;<br />&nbsp;&nbsp;&nbsp;&lt;tgroup&nbsp;cols='3'&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;row&gt;&lt;entry&gt;a1&lt;/entry&gt;&lt;entry<br />morerows='1'&gt;b1&lt;/entry&gt;&lt;entry&gt;c1&lt;/entry&gt;&lt;/row&gt;<br />&lt;row&gt;&lt;entry&gt;a2&lt;/entry&gt;&lt;entry&gt;c2&lt;/entry&gt;&lt;/row&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;row&gt;&lt;entry&gt;a3&lt;/entry&gt;&lt;entry&gt;b3&lt;/entry&gt;&lt;entry&gt;c3&lt;/entry&gt;&lt;/row&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;<br />&nbsp;&nbsp;&nbsp;&lt;/tgroup&gt;<br />&nbsp;&nbsp;&lt;/informaltable&gt;<br />&nbsp;&lt;/para&gt;<br />&lt;/chapter&gt;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </div>
    </p>
   </div>
  </div>





























  






  






  






  






  






  






  






  






  






  






  






  






  






  






  






  





  

































































































































































































































































































































































  






  



































 <h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="function.domattribute-name.html">DomAttribute::name</a> â€” Returns the name of attribute</li><li><a href="function.domattribute-set-value.html">DomAttribute::set_value</a> â€” Sets the value of an attribute</li><li><a href="function.domattribute-specified.html">DomAttribute::specified</a> â€” Checks if attribute is specified</li><li><a href="function.domattribute-value.html">DomAttribute::value</a> â€” Returns value of attribute</li><li><a href="function.domdocument-add-root.html">DomDocument::add_root</a> â€” Adds a root node [deprecated]</li><li><a href="function.domdocument-create-attribute.html">DomDocument::create_attribute</a> â€” Create new attribute</li><li><a href="function.domdocument-create-cdata-section.html">DomDocument::create_cdata_section</a> â€” Create new cdata node</li><li><a href="function.domdocument-create-comment.html">DomDocument::create_comment</a> â€” Create new comment node</li><li><a href="function.domdocument-create-element-ns.html">DomDocument::create_element_ns</a> â€” Create new element node with an associated namespace</li><li><a href="function.domdocument-create-element.html">DomDocument::create_element</a> â€” Create new element node</li><li><a href="function.domdocument-create-entity-reference.html">DomDocument::create_entity_reference</a> â€” Create an entity reference</li><li><a href="function.domdocument-create-processing-instruction.html">DomDocument::create_processing_instruction</a> â€” Creates new PI node</li><li><a href="function.domdocument-create-text-node.html">DomDocument::create_text_node</a> â€” Create new text node</li><li><a href="function.domdocument-doctype.html">DomDocument::doctype</a> â€” Returns the document type</li><li><a href="function.domdocument-document-element.html">DomDocument::document_element</a> â€” Returns root element node</li><li><a href="function.domdocument-dump-file.html">DomDocument::dump_file</a> â€” Dumps the internal XML tree back into a file</li><li><a href="function.domdocument-dump-mem.html">DomDocument::dump_mem</a> â€” Dumps the internal XML tree back into a string</li><li><a href="function.domdocument-get-element-by-id.html">DomDocument::get_element_by_id</a> â€” Searches for an element with a certain id</li><li><a href="function.domdocument-get-elements-by-tagname.html">DomDocument::get_elements_by_tagname</a> â€” Returns array with nodes with given tagname in document or empty array, if not found</li><li><a href="function.domdocument-html-dump-mem.html">DomDocument::html_dump_mem</a> â€” Dumps the internal XML tree back into a string as HTML</li><li><a href="function.domdocument-xinclude.html">DomDocument::xinclude</a> â€” Substitutes XIncludes in a DomDocument Object</li><li><a href="function.domdocumenttype-entities.html">DomDocumentType::entities</a> â€” Returns list of entities</li><li><a href="function.domdocumenttype-internal-subset.html">DomDocumentType::internal_subset</a> â€” Returns internal subset</li><li><a href="function.domdocumenttype-name.html">DomDocumentType::name</a> â€” Returns name of document type</li><li><a href="function.domdocumenttype-notations.html">DomDocumentType::notations</a> â€” Returns list of notations</li><li><a href="function.domdocumenttype-public-id.html">DomDocumentType::public_id</a> â€” Returns public id of document type</li><li><a href="function.domdocumenttype-system-id.html">DomDocumentType::system_id</a> â€” Returns the system id of document type</li><li><a href="function.domelement-get-attribute-node.html">DomElement::get_attribute_node</a> â€” Returns the node of the given attribute</li><li><a href="function.domelement-get-attribute.html">DomElement::get_attribute</a> â€” Returns the value of the given attribute</li><li><a href="function.domelement-get-elements-by-tagname.html">DomElement::get_elements_by_tagname</a> â€” Gets elements by tagname</li><li><a href="function.domelement-has-attribute.html">DomElement::has_attribute</a> â€” Checks to see if an attribute exists in the current node</li><li><a href="function.domelement-remove-attribute.html">DomElement::remove_attribute</a> â€” Removes attribute</li><li><a href="function.domelement-set-attribute-node.html">DomElement::set_attribute_node</a> â€” Adds new attribute</li><li><a href="function.domelement-set-attribute.html">DomElement::set_attribute</a> â€” Sets the value of an attribute</li><li><a href="function.domelement-tagname.html">DomElement::tagname</a> â€” Returns the name of the current element</li><li><a href="function.domnode-add-namespace.html">DomNode::add_namespace</a> â€” Adds a namespace declaration to a node</li><li><a href="function.domnode-append-child.html">DomNode::append_child</a> â€” Adds a new child at the end of the children</li><li><a href="function.domnode-append-sibling.html">DomNode::append_sibling</a> â€” Adds new sibling to a node</li><li><a href="function.domnode-attributes.html">DomNode::attributes</a> â€” Returns list of attributes</li><li><a href="function.domnode-child-nodes.html">DomNode::child_nodes</a> â€” Returns children of node</li><li><a href="function.domnode-clone-node.html">DomNode::clone_node</a> â€” Clones a node</li><li><a href="function.domnode-dump-node.html">DomNode::dump_node</a> â€” Dumps a single node</li><li><a href="function.domnode-first-child.html">DomNode::first_child</a> â€” Returns first child of node</li><li><a href="function.domnode-get-content.html">DomNode::get_content</a> â€” Gets content of node</li><li><a href="function.domnode-has-attributes.html">DomNode::has_attributes</a> â€” Checks if node has attributes</li><li><a href="function.domnode-has-child-nodes.html">DomNode::has_child_nodes</a> â€” Checks if node has children</li><li><a href="function.domnode-insert-before.html">DomNode::insert_before</a> â€” Inserts new node as child</li><li><a href="function.domnode-is-blank-node.html">DomNode::is_blank_node</a> â€” Checks if node is blank</li><li><a href="function.domnode-last-child.html">DomNode::last_child</a> â€” Returns last child of node</li><li><a href="function.domnode-next-sibling.html">DomNode::next_sibling</a> â€” Returns the next sibling of node</li><li><a href="function.domnode-node-name.html">DomNode::node_name</a> â€” Returns name of node</li><li><a href="function.domnode-node-type.html">DomNode::node_type</a> â€” Returns type of node</li><li><a href="function.domnode-node-value.html">DomNode::node_value</a> â€” Returns value of a node</li><li><a href="function.domnode-owner-document.html">DomNode::owner_document</a> â€” Returns the document this node belongs to</li><li><a href="function.domnode-parent-node.html">DomNode::parent_node</a> â€” Returns the parent of the node</li><li><a href="function.domnode-prefix.html">DomNode::prefix</a> â€” Returns name space prefix of node</li><li><a href="function.domnode-previous-sibling.html">DomNode::previous_sibling</a> â€” Returns the previous sibling of node</li><li><a href="function.domnode-remove-child.html">DomNode::remove_child</a> â€” Removes child from list of children</li><li><a href="function.domnode-replace-child.html">DomNode::replace_child</a> â€” Replaces a child</li><li><a href="function.domnode-replace-node.html">DomNode::replace_node</a> â€” Replaces node</li><li><a href="function.domnode-set-content.html">DomNode::set_content</a> â€” Sets content of node</li><li><a href="function.domnode-set-name.html">DomNode::set_name</a> â€” Sets name of node</li><li><a href="function.domnode-set-namespace.html">DomNode::set_namespace</a> â€” Sets namespace of a node</li><li><a href="function.domnode-unlink-node.html">DomNode::unlink_node</a> â€” Deletes node</li><li><a href="function.domprocessinginstruction-data.html">DomProcessingInstruction::data</a> â€” Returns the data of ProcessingInstruction node</li><li><a href="function.domprocessinginstruction-target.html">DomProcessingInstruction::target</a> â€” Returns the target of a ProcessingInstruction node</li><li><a href="function.domxsltstylesheet-process.html">DomXsltStylesheet::process</a> â€” Applies the XSLT-Transformation on a DomDocument Object</li><li><a href="function.domxsltstylesheet-result-dump-file.html">DomXsltStylesheet::result_dump_file</a> â€” Dumps the result from a XSLT-Transformation into a file</li><li><a href="function.domxsltstylesheet-result-dump-mem.html">DomXsltStylesheet::result_dump_mem</a> â€” Dumps the result from a XSLT-Transformation back into a string</li><li><a href="function.domxml-new-doc.html">domxml_new_doc</a> â€” Creates new empty XML document</li><li><a href="function.domxml-open-file.html">domxml_open_file</a> â€” Creates a DOM object from an XML file</li><li><a href="function.domxml-open-mem.html">domxml_open_mem</a> â€” Creates a DOM object of an XML document</li><li><a href="function.domxml-version.html">domxml_version</a> â€” Gets the XML library version</li><li><a href="function.domxml-xmltree.html">domxml_xmltree</a> â€” Creates a tree of PHP objects from an XML document</li><li><a href="function.domxml-xslt-stylesheet-doc.html">domxml_xslt_stylesheet_doc</a> â€” Creates a DomXsltStylesheet Object from a DomDocument Object</li><li><a href="function.domxml-xslt-stylesheet-file.html">domxml_xslt_stylesheet_file</a> â€” Creates a DomXsltStylesheet Object from an XSL document in a file</li><li><a href="function.domxml-xslt-stylesheet.html">domxml_xslt_stylesheet</a> â€” Creates a DomXsltStylesheet object from an XSL document in a string</li><li><a href="function.domxml-xslt-version.html">domxml_xslt_version</a> â€” Gets the XSLT library version</li><li><a href="function.xpath-eval-expression.html">xpath_eval_expression</a> â€” Evaluates the XPath Location Path in the given string</li><li><a href="function.xpath-eval.html">xpath_eval</a> â€” Evaluates the XPath Location Path in the given string</li><li><a href="function.xpath-new-context.html">xpath_new_context</a> â€” Creates new xpath context</li><li><a href="function.xpath-register-ns-auto.html">xpath_register_ns_auto</a> â€” Register the given namespace in the passed XPath context</li><li><a href="function.xpath-register-ns.html">xpath_register_ns</a> â€” Register the given namespace in the passed XPath context</li><li><a href="function.xptr-eval.html">xptr_eval</a> â€” Evaluate the XPtr Location Path in the given string</li><li><a href="function.xptr-new-context.html">xptr_new_context</a> â€” Create new XPath Context</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="84547""></a>
  <div class="note">
   <strong class="user">joaschi at gmx dot net</strong>
   <a href="#84547" class="date">18-Jul-2008 04:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The PHP 5.0 DOM is very powerful to create and work on valid RSS Feeds. I found a easy to follow step-by-step-tutorial here: <br />
<a href="http://xml-rss.de/xml-rss-feed-mit-php.htm" rel="nofollow" target="_blank">http://xml-rss.de/xml-rss-feed-mit-php.htm</a><br />
(in german language but the code can be understand in every language i think) maybe it helps someone to understand the DOM-Thing better. But beware it donÂ´t work on PHP 4!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74309""></a>
  <div class="note">
   <strong class="user">gue-gue at gmx dot de</strong>
   <a href="#74309" class="date">04-Apr-2007 07:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi at All,<br />
<br />
if you use xpath_eval() you get a xpathobject with a type-member-variable, which tells you about the type of the found content. Here are the values and the corresponding types:<br />
1 = XPATH_NODESET (integer)<br />
2 = XPATH_BOOLEAN (integer)<br />
3 = XPATH_NUMBER (integer)<br />
4 = XPATH_STRING (integer)<br />
<br />
I think, but don't know, that the rest of the constants are:<br />
0 = XPATH_UNDEFINED (integer)&nbsp; &nbsp; &nbsp; <br />
5 = XPATH_POINT (integer)&nbsp; &nbsp; &nbsp; <br />
6 = XPATH_RANGE (integer)&nbsp; &nbsp; &nbsp; <br />
7 = XPATH_LOCATIONSET (integer)<br />
<br />
I hope i could help some people.<br />
<br />
Greetz,<br />
Chris</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71493""></a>
  <div class="note">
   
   <a href="#71493" class="date">01-Dec-2006 08:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Referenced array functions drive me crazy for one reason or another (personal issue I guess).&nbsp; So for any others like me, here's my modification (thanks to the original posters below for the base to work on!)<br />
<br />
I haven't tested this on much more than simple XML files, so there's probably a few ways to break this - I'm also thinking this could probably be rewritten to be more efficient also, but it's working quite well for me thus far.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">xml2array</span><span class="keyword">(</span><span class="default">$domnode</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$nodearray </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$domnode </span><span class="keyword">= </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">firstChild</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while (!</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$domnode</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$currentnode </span><span class="keyword">= </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch (</span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">nodeType</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">XML_TEXT_NODE</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(!(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">) == </span><span class="string">""</span><span class="keyword">)) </span><span class="default">$nodearray</span><span class="keyword">[</span><span class="string">'cdata'</span><span class="keyword">] = </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">XML_ELEMENT_NODE</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">hasAttributes</span><span class="keyword">() )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$elementarray </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$attributes </span><span class="keyword">= </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$attributes </span><span class="keyword">as </span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$domobj</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$elementarray</span><span class="keyword">[</span><span class="default">$domobj</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">] = </span><span class="default">$domobj</span><span class="keyword">-&gt;</span><span class="default">value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">hasChildNodes</span><span class="keyword">() )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nodearray</span><span class="keyword">[</span><span class="default">$currentnode</span><span class="keyword">][] = </span><span class="default">xml2array</span><span class="keyword">(</span><span class="default">$domnode</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$elementarray</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$currnodeindex </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$nodearray</span><span class="keyword">[</span><span class="default">$currentnode</span><span class="keyword">]) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nodearray</span><span class="keyword">[</span><span class="default">$currentnode</span><span class="keyword">][</span><span class="default">$currnodeindex</span><span class="keyword">][</span><span class="string">'@'</span><span class="keyword">] = </span><span class="default">$elementarray</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$elementarray</span><span class="keyword">) &amp;&amp; </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">nodeType </span><span class="keyword">!= </span><span class="default">XML_TEXT_NODE</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nodearray</span><span class="keyword">[</span><span class="default">$currentnode</span><span class="keyword">][</span><span class="string">'@'</span><span class="keyword">] = </span><span class="default">$elementarray</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$domnode </span><span class="keyword">= </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">nextSibling</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$nodearray</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61088""></a>
  <div class="note">
   <strong class="user">Palatinusz - karoly_szalkary at yahoo dot com</strong>
   <a href="#61088" class="date">25-Jan-2006 04:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My short way of parsing an XML document, for example displaying the document in a structured form:<br />
<br />
<span class="default">&lt;?php <br />
$indent </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
</span><span class="default">$file </span><span class="keyword">= </span><span class="string">"semi.xml"</span><span class="keyword">;<br />
<br />
</span><span class="default">$showfile </span><span class="keyword">= </span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="string">"c:/Program Files/Apache Group/apache/htdocs/phpxml" </span><span class="keyword">. </span><span class="string">"/" </span><span class="keyword">. </span><span class="default">$file</span><span class="keyword">);&nbsp; </span><span class="comment">// whatever path<br />
&nbsp;&nbsp; // maybe the whole path is not important, look it up in other posts<br />
<br />
</span><span class="default">$newstring</span><span class="keyword">=</span><span class="default">utf8_encode</span><span class="keyword">(</span><span class="default">$showfile</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// it's important!<br />
</span><span class="keyword">if(!</span><span class="default">$domDocument </span><span class="keyword">= </span><span class="default">domxml_open_mem</span><span class="keyword">(</span><span class="default">$newstring</span><span class="keyword">)) {<br />
&nbsp;&nbsp; echo </span><span class="string">"Couldn't load xml..."</span><span class="keyword">;&nbsp; &nbsp; <br />
&nbsp;&nbsp; exit;<br />
}<br />
<br />
</span><span class="default">$rootDomNode </span><span class="keyword">= </span><span class="default">$domDocument</span><span class="keyword">-&gt;</span><span class="default">document_element</span><span class="keyword">();<br />
print </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">printElements</span><span class="keyword">(</span><span class="default">$rootDomNode</span><span class="keyword">);<br />
print </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
<br />
function </span><span class="default">printElements</span><span class="keyword">(</span><span class="default">$domNode</span><span class="keyword">)<br />
{<br />
&nbsp; if(</span><span class="default">$domNode</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; global </span><span class="default">$indent</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">node_type</span><span class="keyword">() == </span><span class="default">XML_ELEMENT_NODE</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp;&nbsp; print </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">.</span><span class="default">$indent</span><span class="keyword">.</span><span class="string">"&amp;lt;"</span><span class="keyword">.</span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">node_name</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">has_attributes</span><span class="keyword">())<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$attributes </span><span class="keyword">= </span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$attributes </span><span class="keyword">as </span><span class="default">$domAttribute</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">" </span><span class="default">$domAttribute</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="string">=\"</span><span class="default">$domAttribute</span><span class="keyword">-&gt;</span><span class="default">value</span><span class="string">\""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; print </span><span class="string">"&amp;gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; if(</span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">has_child_nodes</span><span class="keyword">())<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$indent</span><span class="keyword">.=</span><span class="string">"&nbsp; "</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nextNode </span><span class="keyword">= </span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">first_child</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">printElements</span><span class="keyword">(</span><span class="default">$nextNode</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$indent</span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$indent</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$indent</span><span class="keyword">)-</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"&lt;br /&gt;"</span><span class="keyword">.</span><span class="default">$indent</span><span class="keyword">.</span><span class="string">"&amp;lt;"</span><span class="keyword">.</span><span class="string">"/"</span><span class="keyword">.</span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">node_name</span><span class="keyword">().</span><span class="string">"&amp;gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; print </span><span class="string">"</span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">node_value</span><span class="string">()&amp;lt;/"</span><span class="keyword">.</span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">node_name</span><span class="keyword">().</span><span class="string">"&amp;gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$nextNode </span><span class="keyword">= </span><span class="default">$domNode</span><span class="keyword">-&gt;</span><span class="default">next_sibling</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">printElements</span><span class="keyword">(</span><span class="default">$nextNode</span><span class="keyword">);<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59696""></a>
  <div class="note">
   <strong class="user">Squiz</strong>
   <a href="#59696" class="date">13-Dec-2005 11:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Re: websiterepairguys...&nbsp; Close but no cigar ;-)<br />
<br />
As written it will not work if the repeated tags are somewhere other than the first node, i.e. the following will not work:<br />
&lt;nodes&gt;<br />
&nbsp; &lt;node&gt;onething&lt;/node&gt;<br />
&nbsp; &lt;node&gt;something&lt;/node&gt;<br />
&nbsp; &lt;node&gt;something&lt;/node&gt;<br />
&lt;/nodes&gt;<br />
<br />
You must store the new node name when you get a new sibling that doesn't match the previous and then it will work OK.&nbsp; Amended code:<br />
<br />
function dom_to_array($domnode, &amp;$array) {<br />
&nbsp; $parent=$domnode;<br />
&nbsp; $domnode = $domnode-&gt;firstChild;<br />
&nbsp; $myname=$domnode-&gt;nodeName;<br />
&nbsp; $x=1;<br />
&nbsp; while (!is_null($domnode)) {<br />
&nbsp;&nbsp; &nbsp; switch ($domnode-&gt;nodeType) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case XML_ELEMENT_NODE: {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( !$domnode-&gt;hasChildNodes()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array[$domnode-&gt;nodeName]='';<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if ( $domnode-&gt;hasChildNodes() &amp;&amp; $domnode-&gt;firstChild-&gt;nodeType==XML_TEXT_NODE) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array[$domnode-&gt;nodeName]=$domnode-&gt;firstChild-&gt;nodeValue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if ( $domnode-&gt;hasChildNodes() )&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $array_ptr = &amp; $array[$domnode-&gt;nodeName];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; dom_to_array($domnode, $array_ptr);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; $domnode = $domnode-&gt;nextSibling;<br />
&nbsp;&nbsp; &nbsp; if($domnode-&gt;nodeName == $myname)<br />
&nbsp;&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $domnode-&gt;nodeName.=($x++);&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $myname = $domnode-&gt;nodeName;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58683""></a>
  <div class="note">
   <strong class="user">websiterepairguys at spamnot dot yahoo dot com</strong>
   <a href="#58683" class="date">11-Nov-2005 09:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I tried using the dom_to_simple_array that the user jas posted above, but it didnt work very well.<br />
<br />
The problems were it didnt handle sibling nodes with the same name, such as:<br />
<br />
&lt;nodes&gt;<br />
&nbsp; &lt;node&gt;something&lt;/node&gt;<br />
&nbsp;&nbsp; &lt;node&gt;something&lt;/node&gt;<br />
&lt;/nodes&gt;<br />
<br />
Also, when it built child arrays from child nodes, it always interjected an wrapping array around the child, which isnt necessary.&nbsp; Here is the patched code:<br />
<br />
function dom_to_array($domnode, &amp;$array) {<br />
&nbsp; $parent=$domnode;<br />
&nbsp; $domnode = $domnode-&gt;firstChild;<br />
&nbsp; $myname=$domnode-&gt;nodeName;<br />
&nbsp; $x=1;<br />
&nbsp; while (!is_null($domnode)) {<br />
&nbsp;&nbsp; &nbsp; switch ($domnode-&gt;nodeType) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; case XML_ELEMENT_NODE: {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ( !$domnode-&gt;hasChildNodes()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $array[$domnode-&gt;nodeName]='';<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if ( $domnode-&gt;hasChildNodes() &amp;&amp; $domnode-&gt;firstChild-&gt;nodeType==XML_TEXT_NODE) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $array[$domnode-&gt;nodeName]=$domnode-&gt;firstChild-&gt;nodeValue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else if ( $domnode-&gt;hasChildNodes() )&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $array_ptr = &amp; $array[$domnode-&gt;nodeName];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dom_to_array($domnode, $array_ptr);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; $domnode = $domnode-&gt;nextSibling;<br />
&nbsp;&nbsp; &nbsp; &nbsp; if($domnode-&gt;nodeName==$myname)<br />
&nbsp;&nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $domnode-&gt;nodeName.=($x++);&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp; }<br />
}<br />
<br />
snippet of array produced by this:<br />
<br />
[admin] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [menu] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [title] =&gt; Page Manager<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [view] =&gt; list<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [files] =&gt; Array<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; (<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [filename] =&gt; modules/testmodule/testmodule.php<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [filename1] =&gt; modules/testmodule/testmodule.xml<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; [filename2] =&gt; media/lang/en-us/templates/testmodule.tpl<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; )<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; )</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54535""></a>
  <div class="note">
   <strong class="user">timo dot hummel at 4fb dot de</strong>
   <a href="#54535" class="date">07-Jul-2005 12:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to subclass the domxml-classes, you have to use PHP5. It doesn't work with PHP4, and never will.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49920""></a>
  <div class="note">
   <strong class="user">steve at find-information-on dot com</strong>
   <a href="#49920" class="date">11-Feb-2005 04:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you are using apache, instead of copying files around (iconv.dll for instance) you can use this in your httpd.conf for apache:<br />
<br />
LoadFile "d:/php/dlls/iconv.dll"<br />
<br />
I placed this line before <br />
<br />
LoadModule php4_module "d:/php/sapi/php4apache2.dll"<br />
<br />
and it worked, no copying of files or anything therefore helps when updating php, don't have to mess around searching for files and other stuff.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48405""></a>
  <div class="note">
   <strong class="user">ndaniel at bsi-scs dot com</strong>
   <a href="#48405" class="date">22-Dec-2004 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I recently developed a script for parsing DHL XML transaction responses - finding it a pain in the rear to actually parse the XML and set my variables - it actually wasn't that hard once I figured it out - and it goes something like this... <br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Use with a class containing functions set_attributes() and <br />
// set_data().&nbsp; Use the following to set variables from the <br />
// resulting xml.&nbsp; $node is a dom xml object - in the first call <br />
// to loop, $node would be equal to the root document <br />
// element.<br />
<br />
</span><span class="keyword">function </span><span class="default">loop</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">) {<br />
&nbsp;</span><span class="comment">// set attribute tags here<br />
&nbsp;</span><span class="keyword">if (</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">has_attributes</span><span class="keyword">()) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">set_attributes</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">);<br />
&nbsp;} </span><span class="comment">// end if node has attributes<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;</span><span class="keyword">if (</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">has_child_nodes</span><span class="keyword">()) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">loop</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">first_child</span><span class="keyword">());<br />
&nbsp;} </span><span class="comment">// end if node has child<br />
&nbsp;</span><span class="keyword">else {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">set_data</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">);<br />
&nbsp;} </span><span class="comment">// end if node has no child<br />
&nbsp;// get next sibling<br />
&nbsp;</span><span class="default">$node </span><span class="keyword">= </span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">next_sibling</span><span class="keyword">();<br />
&nbsp;if (</span><span class="default">$node</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">loop</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">);<br />
&nbsp;} </span><span class="comment">// end if node<br />
</span><span class="keyword">} </span><span class="comment">// end function loop<br />
</span><span class="default">?&gt;<br />
</span><br />
The code goes from the root element, if the element has attributes - it sets attribute variables.&nbsp; Second, it recursively proceeds to the lowest level element (no more children).&nbsp; Once that level has been reached, data variables are set.&nbsp; The next step goes to the next sibling of the element, if it exists.&nbsp; If the next sibling does not exists, the function is ended and the current element is returned to the parent element.&nbsp; The parent element is then checked for siblings.&nbsp; This process continues (as is with recursion) until the parent element is back at the root element, which is the end of the document.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48073""></a>
  <div class="note">
   <strong class="user">deborah dot seidman at imc-fr dot com</strong>
   <a href="#48073" class="date">10-Dec-2004 08:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can always use a sax parser (expat) which saves on memory storage (there is none as sax is event driven) and use this neat code to produce an array structure of you xml file :<br />
<br />
see <a href="http://fr2.php.net/manual/fr/function.xml-parse.php" rel="nofollow" target="_blank">http://fr2.php.net/manual/fr/function.xml-parse.php</a><br />
<br />
comment by <br />
tgrabietz at bupnet dot de<br />
22-Sep-2004 05:05</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47418""></a>
  <div class="note">
   <strong class="user">jas at uci dot edu</strong>
   <a href="#47418" class="date">15-Nov-2004 03:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i needed to have an easy way to create a multi-dimensional but EXTREMELY SIMPLE php array out of some XML text i'm receiving. NOT an object. just an ARRAY.<br />
<br />
i found that as simple a request as this seemed to be, the new (php5) DOM functions do not provide this functionality.<br />
<br />
even the SimpleXML functions are object-oriented, which doesn't work for some of my purposes (sending to a Smarty template variable for looping through, etc.) -- returning attributes as SimpleXMLElement objects instead of strings, etc.. i just wanted an ARRAY containing the data as STRINGS.<br />
<br />
eli (<a href="http://www.hoktar.com" rel="nofollow" target="_blank">http://www.hoktar.com</a>) had submitted such code earlier, based on domxml/php4 calls. his function was called "domxml_xmlarray".<br />
<br />
but when php5 came out, eli's comments at the bottom of the PHP site got erased. (fortunately, i had already saved his code.) no doubt, mine will too w/next version..<br />
<br />
furthermore, as far as i can tell, no one has taken the cue to add something like eli's domxml_xmlarray function directly into the DOMDocument object (but it would be nice). <br />
<br />
so i translated eli's code, now using the dom calls (instead of the older domxml calls), and renamed the function to "dom_to_simple_array()".<br />
<br />
below is a script containing the function itself as well as an example of its use. just copy it to your server somewhere and execute it and it should work right off the bat if you are using php5.<br />
<br />
thanks.<br />
jeff stern<br />
&nbsp;&nbsp; <br />
==================================================================<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">dom_to_simple_array</span><span class="keyword">(</span><span class="default">$domnode</span><span class="keyword">, &amp;</span><span class="default">$array</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$array_ptr </span><span class="keyword">= &amp;</span><span class="default">$array</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$domnode </span><span class="keyword">= </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">firstChild</span><span class="keyword">;<br />
&nbsp; while (!</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$domnode</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; if (! (</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">) == </span><span class="string">""</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; switch (</span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">nodeType</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">XML_TEXT_NODE</span><span class="keyword">: {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array_ptr</span><span class="keyword">[</span><span class="string">'cdata'</span><span class="keyword">] = </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">nodeValue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">XML_ELEMENT_NODE</span><span class="keyword">: {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array_ptr </span><span class="keyword">= &amp;</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">nodeName</span><span class="keyword">][];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">hasAttributes</span><span class="keyword">() ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$attributes </span><span class="keyword">= </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">is_array </span><span class="keyword">(</span><span class="default">$attributes</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$attributes </span><span class="keyword">as </span><span class="default">$index </span><span class="keyword">=&gt; </span><span class="default">$domobj</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array_ptr</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] = </span><span class="default">$array_ptr</span><span class="keyword">[</span><span class="default">$domobj</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">] = </span><span class="default">$domobj</span><span class="keyword">-&gt;</span><span class="default">value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; if ( </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">hasChildNodes</span><span class="keyword">() ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">dom_to_simple_array</span><span class="keyword">(</span><span class="default">$domnode</span><span class="keyword">, </span><span class="default">$array_ptr</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$domnode </span><span class="keyword">= </span><span class="default">$domnode</span><span class="keyword">-&gt;</span><span class="default">nextSibling</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
&nbsp; </span><span class="comment"># now, let's make a sample string containing some XML<br />
&nbsp; </span><span class="default">$strXMLData </span><span class="keyword">= </span><span class="string">"&lt;contacts&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &lt;contact&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &lt;name&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; John Doe<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &lt;/name&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &lt;phone&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 123-456-7890<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &lt;/phone&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &lt;/contact&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &lt;contact&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &lt;name&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mary Smiley<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &lt;/name&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &lt;phone&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 567-890-1234<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &lt;/phone&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &lt;/contact&gt;<br />
&nbsp;&nbsp; &nbsp; &lt;/contacts&gt;"</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="comment"># create a DOM tree xml object (hierarchical array) from<br />
&nbsp; # this XML string<br />
&nbsp; </span><span class="default">$domdoc </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$domdoc</span><span class="keyword">-&gt;</span><span class="default">loadXML</span><span class="keyword">(</span><span class="default">$strXMLData</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="comment"># now simplify the DOM array into a very simple array structure<br />
<br />
&nbsp; # first, create an empty array to be filled with your <br />
&nbsp; # simplified array result..<br />
&nbsp; </span><span class="default">$aData </span><span class="keyword">= array();<br />
<br />
&nbsp; </span><span class="comment"># now, pass the dom document and your empty array to the <br />
&nbsp; # converter function.<br />
&nbsp; </span><span class="default">dom_to_simple_array</span><span class="keyword">(</span><span class="default">$domdoc</span><span class="keyword">, </span><span class="default">$aData</span><span class="keyword">);<br />
<br />
&nbsp; </span><span class="comment"># now $aData contains your simplified array, so print it out<br />
</span><span class="default">?&gt;</span>&lt;html&gt;<br />
&lt;body&gt;<br />
&lt;p&gt;there are &lt;? echo count($aData['contacts'][0]['contact']); ?&gt;<br />
&nbsp;contacts&lt;/p&gt;<br />
&lt;p&gt;the 2nd contact's phone number is<br />
&lt;?echo $aData['contacts'][0]['contact'][1]['phone'][0]['cdata']; ?&gt;<br />
&lt;/p&gt;<br />
&lt;hr /&gt;<br />
&lt;p&gt;Here is the raw array structure:&lt;/p&gt;<br />
&lt;pre&gt;<br />
&lt;? print_r($aData); ?&gt;<br />
&lt;/pre&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;<br />
==================================================================</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43804""></a>
  <div class="note">
   <strong class="user">Alex</strong>
   <a href="#43804" class="date">04-Jul-2004 09:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP4/DOMXML code is not compatible with the new PHP5/dom extension. While the conversion is quite strait forward, it can take a long time if domxml has been broadly used. Moreover, it can be interesting to have old PHP4 scripts ready for PHP5 as soon as possible even if the server is still running PHP4. Since I have that kind of problem, if have written a small library to include in PHP4 scripts to enable them to be run on PHP5. <a href="http://alexandre.alapetite.net/doc-alex/domxml-php4-php5/" rel="nofollow" target="_blank">http://alexandre.alapetite.net/doc-alex/domxml-php4-php5/</a><br />
<br />
It does not cover all the domxml functionality, but most of the main functions and can easily be extended. Tested with PHP4.3.7 and PHP5.0.0RC3 but I will try to keep it updated. I hope it can help.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41804""></a>
  <div class="note">
   <strong class="user">SAM</strong>
   <a href="#41804" class="date">22-Apr-2004 11:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When installing PHP --with-dom and --with-dom-xslt on a Red Hat 9.0 remember to install the following packages:<br />
<br />
libxml<br />
libxml2<br />
libxml2-devel<br />
libxslt<br />
libxslt-devel<br />
<br />
Then you will be spared error messages when trying to configure.<br />
<br />
regards<br />
SAM</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39423""></a>
  <div class="note">
   <strong class="user">ngc(dontSpamMe)rapanden(SpamOFF)dk</strong>
   <a href="#39423" class="date">28-Jan-2004 04:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sorry, a bug in my code... I made the first version late at night, sorry!<br />
<br />
The bug was in the "if ($ChildDomNode-&gt;has_child_nodes())" block, I didn't save the data for the for the CildNode of the CildNodes. the bug has been fixed.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">getElementAttributes</span><span class="keyword">(</span><span class="default">$DomNode</span><span class="keyword">,</span><span class="default">$elementName</span><span class="keyword">,</span><span class="default">$attriName</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; if (</span><span class="default">$ChildDomNode </span><span class="keyword">= </span><span class="default">$DomNode</span><span class="keyword">-&gt;</span><span class="default">first_child</span><span class="keyword">())<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; while(</span><span class="default">$ChildDomNode</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">node_type</span><span class="keyword">() == </span><span class="default">XML_ELEMENT_NODE</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">node_name</span><span class="keyword">() == </span><span class="default">$elementName</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">has_attributes</span><span class="keyword">())<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$Array </span><span class="keyword">= </span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; foreach (</span><span class="default">$Array </span><span class="keyword">AS </span><span class="default">$DomAttribute</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(</span><span class="default">$DomAttribute</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">() == </span><span class="default">$attriName</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$nodeArray</span><span class="keyword">[] = </span><span class="default">$DomAttribute</span><span class="keyword">-&gt;</span><span class="default">value</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</span><span class="comment">// foreach ($Array AS $DomAttribute)<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}</span><span class="comment">//if ($ChildDomNode-&gt;has_attributes())<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">has_child_nodes</span><span class="keyword">())<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tmpArray </span><span class="keyword">= (</span><span class="default">getElementAttributes</span><span class="keyword">(</span><span class="default">$ChildDomNode</span><span class="keyword">,</span><span class="default">$elementName</span><span class="keyword">,</span><span class="default">$attriName</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$nodeArray </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$nodeArray</span><span class="keyword">, </span><span class="default">$tmpArray</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$tmpArray</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }</span><span class="comment">// if ($ChildDomNode-&gt;has_child_nodes())<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}</span><span class="comment">//if ($ChildDomNode-&gt;node_type() == XML_ELEMENT_NODE)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ChildDomNode </span><span class="keyword">= </span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">next_sibling</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; }</span><span class="comment">//while($ChildDomNode)<br />
&nbsp;&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$nodeArray</span><span class="keyword">;<br />
&nbsp; }</span><span class="comment">//if ($ChildDomNode = $DomNode-&gt;first_child())<br />
&nbsp; <br />
</span><span class="keyword">}<br />
</span><span class="default">$file </span><span class="keyword">= </span><span class="string">"test3.xml"</span><span class="keyword">;<br />
</span><span class="default">$element </span><span class="keyword">= </span><span class="string">"pb"</span><span class="keyword">;<br />
</span><span class="default">$att </span><span class="keyword">= </span><span class="string">"id"</span><span class="keyword">;<br />
</span><span class="default">$DomDocument </span><span class="keyword">= </span><span class="default">domxml_open_file</span><span class="keyword">(</span><span class="default">$file</span><span class="keyword">);<br />
</span><span class="default">$RootDomNode </span><span class="keyword">= </span><span class="default">$DomDocument</span><span class="keyword">-&gt;</span><span class="default">document_element</span><span class="keyword">();<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">getElementAttributes</span><span class="keyword">(</span><span class="default">$RootDomNode</span><span class="keyword">,</span><span class="default">$element</span><span class="keyword">,</span><span class="default">$att</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;/pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38357""></a>
  <div class="note">
   <strong class="user">bradparks at bradparks dot com</strong>
   <a href="#38357" class="date">17-Dec-2003 02:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hey;<br />
<br />
If you need to parse XML on an older version of PHP (e.g. 4.0) or if you can't get the expat extension enabled on your server, you might want to check out the Saxy and DOMIT! xml parsers from Engage Interactive. They're opensource and pure php, so no extensions or changes to your server are required. I've been using them for over a month on some projects with no problems whatsoever!<br />
<br />
Check em out at:<br />
<br />
DOMIT!, a DOM based xml parser, uses Saxy (included)<br />
<a href="http://www.engageinteractive.com/redir.php?resource=3&amp;target=domit" rel="nofollow" target="_blank">http://www.engageinteractive.com/redir.php?resource=3&amp;target=domit</a><br />
<br />
or<br />
<br />
Saxy, a sax based xml parser<br />
<a href="http://www.engageinteractive.com/redir.php?resource=4&amp;target=saxy" rel="nofollow" target="_blank">http://www.engageinteractive.com/redir.php?resource=4&amp;target=saxy</a><br />
<br />
Brad</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37342""></a>
  <div class="note">
   <strong class="user">bart at mediawave dot nl</strong>
   <a href="#37342" class="date">11-Nov-2003 11:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This recursive function will iterate over a DOM object and display it as a nicely formatted XML structure. I used intuitive variable names to help learn more about the DOM functions and their return values.<br />
<br />
&lt;<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">PrintDomTree</span><span class="keyword">(</span><span class="default">$DomNode</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$ChildDomNode </span><span class="keyword">= </span><span class="default">$DomNode</span><span class="keyword">-&gt;</span><span class="default">first_child</span><span class="keyword">()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; static </span><span class="default">$depth </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$whitespace </span><span class="keyword">= </span><span class="string">"\n&lt;br&gt;"</span><span class="keyword">.</span><span class="default">str_repeat</span><span class="keyword">(</span><span class="string">" "</span><span class="keyword">, (</span><span class="default">$depth </span><span class="keyword">* </span><span class="default">2</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$ChildDomNode</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">node_type</span><span class="keyword">() == </span><span class="default">XML_TEXT_NODE</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">node_value</span><span class="keyword">());<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } elseif (</span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">node_type</span><span class="keyword">() == </span><span class="default">XML_ELEMENT_NODE</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$HasTag </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$whitespace</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;"</span><span class="keyword">, </span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">node_name</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">has_attributes</span><span class="keyword">()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$Array </span><span class="keyword">= </span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">attributes</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$Array </span><span class="keyword">AS </span><span class="default">$DomAttribute</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">" "</span><span class="keyword">, </span><span class="default">$DomAttribute</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">(), </span><span class="string">"=\""</span><span class="keyword">, </span><span class="default">$DomAttribute</span><span class="keyword">-&gt;</span><span class="default">value</span><span class="keyword">(), </span><span class="string">"\""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&gt;"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">has_child_nodes</span><span class="keyword">()) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$depth</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">PrintDomTree</span><span class="keyword">(</span><span class="default">$ChildDomNode</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$whitespace</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$depth</span><span class="keyword">--;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;/"</span><span class="keyword">, </span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">node_name</span><span class="keyword">(), </span><span class="string">"&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ChildDomNode </span><span class="keyword">= </span><span class="default">$ChildDomNode</span><span class="keyword">-&gt;</span><span class="default">next_sibling</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$HasTag</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="31099""></a>
  <div class="note">
   <strong class="user">nospam at phppatterns dot com</strong>
   <a href="#31099" class="date">09-Apr-2003 01:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're having trouble understanding how the the DOM XML extension fits together you may find the UML diagram here helps: <a href="http://www.phppatterns.com/index.php/article/articleview/38" rel="nofollow" target="_blank">http://www.phppatterns.com/index.php/article/articleview/38</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="30417""></a>
  <div class="note">
   <strong class="user">sorn at dsl dot upc dot es</strong>
   <a href="#30417" class="date">17-Mar-2003 03:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When parsing "iso-8859-1" encoded XML files, use "utf8_decode" to recover node contents (libxml uses "UTF-8" internal encoding, so conversion needed).<br />
<br />
--- BEGIN: mydata.xml ---<br />
&lt;?xml version="1.0" encoding="iso-8859-1"?&gt;<br />
...<br />
--- END: mydata.xml---<br />
<br />
--- BEGIN: myparser.php ---<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">...<br />
</span><span class="default">$domxml </span><span class="keyword">= </span><span class="default">domxml_open_file</span><span class="keyword">(</span><span class="string">"mydata.xml"</span><span class="keyword">));<br />
...<br />
</span><span class="default">$content </span><span class="keyword">= </span><span class="default">utf8_decode</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$node</span><span class="keyword">-&gt;</span><span class="default">content</span><span class="keyword">));<br />
echo </span><span class="default">$content</span><span class="keyword">;<br />
...<br />
</span><span class="default">?&gt;<br />
</span>--- END: myparser.php<br />
<br />
-eof-</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="domxml.constants.html">Predefined Constants</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.domattribute-name.html">DomAttribute::name</a></div>
 <div class="up"><a href="book.domxml.html">DOM XML (PHP 4)</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
