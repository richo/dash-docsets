<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Generate a better random value</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.mt-getrandmax.html">mt_getrandmax</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.mt-srand.html">mt_srand</a></div>
 <div class="up"><a href="ref.math.html">Math Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.mt-rand" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mt_rand</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">mt_rand</span> &mdash; <span class="dc-title">Generate a better random value</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.mt-rand-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><b>mt_rand</b></span>
    ( <span class="methodparam">void</span>
   )</div>

  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><b>mt_rand</b></span>
    ( <span class="methodparam"><span class="type">int</span> <tt class="parameter">$min</tt></span>
   , <span class="methodparam"><span class="type">int</span> <tt class="parameter">$max</tt></span>
   )</div>

  <p class="simpara">
   Many random number generators of older libcs have dubious or
   unknown characteristics and are slow. By default, PHP uses the
   libc random number generator with the <span class="function"><a href="function.rand.html" class="function">rand()</a></span>
   function.  The <span class="function"><b>mt_rand()</b></span> function is a drop-in
   replacement for this.  It uses a random number generator with
   known characteristics using the <a href="http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html" class="link external" title="Link : http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/emt.html">&raquo;&nbsp;
   Mersenne Twister</a>, which will produce random numbers four times
   faster than what the average libc rand() provides.
  </p>
  <p class="simpara">
   If called without the optional <i><tt class="parameter">min</tt></i>,
   <i><tt class="parameter">max</tt></i> arguments <span class="function"><b>mt_rand()</b></span>
   returns a pseudo-random value between 0 and
   <span class="function"><a href="function.mt-getrandmax.html" class="function">mt_getrandmax()</a></span>.  If you want a random number
   between 5 and 15 (inclusive), for example, use <i>mt_rand(5,
   15)</i>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.mt-rand-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">min</tt></i></span>
     <dd>

      <p class="para">
       Optional lowest value to be returned (default: 0)
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">max</tt></i></span>
     <dd>

      <p class="para">
       Optional highest value to be returned (default: <span class="function"><a href="function.mt-getrandmax.html" class="function">mt_getrandmax()</a></span>)
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.mt-rand-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   A random integer value between <i><tt class="parameter">min</tt></i> (or 0)
   and <i><tt class="parameter">max</tt></i> (or <span class="function"><a href="function.mt-getrandmax.html" class="function">mt_getrandmax()</a></span>, inclusive)
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.mt-rand-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle"><td align="left">4.2.0</td><td align="left">The random
number generator is seeded automatically.</td></tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.mt-rand-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-3190">
    <p><b>Example #1 <span class="function"><b>mt_rand()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #0000BB">mt_rand</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">15</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output
something similar to:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
1604716014
1478613278
6
</pre></div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.mt-rand-notes">
  <h3 class="title">Notes</h3>
  <div class="caution"><b class="caution">Caution</b>
   <p class="para">
    The distribution of <span class="function"><b>mt_rand()</b></span> return values is biased
    towards even numbers on 64-bit builds of PHP when
    <i><tt class="parameter">max</tt></i> is beyond <i>2^32</i>.
   </p>
  </div>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.mt-rand-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.mt-srand.html" class="function" rel="rdfs-seeAlso">mt_srand()</a> - Seed the better random number generator</span></li>
    <li class="member"><span class="function"><a href="function.mt-getrandmax.html" class="function" rel="rdfs-seeAlso">mt_getrandmax()</a> - Show largest possible random value</span></li>
    <li class="member"><span class="function"><a href="function.rand.html" class="function" rel="rdfs-seeAlso">rand()</a> - Generate a random integer</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106645""></a>
  <div class="note">
   <strong class="user">contact at sheyd dot fr</strong>
   <a href="#106645" class="date">24-Nov-2011 04:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To quickly build a human-readable random string for a captcha per example :<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">random</span><span class="keyword">(</span><span class="default">$length </span><span class="keyword">= </span><span class="default">8</span><span class="keyword">)<br />
{&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$chars </span><span class="keyword">= </span><span class="string">'bcdfghjklmnprstvwxzaeiou'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$p </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$p </span><span class="keyword">&lt; </span><span class="default">$length</span><span class="keyword">; </span><span class="default">$p</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">.= (</span><span class="default">$p</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">) ? </span><span class="default">$chars</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">19</span><span class="keyword">, </span><span class="default">23</span><span class="keyword">)] : </span><span class="default">$chars</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">18</span><span class="keyword">)];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Note that I have removed q and y from $chars to avoid readability problems.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105639""></a>
  <div class="note">
   <strong class="user">j dot s dot shiuan at gmail dot com</strong>
   <a href="#105639" class="date">02-Sep-2011 11:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Another good way to get a random float is to divide the result of mt_rand.<br />
Let's say we want a float between 0.75 and 1.25.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$i </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">75</span><span class="keyword">,</span><span class="default">125</span><span class="keyword">) / </span><span class="default">100</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105587""></a>
  <div class="note">
   <strong class="user">rok dot kralj at rok-kralj dot net</strong>
   <a href="#105587" class="date">30-Aug-2011 09:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function has limited entrophy. So, if you want to create random string, it will produce only about 2 billion different strings, no matter the length of the string. This can be serous security issue if you are using such strings for session indentifiers, passwords etc.<br />
<br />
Many times I have wanted to create *propper* base-64 string (containing only printable characters) of arbitrary length for many purposes. I wrote a function that checks if UNIX random generator is available and uses in that case. If not, it tries to increase the entrophy by accounting in the script execution time.<br />
<br />
Here is the function, just try it out!<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">random</span><span class="keyword">(</span><span class="default">$len</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (@</span><span class="default">is_readable</span><span class="keyword">(</span><span class="string">'/dev/urandom'</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$f</span><span class="keyword">=</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'/dev/urandom'</span><span class="keyword">, </span><span class="string">'r'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$urandom</span><span class="keyword">=</span><span class="default">fread</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">$len</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$return</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$len</span><span class="keyword">;++</span><span class="default">$i</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!isset(</span><span class="default">$urandom</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$i</span><span class="keyword">%</span><span class="default">2</span><span class="keyword">==</span><span class="default">0</span><span class="keyword">) </span><span class="default">mt_srand</span><span class="keyword">(</span><span class="default">time</span><span class="keyword">()%</span><span class="default">2147 </span><span class="keyword">* </span><span class="default">1000000 </span><span class="keyword">+ (double)</span><span class="default">microtime</span><span class="keyword">() * </span><span class="default">1000000</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rand</span><span class="keyword">=</span><span class="default">48</span><span class="keyword">+</span><span class="default">mt_rand</span><span class="keyword">()%</span><span class="default">64</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else </span><span class="default">$rand</span><span class="keyword">=</span><span class="default">48</span><span class="keyword">+</span><span class="default">ord</span><span class="keyword">(</span><span class="default">$urandom</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">])%</span><span class="default">64</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$rand</span><span class="keyword">&gt;</span><span class="default">57</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rand</span><span class="keyword">+=</span><span class="default">7</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$rand</span><span class="keyword">&gt;</span><span class="default">90</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rand</span><span class="keyword">+=</span><span class="default">6</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$rand</span><span class="keyword">==</span><span class="default">123</span><span class="keyword">) </span><span class="default">$rand</span><span class="keyword">=</span><span class="default">45</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$rand</span><span class="keyword">==</span><span class="default">124</span><span class="keyword">) </span><span class="default">$rand</span><span class="keyword">=</span><span class="default">46</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return</span><span class="keyword">.=</span><span class="default">chr</span><span class="keyword">(</span><span class="default">$rand</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103042""></a>
  <div class="note">
   <strong class="user">alex at khimic dot remove it dot h dot com</strong>
   <a href="#103042" class="date">22-Mar-2011 04:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function really generates randow string. One can check it using this:<br />
<br />
<span class="default">&lt;?php<br />
header</span><span class="keyword">(</span><span class="string">"Content-type: image/png"</span><span class="keyword">);<br />
</span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">500</span><span class="keyword">,</span><span class="default">500</span><span class="keyword">);<br />
<br />
</span><span class="default">$ink </span><span class="keyword">= </span><span class="default">imagecolorallocate</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">,</span><span class="default">255</span><span class="keyword">);<br />
<br />
for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">500</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp; for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">500</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++) {<br />
&nbsp; </span><span class="default">imagesetpixel</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">, </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">500</span><span class="keyword">), </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">500</span><span class="keyword">), </span><span class="default">$ink</span><span class="keyword">);<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br />
</span><span class="default">imagedestroy</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This generates 500x500 image with pixel noise.<br />
<br />
If you switch mt_rand(1,500) to rand(1,500) you will NOT get pixel noise.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102318""></a>
  <div class="note">
   <strong class="user">thegreatall at gmail dot com</strong>
   <a href="#102318" class="date">08-Feb-2011 07:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[Editor's note: Minor error in a magic constant and a syntax error fixed. You may also want to consider using uniqid(), depending on your needs.]<br />
<br />
<br />
This will result in an EXTREMELY fast random string using the following characters: "0123456789abcdefghijklmnopqrstuvwxyz"<br />
<br />
you can use:<br />
<br />
<span class="default">&lt;?php<br />
base_convert</span><span class="keyword">(</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0x1D39D3E06400000</span><span class="keyword">, </span><span class="default">0x41C21CB8E0FFFFFF</span><span class="keyword">), </span><span class="default">10</span><span class="keyword">, </span><span class="default">36</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
This will be a random number/string always 12 characters. This will only work on 64 bit systems. This will result in a random number/string between: 100000000000 to zzzzzzzzzzzz If you are using a 32 bit system you will need to use:<br />
<br />
<span class="default">&lt;?php<br />
base_convert</span><span class="keyword">(</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0x19A100</span><span class="keyword">, </span><span class="default">0x39AA3FF</span><span class="keyword">), </span><span class="default">10</span><span class="keyword">, </span><span class="default">36</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>This will result in a 5 character random number/string, between: 10000 to zzzzz</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101564""></a>
  <div class="note">
   <strong class="user">Robin Leffmann</strong>
   <a href="#101564" class="date">25-Dec-2010 06:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Fast, pseudo-random binary data generation using mt_rand():<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">rnd_bin</span><span class="keyword">( </span><span class="default">$length </span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; while( @</span><span class="default">$c</span><span class="keyword">++ * </span><span class="default">16 </span><span class="keyword">&lt; </span><span class="default">$length </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; @</span><span class="default">$tmp </span><span class="keyword">.= </span><span class="default">md5</span><span class="keyword">( </span><span class="default">mt_rand</span><span class="keyword">(), </span><span class="default">true </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">substr</span><span class="keyword">( </span><span class="default">$tmp</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$length </span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99319""></a>
  <div class="note">
   <strong class="user">Andrew Moore</strong>
   <a href="#99319" class="date">10-Aug-2010 09:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need a predictable set of numbers for a given seed, you may use the following Pure-PHP implementation of a Mersenne Twister<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Mersenne_Twister<br />
</span><span class="keyword">{<br />
&nbsp; private </span><span class="default">$state </span><span class="keyword">= array ();<br />
&nbsp; private </span><span class="default">$index </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$seed </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$seed </span><span class="keyword">=== </span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$seed </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">();<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">setSeed</span><span class="keyword">(</span><span class="default">$seed</span><span class="keyword">);<br />
&nbsp; }<br />
<br />
&nbsp; public function </span><span class="default">setSeed</span><span class="keyword">(</span><span class="default">$seed</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">state</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">$seed </span><span class="keyword">&amp; </span><span class="default">0xffffffff</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">624</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">state</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = (((</span><span class="default">0x6c078965 </span><span class="keyword">* (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">state</span><span class="keyword">[</span><span class="default">$i </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">] ^ (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">state</span><span class="keyword">[</span><span class="default">$i </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">] &gt;&gt; </span><span class="default">30</span><span class="keyword">))) + </span><span class="default">$i</span><span class="keyword">)) &amp; </span><span class="default">0xffffffff</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">index </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; private function </span><span class="default">generateTwister</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">624</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= ((</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">state</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] &amp; </span><span class="default">0x1</span><span class="keyword">) + (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">state</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] &amp; </span><span class="default">0x7fffffff</span><span class="keyword">)) &amp; </span><span class="default">0xffffffff</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">state</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">state</span><span class="keyword">[(</span><span class="default">$i </span><span class="keyword">+ </span><span class="default">397</span><span class="keyword">) % </span><span class="default">624</span><span class="keyword">] ^ (</span><span class="default">$y </span><span class="keyword">&gt;&gt; </span><span class="default">1</span><span class="keyword">)) &amp; </span><span class="default">0xffffffff</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; if ((</span><span class="default">$y </span><span class="keyword">% </span><span class="default">2</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">state</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">state</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] ^ </span><span class="default">0x9908b0df</span><span class="keyword">) &amp; </span><span class="default">0xffffffff</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
<br />
&nbsp; public function </span><span class="default">getNext</span><span class="keyword">(</span><span class="default">$min </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$max </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if ((</span><span class="default">$min </span><span class="keyword">=== </span><span class="default">null </span><span class="keyword">&amp;&amp; </span><span class="default">$max </span><span class="keyword">!== </span><span class="default">null</span><span class="keyword">) || (</span><span class="default">$min </span><span class="keyword">!== </span><span class="default">null </span><span class="keyword">&amp;&amp; </span><span class="default">$max </span><span class="keyword">=== </span><span class="default">null</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp;&nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'Invalid arguments'</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">index </span><span class="keyword">=== </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">generateTwister</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">state</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">index</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= (</span><span class="default">$y </span><span class="keyword">^ (</span><span class="default">$y </span><span class="keyword">&gt;&gt; </span><span class="default">11</span><span class="keyword">)) &amp; </span><span class="default">0xffffffff</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= (</span><span class="default">$y </span><span class="keyword">^ ((</span><span class="default">$y </span><span class="keyword">&lt;&lt; </span><span class="default">7</span><span class="keyword">) &amp; </span><span class="default">0x9d2c5680</span><span class="keyword">)) &amp; </span><span class="default">0xffffffff</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= (</span><span class="default">$y </span><span class="keyword">^ ((</span><span class="default">$y </span><span class="keyword">&lt;&lt; </span><span class="default">15</span><span class="keyword">) &amp; </span><span class="default">0xefc60000</span><span class="keyword">)) &amp; </span><span class="default">0xffffffff</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$y </span><span class="keyword">= (</span><span class="default">$y </span><span class="keyword">^ (</span><span class="default">$y </span><span class="keyword">&gt;&gt; </span><span class="default">18</span><span class="keyword">)) &amp; </span><span class="default">0xffffffff</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">index </span><span class="keyword">= (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">index </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">) % </span><span class="default">624</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$min </span><span class="keyword">=== </span><span class="default">null </span><span class="keyword">&amp;&amp; </span><span class="default">$max </span><span class="keyword">=== </span><span class="default">null</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$y</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$range </span><span class="keyword">= </span><span class="default">abs</span><span class="keyword">(</span><span class="default">$max </span><span class="keyword">- </span><span class="default">$min</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">min</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">, </span><span class="default">$max</span><span class="keyword">) + (</span><span class="default">$y </span><span class="keyword">% (</span><span class="default">$range </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">));<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97977""></a>
  <div class="note">
   <strong class="user">nilesh at itech7 dot com</strong>
   <a href="#97977" class="date">19-May-2010 12:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A class to generate 99.5% unqiue strings. I found that there is only one or two characters common between two subsequent strings.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Local_RandomString </span><span class="keyword">{<br />
&nbsp; <br />
&nbsp; protected </span><span class="default">$_length</span><span class="keyword">;<br />
&nbsp; protected </span><span class="default">$_prevRand</span><span class="keyword">;<br />
<br />
&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$length </span><span class="keyword">= </span><span class="default">15</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length </span><span class="keyword">= </span><span class="default">$length</span><span class="keyword">;<br />
<br />
&nbsp; }<br />
<br />
&nbsp; public function </span><span class="default">getRand</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$randStr </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$args</span><span class="keyword">[] = </span><span class="string">'N' </span><span class="keyword">. </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$args</span><span class="keyword">[] = </span><span class="default">mt_rand</span><span class="keyword">();&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$randStr </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">base64_encode</span><span class="keyword">((</span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="string">'pack'</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">))), </span><span class="default">1</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_prevRand </span><span class="keyword">= </span><span class="default">$randStr</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$randStr</span><span class="keyword">;<br />
<br />
&nbsp; }<br />
<br />
&nbsp; public function </span><span class="default">setLength</span><span class="keyword">(</span><span class="default">$l</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length </span><span class="keyword">= (int) </span><span class="default">$l</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_length </span><span class="keyword">&lt;= </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'Invalid random string length'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp; }<br />
<br />
&nbsp; public function </span><span class="default">getPrevRand</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_prevRand</span><span class="keyword">;<br />
<br />
&nbsp; }<br />
<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96389""></a>
  <div class="note">
   <strong class="user">wayne</strong>
   <a href="#96389" class="date">24-Feb-2010 07:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A little useful function to create a random unique number out of an array of unallowed values:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">rand_except</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">, </span><span class="default">$max</span><span class="keyword">, </span><span class="default">$except</span><span class="keyword">)<br />
&nbsp; </span><span class="comment">//function returns a random integer between min and max, just like function rand() does.<br />
&nbsp; // Difference to rand is that the random generated number will not use any of the values<br />
&nbsp; // placed in $except. ($except must therefore be an array)<br />
&nbsp; // function returns false if $except holds all values between $min and $max.<br />
&nbsp; </span><span class="keyword">{<br />
&nbsp; </span><span class="comment">//first sort array values<br />
&nbsp; </span><span class="default">sort</span><span class="keyword">(</span><span class="default">$except</span><span class="keyword">, </span><span class="default">SORT_NUMERIC</span><span class="keyword">);<br />
&nbsp; </span><span class="comment">//calculate average gap between except-values<br />
&nbsp; </span><span class="default">$except_count </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$except</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$avg_gap </span><span class="keyword">= (</span><span class="default">$max </span><span class="keyword">- </span><span class="default">$min </span><span class="keyword">+ </span><span class="default">1 </span><span class="keyword">- </span><span class="default">$except_count</span><span class="keyword">) / (</span><span class="default">$except_count </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br />
&nbsp; if (</span><span class="default">$avg_gap </span><span class="keyword">&lt;= </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp; </span><span class="comment">//now add min and max to $except, so all gaps between $except-values can be calculated<br />
&nbsp; </span><span class="default">array_unshift</span><span class="keyword">(</span><span class="default">$except</span><span class="keyword">, </span><span class="default">$min </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">);<br />
&nbsp; </span><span class="default">array_push</span><span class="keyword">(</span><span class="default">$except</span><span class="keyword">, </span><span class="default">$max </span><span class="keyword">+ </span><span class="default">1</span><span class="keyword">);<br />
&nbsp; </span><span class="default">$except_count </span><span class="keyword">+= </span><span class="default">2</span><span class="keyword">;<br />
&nbsp; </span><span class="comment">//iterate through all values of except. If gap between 2 values is higher than average gap,<br />
&nbsp; // create random in this gap<br />
&nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$except_count</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp;&nbsp; if (</span><span class="default">$except</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] - </span><span class="default">$except</span><span class="keyword">[</span><span class="default">$i </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">] - </span><span class="default">1 </span><span class="keyword">&gt;= </span><span class="default">$avg_gap</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">$except</span><span class="keyword">[</span><span class="default">$i </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">] + </span><span class="default">1</span><span class="keyword">, </span><span class="default">$except</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] - </span><span class="default">1</span><span class="keyword">);<br />
&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96089""></a>
  <div class="note">
   <strong class="user">james at coretelecom dot co dot uk</strong>
   <a href="#96089" class="date">08-Feb-2010 03:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Makes a random alpha numeric string of a given lenth<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">makePin</span><span class="keyword">(</span><span class="default">$lenth </span><span class="keyword">=</span><span class="default">5</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// makes a random alpha numeric string of a given lenth<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$aZ09 </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">range</span><span class="keyword">(</span><span class="string">'A'</span><span class="keyword">, </span><span class="string">'Z'</span><span class="keyword">), </span><span class="default">range</span><span class="keyword">(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'z'</span><span class="keyword">),</span><span class="default">range</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">9</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$out </span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$c</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$c </span><span class="keyword">&lt; </span><span class="default">$lenth</span><span class="keyword">;</span><span class="default">$c</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$out </span><span class="keyword">.= </span><span class="default">$aZ09</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">count</span><span class="keyword">(</span><span class="default">$aZ09</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">)];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$out</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96060""></a>
  <div class="note">
   <strong class="user">armencho at gmail dot com</strong>
   <a href="#96060" class="date">05-Feb-2010 01:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It should also be noted that 'mt_rand' function is NOT cryptographically secure. This means, among other things, that you cannot depend on it to generate data that is expected to be unpredictable, i.e. truly random. Depending on circumstances, a third person using 'mt_rand' will be able to generate the exact random number (or series of them) you have, which may break your security system.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96022""></a>
  <div class="note">
   <strong class="user">ISAWHIM</strong>
   <a href="#96022" class="date">03-Feb-2010 08:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is not trying to dissuade use of this alternative, just trying to expand on the things to "watch-out-for", when using this...<br />
<br />
As per the description assumption...<br />
"Many random number generators of older libcs have dubious or unknown characteristics and are slow."<br />
<br />
You would elude to the assumption that mt_rand() does not have, "dubious or unknown characteristics". It is obvious that it is faster, but that does not count the additional code required to ensure validity of results, or scope of input value checking.<br />
<br />
This function fails horribly, without error, when operating out of the scope of the range. (Key point being, "without error".)<br />
<br />
mt_getrandmax() is NOT the max INTEGER size. It is limited to positive numbers from ZERO to your integers largest value. Thus, it is HALF the size of an INTEGER, since integers are SIGNED, but mt_rand can only correctly randomize from ZERO to mt_getrandmax(). (Though, that is not entirely true. It can do negative numbers, if the min/max range/spread is not greater than the value of mt_getrandmax()... sometimes.)<br />
<br />
Things to watch-out for... (Sort of negates any speed gains.)<br />
<br />
This assumes you "Attempted" to process MIN&gt;=0 and MAX&lt;=mt_getrandmax().<br />
<br />
Returning a negative value = RANDOMIZER FAILED<br />
Returning a vlaue higher than mt_getrandmax() = RANDOMIZER FAILED<br />
Returning SAME_NUMBER from more than one call = Possibly RANDOMIZER FAILED<br />
Returning a number &lt;MIN or &gt;MAX = RANDOMIZER FAILED<br />
<br />
PHP version 5.2.6 on Apechee 2.0.63 on a Linux server.<br />
Specific instances of failure... (All these still return a value.)<br />
With RAND_MAX reporting that it is '2147483647'.<br />
<br />
<span class="default">&lt;?PHP<br />
</span><span class="comment">// Returns negative numbers as if (-2147483647,0)<br />
</span><span class="default">$z </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">2147483648</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Returns mostly 1 or negative numbers<br />
</span><span class="default">$z </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(-</span><span class="default">2147483647</span><span class="keyword">,</span><span class="default">2147483647</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Returns negative numbers, but within range set???<br />
// So much for returning only values from 0 to Max<br />
</span><span class="default">$z </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(-</span><span class="default">2147483647</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Attempt to stay within the range/spread of mt_getrandmax()<br />
// Results are odd, like 180 to 2147478000<br />
</span><span class="default">$z </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">2147483647</span><span class="keyword">,</span><span class="default">4294967294</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Works, but it should not, as the value is not an INT<br />
// Values are converted to floor(x), so range is (0,0)<br />
</span><span class="default">$z </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0.000001</span><span class="keyword">,</span><span class="default">0.9999999</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Code used to test...<br />
<br />
<span class="default">&lt;?PHP<br />
</span><span class="comment">// Reports the MAX possible, which is half of an INT's value<br />
</span><span class="keyword">echo(</span><span class="string">'RAND_MAX: '</span><span class="keyword">.</span><span class="default">mt_getrandmax</span><span class="keyword">());<br />
for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">100000</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br />
</span><span class="comment">// RAND_MAX = 2147483647<br />
</span><span class="default">$z </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">2147483647</span><span class="keyword">);<br />
</span><span class="comment">// echo($z.'&lt;BR&gt;'); // Uncomment to see results, lower LOOP values first!<br />
</span><span class="keyword">if(</span><span class="default">$z</span><span class="keyword">&gt;</span><span class="default">$high </span><span class="keyword">|| !isset(</span><span class="default">$high</span><span class="keyword">)){</span><span class="default">$high</span><span class="keyword">=</span><span class="default">$z</span><span class="keyword">;}<br />
if(</span><span class="default">$z</span><span class="keyword">&lt;</span><span class="default">$low </span><span class="keyword">|| !isset(</span><span class="default">$low</span><span class="keyword">)){</span><span class="default">$low</span><span class="keyword">=</span><span class="default">$z</span><span class="keyword">;}<br />
}<br />
echo(</span><span class="string">'HIGH: '</span><span class="keyword">.</span><span class="default">$high</span><span class="keyword">.</span><span class="string">'&lt;BR&gt;LOW: '</span><span class="keyword">.</span><span class="default">$low</span><span class="keyword">.</span><span class="string">'&lt;BR&gt;'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
To get a number that is actually in the full range of an INT, you need to make two separate calls, and add them together. Then convert that unsigned INT value into a signed INT value.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95683""></a>
  <div class="note">
   <strong class="user">armencho at gmail dot com</strong>
   <a href="#95683" class="date">15-Jan-2010 07:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The following function generates a string of arbitrary length (with limitations), composed of random PHP characters (i.e. each an 8-bit value - a byte). Suitable for generating random session strings. Encode as Base64 to transmit over network, where required.<br />
<br />
** The function is pretty much one of the fastest (if not THE fastest) methods of generating random strings, as opposed to numerous examples given on this page which go about with char-by-char generation. Sloppy benchmarks estimate a factor of 10 speedup. Keep your websites lean, people. **<br />
<br />
The only thing to keep in mind is that, by design, it outputs 8-bit characters, and thus the generated string is not automatically suitable for transmission with various network protocols, unless altered, f.e. URL- or Base64- encoded. Also, again by design, the length of the string is a multiple of 4 characters/bytes. The version below produces a 24 character long string. This will also give you a clean input to get a 32 character long Base64 encoded variant of it.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">gen_rand_str_24</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp; &nbsp; return </span><span class="default">pack</span><span class="keyword">(</span><span class="string">'N6'</span><span class="keyword">, </span><span class="default">mt_rand</span><span class="keyword">(), </span><span class="default">mt_rand</span><span class="keyword">(), </span><span class="default">mt_rand</span><span class="keyword">(),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">mt_rand</span><span class="keyword">(), </span><span class="default">mt_rand</span><span class="keyword">(), </span><span class="default">mt_rand</span><span class="keyword">());<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
I leave it an exercise to the reader to write a generic (i.e. arbitrary double word length, not 6 dwords as in above) version of it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92711""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#92711" class="date">04-Aug-2009 03:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just another random password generator. Assembles passwords such as these:<br />
<br />
N_v85kA2_s<br />
8k4jz94_H0<br />
30824n6VcN<br />
<br />
useful for... whatever. ;)<br />
<br />
$underscores holds the maximum allowed number of underscores. Default is two. The function is programmed to not add an underscore at the beginning or end of the password, right after another underscore, or if the maximum # has already been used.<br />
<br />
$length holds the length you want the password to be. Default is 10 characters long.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">alphanumericPass</span><span class="keyword">()<br />
{&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Do not modify anything below here<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$underscores </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">; </span><span class="comment">// Maximum number of underscores allowed in password<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$length </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">; </span><span class="comment">// Length of password<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$p </span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$length</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$c </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch (</span><span class="default">$c</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case (</span><span class="default">$c</span><span class="keyword">&lt;=</span><span class="default">2</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Add a number<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$p </span><span class="keyword">.= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">);&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case (</span><span class="default">$c</span><span class="keyword">&lt;=</span><span class="default">4</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Add an uppercase letter<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$p </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">));&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case (</span><span class="default">$c</span><span class="keyword">&lt;=</span><span class="default">6</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Add a lowercase letter<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$p </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">97</span><span class="keyword">,</span><span class="default">122</span><span class="keyword">));&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">7</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$len </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$underscores</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">&amp;&amp;</span><span class="default">$len</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">&amp;&amp;</span><span class="default">$len</span><span class="keyword">&lt;(</span><span class="default">$length</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">)&amp;&amp;</span><span class="default">$p</span><span class="keyword">[</span><span class="default">$len</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">]!=</span><span class="string">"_"</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$p </span><span class="keyword">.= </span><span class="string">"_"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$underscores</span><span class="keyword">--;&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$i</span><span class="keyword">--;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; continue;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$p</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89057""></a>
  <div class="note">
   <strong class="user">mark omohundro, ajamyajax dot com</strong>
   <a href="#89057" class="date">19-Feb-2009 09:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
just another example: both of these routines return a random decimal number between -1 and 1... since rand() only returns a max 'integer' value while mt_rand() return a max 'long' value -- at least on some platforms -- mt_rand() could be the better precision choice for some on any variation to this routine (but i don't think it matters here):<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">"-1 to 1 rand() value: "</span><span class="keyword">. (</span><span class="default">rand</span><span class="keyword">(</span><span class="default">getrandmax</span><span class="keyword">()*-</span><span class="default">1</span><span class="keyword">,</span><span class="default">getrandmax</span><span class="keyword">())/</span><span class="default">getrandmax</span><span class="keyword">()). </span><span class="string">"\n&lt;br/&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"-1 to 1 mt_rand() value: "</span><span class="keyword">. (</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">mt_getrandmax</span><span class="keyword">()*-</span><span class="default">1</span><span class="keyword">,</span><span class="default">mt_getrandmax</span><span class="keyword">())/</span><span class="default">mt_getrandmax</span><span class="keyword">()). </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85828""></a>
  <div class="note">
   <strong class="user">xphere81 at hotmail dot com</strong>
   <a href="#85828" class="date">19-Sep-2008 04:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
@Jonathon<br />
<br />
$id_list = range($min, $max);<br />
shuffle($id_list);<br />
<br />
This is a faster way to obtain a list of unique id's in a random order.<br />
It's always better to use PHP predefined functions, isn't it? ;)<br />
<br />
Also remember that calling mt_rand too many times can downgrade the performance of ANY algorithm.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85575""></a>
  <div class="note">
   <strong class="user">rst</strong>
   <a href="#85575" class="date">06-Sep-2008 10:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
re: rt and euxneks<br />
Simpler:<br />
<span class="default">&lt;?php<br />
printf</span><span class="keyword">( </span><span class="string">"#%06X\n"</span><span class="keyword">, </span><span class="default">mt_rand</span><span class="keyword">( </span><span class="default">0</span><span class="keyword">, </span><span class="default">0xFFFFFF </span><span class="keyword">) );<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85386""></a>
  <div class="note">
   <strong class="user">rt</strong>
   <a href="#85386" class="date">27-Aug-2008 05:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Re: euxneks at NOSPAMgmail dot com<br />
<br />
You might also want to add STR_PAD_LEFT and have:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">'#' </span><span class="keyword">. </span><span class="default">str_pad</span><span class="keyword">( </span><span class="default">base_convert</span><span class="keyword">( </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, ( </span><span class="default">255</span><span class="keyword">*</span><span class="default">255</span><span class="keyword">*</span><span class="default">255</span><span class="keyword">) ), </span><span class="default">10</span><span class="keyword">, </span><span class="default">16 </span><span class="keyword">), </span><span class="default">6</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85172""></a>
  <div class="note">
   <strong class="user">euxneks at NOSPAMgmail dot com</strong>
   <a href="#85172" class="date">18-Aug-2008 03:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Re: keith at ourwebsite dot ca<br />
<br />
Here's another way to do it, in one line :)<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">'#' </span><span class="keyword">. </span><span class="default">str_pad</span><span class="keyword">( </span><span class="default">base_convert</span><span class="keyword">( </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, ( </span><span class="default">255</span><span class="keyword">*</span><span class="default">255</span><span class="keyword">*</span><span class="default">255</span><span class="keyword">) ), </span><span class="default">10</span><span class="keyword">, </span><span class="default">16 </span><span class="keyword">), </span><span class="default">6</span><span class="keyword">, </span><span class="string">'0' </span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
str_pad is there in case mt_rand chooses a number that will generate a hex value with less than 6 characters. (you could leave that out but it's not a very clean way to write the hex colors is it :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84518""></a>
  <div class="note">
   <strong class="user">keith at ourwebsite dot ca</strong>
   <a href="#84518" class="date">17-Jul-2008 03:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is how I generate a random colour for backgrounds, graphs, text colour etc.<br />
<br />
&lt;?<br />
$total = "9";<br />
$start = "0";<br />
<br />
$randcolour&nbsp; &nbsp; = mt_rand($start, $total);<br />
$randcolour&nbsp; &nbsp; .= mt_rand($start, $total);<br />
$randcolour&nbsp; &nbsp; .= mt_rand($start, $total);<br />
$randcolour&nbsp; &nbsp; .= mt_rand($start, $total);<br />
$randcolour&nbsp; &nbsp; .= mt_rand($start, $total);<br />
$randcolour&nbsp; &nbsp; .= mt_rand($start, $total);<br />
<br />
?&gt;<br />
<br />
&lt;table width="200px" border="0" cellspacing="10" cellpadding="0" bgcolor="#&lt;? echo $randcolour; ?&gt;"&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; &lt;tr&gt;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &lt;td&gt;This table has a random background colour&lt;/td&gt;<br />
&nbsp;&nbsp; &nbsp;&nbsp; &lt;/tr&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/table&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83655""></a>
  <div class="note">
   <strong class="user">Mark Seecof</strong>
   <a href="#83655" class="date">05-Jun-2008 11:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need some pseudorandom bits for security or cryptographic purposes (e.g.g., random IV for block cipher, random salt for password hash) mt_rand() is a poor source.&nbsp; On most Unix/Linux and/or MS-Windows platforms you can get a better grade of pseudorandom bits from the OS or system library, like this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// get 128 pseudorandom bits in a string of 16 bytes<br />
<br />
</span><span class="default">$pr_bits </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
<br />
</span><span class="comment">// Unix/Linux platform?<br />
</span><span class="default">$fp </span><span class="keyword">= @</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">'/dev/urandom'</span><span class="keyword">,</span><span class="string">'rb'</span><span class="keyword">);<br />
if (</span><span class="default">$fp </span><span class="keyword">!== </span><span class="default">FALSE</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pr_bits </span><span class="keyword">.= @</span><span class="default">fread</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">,</span><span class="default">16</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; @</span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="comment">// MS-Windows platform?<br />
</span><span class="keyword">if (@</span><span class="default">class_exists</span><span class="keyword">(</span><span class="string">'COM'</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// <a href="http://msdn.microsoft.com/en-us/library/aa388176(VS.85" rel="nofollow" target="_blank">http://msdn.microsoft.com/en-us/library/aa388176(VS.85</a>).aspx<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">try {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$CAPI_Util </span><span class="keyword">= new </span><span class="default">COM</span><span class="keyword">(</span><span class="string">'CAPICOM.Utilities.1'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pr_bits </span><span class="keyword">.= </span><span class="default">$CAPI_Util</span><span class="keyword">-&gt;</span><span class="default">GetRandom</span><span class="keyword">(</span><span class="default">16</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// if we ask for binary data PHP munges it, so we<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // request base64 return value.&nbsp; We squeeze out the<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // redundancy and useless ==CRLF by hashing...<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$pr_bits</span><span class="keyword">) { </span><span class="default">$pr_bits </span><span class="keyword">= </span><span class="default">md5</span><span class="keyword">(</span><span class="default">$pr_bits</span><span class="keyword">,</span><span class="default">TRUE</span><span class="keyword">); }<br />
&nbsp;&nbsp;&nbsp; } catch (</span><span class="default">Exception $ex</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// echo 'Exception: ' . $ex-&gt;getMessage();<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$pr_bits</span><span class="keyword">) &lt; </span><span class="default">16</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// do something to warn system owner that<br />
&nbsp;&nbsp;&nbsp; // pseudorandom generator is missing<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span><br />
NB: it is generally safe to leave both the attempt to read /dev/urandom and the attempt to access CAPICOM in your code, though each will fail silently on the other's platform.&nbsp; Leave them both there so your code will be more portable.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83365""></a>
  <div class="note">
   <strong class="user">Rocker</strong>
   <a href="#83365" class="date">22-May-2008 07:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think this will work faster.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; </span><span class="keyword">function </span><span class="default">unique_random</span><span class="keyword">(</span><span class="default">$Min</span><span class="keyword">,</span><span class="default">$Max</span><span class="keyword">,</span><span class="default">$num</span><span class="keyword">){<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//this will swap min an max values if $Min&gt;$Max<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$Min</span><span class="keyword">&gt;</span><span class="default">$Max</span><span class="keyword">) { </span><span class="default">$min</span><span class="keyword">=</span><span class="default">$Max</span><span class="keyword">; </span><span class="default">$max</span><span class="keyword">=</span><span class="default">$Min</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; else { </span><span class="default">$min</span><span class="keyword">=</span><span class="default">$Min</span><span class="keyword">; </span><span class="default">$max</span><span class="keyword">=</span><span class="default">$Max</span><span class="keyword">; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//this will avoid to enter a number of results greater than possible results<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$num</span><span class="keyword">&gt;(</span><span class="default">$max</span><span class="keyword">-</span><span class="default">$min</span><span class="keyword">)) </span><span class="default">$num</span><span class="keyword">=(</span><span class="default">$max</span><span class="keyword">-</span><span class="default">$min</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$values</span><span class="keyword">=array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">=array();<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">$min</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">$max</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$values</span><span class="keyword">[]=</span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$j</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">$num</span><span class="keyword">;</span><span class="default">$j</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$key</span><span class="keyword">=</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">count</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">[]=</span><span class="default">$values</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp;&nbsp; unset(</span><span class="default">$values</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">sort</span><span class="keyword">(</span><span class="default">$values</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83360""></a>
  <div class="note">
   <strong class="user">don_knotts at hotmail dot com</strong>
   <a href="#83360" class="date">22-May-2008 04:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I forgot to add a side-note to my post about the unique random number function.&nbsp; If the array count is more than half of the random number max, the function could take a very long time to process, maybe even go into an infinite loop.&nbsp; The best way to avoid this is to set the max at twice the array count; i.e. if you want an array of 10 unique random numbers, the maximum random number needs to be at least 20.&nbsp; For my purposes, I have 50 pictures to choose from, and the function randomly picks 20 of them to display on the webpage, without displaying an image twice.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83358""></a>
  <div class="note">
   <strong class="user">don_knotts at hotmail dot com</strong>
   <a href="#83358" class="date">22-May-2008 03:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a simple way to get UNIQUE random numbers, because if you are wanting random numbers, say, between 1 and 10, then you will get duplicates very often, so this function takes care of that.&nbsp; However, for a very large amount of numbers, this could be very slow.&nbsp; I use this to generate random pictures on a webpage so that I don't get the same picture twice, but it only picks from about 50 pictures.<br />
<br />
// **************************************************<br />
// generate UNIQUE random numbers between min and max<br />
// uses the updated mt_rand() php function<br />
// 'min' = minimum random number<br />
// 'max' = maximum random number<br />
// 'count' = how many numbers in the array<br />
// returns array with random numbers<br />
// error msg if count is greater than max<br />
// **************************************************<br />
function generateUniqueRandoms($min, $max, $count)&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if($count &gt; $max)&nbsp; {&nbsp; // this prevents an infinite loop<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo "ERROR: The array count is greater than the random number maximum.&lt;br&gt;\n";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo "Therefore, it is impossible to build an array of unique random numbers.&lt;br&gt;\n";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; $numArray = array();<br />
&nbsp;&nbsp;&nbsp; for($i = 0; $i &lt; $count; $i++)&nbsp; {&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $numArray[$i] = mt_rand($min,$max);&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // set random number<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for($j = 0; $j &lt; $count; $j++)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // for each number, check for duplicates<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($j != $i)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // except for the one you are checking of course<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if($numArray[$i] == $numArray[$j]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $numArray[$i] = mt_rand(1,10);&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; // if duplicate, generate new random<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $j = 0;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // go back through and check new number<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } <br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return $numArray;<br />
} // end generateUniqueRandoms() ----------------------<br />
// ****************************************************</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82579""></a>
  <div class="note">
   <strong class="user">Jonathon</strong>
   <a href="#82579" class="date">17-Apr-2008 01:14</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Below, andrei suggested a function for generating a list of unique integers, randomly arranged.&nbsp; In response to a note below that his solution is inefficient, I'm providing an O(N) solution which should be much more efficient, yet still yield a good guarantee of producing randomly ordered integers.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">SwapShuffle</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">, </span><span class="default">$max</span><span class="keyword">) {<br />
&nbsp; </span><span class="default">$last </span><span class="keyword">= </span><span class="default">$max </span><span class="keyword">- </span><span class="default">$min</span><span class="keyword">;<br />
<br />
&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">$last</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$min </span><span class="keyword">+ </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; for (</span><span class="default">$run</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$run</span><span class="keyword">&lt;</span><span class="default">7</span><span class="keyword">; </span><span class="default">$run</span><span class="keyword">++) {<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">$last</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$target </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$last</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$swap </span><span class="keyword">= </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$target</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$target</span><span class="keyword">] = </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$swap</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
<br />
&nbsp; return </span><span class="default">$arr</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// Call as:<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">SwapShuffle</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">30</span><span class="keyword">);<br />
foreach (</span><span class="default">$result </span><span class="keyword">as </span><span class="default">$num</span><span class="keyword">) {<br />
&nbsp; echo </span><span class="string">"</span><span class="default">$num</span><span class="string">\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82156""></a>
  <div class="note">
   <strong class="user">geompse at yopmail dot com</strong>
   <a href="#82156" class="date">29-Mar-2008 04:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
mt_rand() is not faster than rand() !<br />
<br />
Tested over 100'000 iterations, with none/various/random arguments, mt_rand is always 3% slower than rand().</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82022""></a>
  <div class="note">
   <strong class="user">guilhem at dublin dot ie</strong>
   <a href="#82022" class="date">25-Mar-2008 01:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I'm sorry to say, "andrei at novanetworks dot ro"'s method seems higly unefficient to me. It's good if called few times only, but when most of the numbers have already been used, the function has to loop many times before finding an available option.<br />
<br />
When I know I need to call most of the numbers from a range, I create a list of the numbers in the range, get a random index from this list, then return and delete the item of the list at the picked index. More memory usage if called many times, but probably less computation time on average.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81996""></a>
  <div class="note">
   <strong class="user">andrei at novanetworks dot ro</strong>
   <a href="#81996" class="date">22-Mar-2008 11:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a simple function i've made for generateing unique random numbers. Be carefull, the function will go into an infinite loop if you request more unique numbers then the given range (ex. if you call unic(1, 5) five times it's ok, but the 6'th time it will go into an infinite loop).<br />
<br />
$unic_arr = array(); //the array in witch the used numbers are stored.<br />
<br />
function unic($min, $max) {<br />
global $unic_arr;<br />
&nbsp;&nbsp;&nbsp; $rand = mt_rand($min, $max);<br />
&nbsp;&nbsp;&nbsp; $tf = 1;<br />
&nbsp;&nbsp;&nbsp; while(true) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!in_array($rand, $unic_arr)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $tf = 0;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else $rand = mt_rand($min, $max);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; array_push($unic_arr, $rand);<br />
&nbsp;&nbsp;&nbsp; return $rand;<br />
}<br />
<br />
//to call the function use:<br />
<br />
unic($min, $max); //ex. unic(1000, 9999);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81084""></a>
  <div class="note">
   <strong class="user">William Leslie</strong>
   <a href="#81084" class="date">13-Feb-2008 09:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Do not rely on the strength of any 'home-brewed' cryptographic algorithm, such as the one posted by dmoree at coker dot edu.&nbsp; Algorithms such as MD5 and SHA-1 have been the subject of intense academic research and have known security properties.<br />
<br />
While it is true that MD5 and SHA-1 are generally no longer recommended for use in new cryptosystems, there are newer algorithms such as SHA-256 that address the older algorithms' weaknesses.&nbsp; These newer algorithms have not received quite as much scrutiny as their older counterparts, but have still been studied much more carefully than your home-brewed algorithm, most likely.<br />
<br />
Dmoree at coker dot edu's concern about rainbow tables is best addressed by a properly applied salting technique.&nbsp; Every bit of 'salt' added to a cryptographic hash effectively extends the complexity of the password and thus the size of the rainbow table needed to crack it.<br />
<br />
Furthermore, wisely chosen password strength policies can mitigate such attacks.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80703""></a>
  <div class="note">
   <strong class="user">dmoree at coker dot edu</strong>
   <a href="#80703" class="date">29-Jan-2008 07:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a simple encryption algorithm I made a few months ago. I was tired of MD5 because they have rainbow tables out that will crack most any MD5 pass. Along with SHA. So encryption algorithms are getting weaker all the time. So here is new one for people to try and crack. So far no one has told me they cracked it. I also use it to generate very random passwords or character segments. Below the function is the random string generator. I tested this algorithm with mt_rand over 10 million iterations without one duplicate string. So use it in good health!<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Hexi-decimal encryption function<br />
// Returns: 64 character encrypted string<br />
// NOTE: One-Way encryption only<br />
</span><span class="keyword">function </span><span class="default">HexCrypt</span><span class="keyword">(</span><span class="default">$string </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">, </span><span class="default">$salt </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)) == </span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="string">" "</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$salt</span><span class="keyword">)) == </span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$salt </span><span class="keyword">= </span><span class="string">" "</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">$salt</span><span class="keyword">.</span><span class="default">$string</span><span class="keyword">.</span><span class="default">$salt</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$lastchar </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$saltlength </span><span class="keyword">= </span><span class="string">"0x"</span><span class="keyword">.</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$salt</span><span class="keyword">));<br />
<br />
&nbsp;&nbsp;&nbsp; while(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">) &lt; </span><span class="default">64</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$firstchar </span><span class="keyword">= </span><span class="string">"0x"</span><span class="keyword">.</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$salt</span><span class="keyword">), </span><span class="default">1</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$strlength </span><span class="keyword">= </span><span class="string">"0x"</span><span class="keyword">.</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">+</span><span class="default">$i</span><span class="keyword">+</span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">) &gt;= </span><span class="default">64</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break(</span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }elseif(</span><span class="default">$lastchar </span><span class="keyword">== </span><span class="string">""</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$lastchar </span><span class="keyword">= </span><span class="string">"0x"</span><span class="keyword">.</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$current </span><span class="keyword">= </span><span class="string">"0x"</span><span class="keyword">.</span><span class="default">dechex</span><span class="keyword">(</span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$total </span><span class="keyword">= (</span><span class="default">$lastchar </span><span class="keyword">* </span><span class="default">$current</span><span class="keyword">) * (</span><span class="default">$firstchar </span><span class="keyword">* </span><span class="default">$saltlength</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$total</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$lastchar </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if((</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)%</span><span class="default">2</span><span class="keyword">) == </span><span class="default">1</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$total </span><span class="keyword">= (</span><span class="default">$lastchar </span><span class="keyword">* </span><span class="default">$firstchar</span><span class="keyword">) * (</span><span class="default">$firstchar </span><span class="keyword">* </span><span class="default">$saltlength</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">.= </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$total</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="default">$output</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">) != </span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$output</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">64</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$output </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">64</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return(</span><span class="default">$output</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="comment">// Generates an 8 character random string<br />
</span><span class="default">$length </span><span class="keyword">= </span><span class="default">8</span><span class="keyword">;<br />
</span><span class="default">$string </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
<br />
for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">32</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">.= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">$start </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, (</span><span class="default">64</span><span class="keyword">-</span><span class="default">$length</span><span class="keyword">));<br />
</span><span class="default">$salt </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">20</span><span class="keyword">), </span><span class="default">12</span><span class="keyword">);<br />
echo </span><span class="string">"Random String: "</span><span class="keyword">.</span><span class="default">substr</span><span class="keyword">(</span><span class="default">HexCrypt</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$salt</span><span class="keyword">), </span><span class="default">$start</span><span class="keyword">, </span><span class="default">$length</span><span class="keyword">).</span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80458""></a>
  <div class="note">
   <strong class="user">przemek at sobstel dot org</strong>
   <a href="#80458" class="date">16-Jan-2008 11:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
note that OWASP's "Guide to Cryptography" says that a Mersenne Twister (that is used by mt_rand()) "is nowhere near as good as CryptoAPIs secure random number generation options, OpenSSL, or /dev/urandom which is available on many Unix variants. mt_rand() has been noted to produce the same number on some platforms."<br />
<br />
remember that rand() is even weaker.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80025""></a>
  <div class="note">
   <strong class="user">jfkallen at hotmail dot com</strong>
   <a href="#80025" class="date">24-Dec-2007 03:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
mt_rand does not seem to truly generate random numbers.&nbsp; Im not sure exactly which of the following is more accurate as I was applying the following to sock price deviations which do not follow normal distributions (exactly at least).<br />
<br />
If you group observations in 11 buckets such that each bucket represents 10 percentiles and run mt_rand(0,10) 100 times you would expect a simlar result as if you ran 100 iterations of mt_rand(0,100) where each bucket represents 1 1 percentile range.<br />
<br />
FYI I think things work slightly better as the range of mt_rand increases.<br />
#$data is a numerical (not associative) array of numbers<br />
<br />
sort($data);<br />
$data_size = count($data);<br />
#num_groups is the number of buckets<br />
$num_groups = min($num_groups,$data_size);<br />
$ile_size = $data_size / $num_groups;<br />
<br />
//following creates the buckets<br />
$groups[] = $data[0];<br />
for ($i=1;$i&lt;$num_groups;$i++){<br />
&nbsp; $x = $i * $ile_size;<br />
&nbsp; $i1 = floor($x);<br />
&nbsp; $i2 = ceil($x);<br />
&nbsp; $d1 = $data[$i1];<br />
&nbsp; $d2 = $data[$i2];<br />
&nbsp; $var = 1 - ($x-$i1);<br />
&nbsp; $groups[] = ($d1 * $var) + ($d2 * (1-$var));<br />
}<br />
$groups[] = $data[$data_size-1];<br />
<br />
//RUN The Random number generator<br />
<br />
$value = array();<br />
for ($j=0;$j&lt;$depth;$j++){<br />
&nbsp;$t = mt_rand($lower_limit,$upper_limit);<br />
&nbsp;$value[] = $this-&gt;m_groups[$t];<br />
}<br />
<br />
//The end result is that as the number of groupas increase the accuracy (ie turue randomness seems to increase proportionally more (up to point).&nbsp; This is not the way it should work in nature.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79401""></a>
  <div class="note">
   <strong class="user">root at mantoru dot de</strong>
   <a href="#79401" class="date">25-Nov-2007 06:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed a function that returns true with a probability of n%, so here's what I came up with:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">probability</span><span class="keyword">(</span><span class="default">$chance</span><span class="keyword">, </span><span class="default">$out_of </span><span class="keyword">= </span><span class="default">100</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$random </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">$out_of</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$random </span><span class="keyword">&lt;= </span><span class="default">$chance</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
A few usage examples:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/* 50% chance, equal to (bool)mt_rand(0, 1) */<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">probability</span><span class="keyword">(</span><span class="default">50</span><span class="keyword">));<br />
</span><span class="comment">/* 0.1% chance, floats will not work -- "1 out of 1000 cases" */<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">probability</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">1000</span><span class="keyword">));<br />
</span><span class="comment">/* Practical example */<br />
</span><span class="keyword">if (</span><span class="default">probability</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$damage </span><span class="keyword">*= </span><span class="default">1.75</span><span class="keyword">; </span><span class="comment">// Critical hit!<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79141""></a>
  <div class="note">
   <strong class="user">fabiovh on gmail</strong>
   <a href="#79141" class="date">13-Nov-2007 06:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
performance: for a repetitive task, it's much faster not to use the limit parameters, as shown below. just use the % operator.<br />
<br />
$t=microtime(true);<br />
for($i=0;$i&lt;1000000;$i++)<br />
&nbsp;mt_rand()%3;<br />
echo microtime(true)-$t;<br />
<br />
echo '|';<br />
<br />
$t=microtime(true);<br />
for($i=0;$i&lt;1000000;$i++)<br />
&nbsp;mt_rand(0,2);<br />
echo microtime(true)-$t;<br />
<br />
echo '|';<br />
<br />
$t=microtime(true);<br />
for($i=0;$i&lt;1000000;$i++)<br />
&nbsp;mt_rand();<br />
echo microtime(true)-$t;<br />
<br />
output: 0.316797971725|0.442242145538|0.253082036972</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78235""></a>
  <div class="note">
   <strong class="user">bradpeabody at scientology dot net</strong>
   <a href="#78235" class="date">03-Oct-2007 02:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[Editorial note: This suggested "security" improvement simply punts the issue to the operating system: there is no guarantee that the operating system will work any better than the Mersenne twister (although it may have more entropy available)]<br />
<br />
If you want some random text that is more secure than what can get from a built in PHP method, you can simply do:<br />
<br />
<span class="default">&lt;?php<br />
$myRandomText </span><span class="keyword">= </span><span class="default">shell_exec</span><span class="keyword">(</span><span class="string">'head -c 128 &lt; /dev/urandom'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
That will get around the fact that rand() and mt_rand() are a bad place to start generating something that is supposed to be cryptographically secure.<br />
<br />
The only down sides to this that I see are:<br />
a) Ugly<br />
b) Slow (have to launch external processes)<br />
c) Not portable (can't do this on Windows)<br />
<br />
But if you can live with that, this will be much more secure than using rand() or mt_rand().<br />
<br />
- Brad</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76658""></a>
  <div class="note">
   <strong class="user">www.mrnaz.com</strong>
   <a href="#76658" class="date">24-Jul-2007 10:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This function uses mt_rand() to create a random string of specified length from an optionally supplied string of characters. It is good for generating passwords that only consist of alphanumeric characters or codes that must consist of a defined character space such as for barcodes. It can also be used to generate random hexadecimal numbers for things like encryption keys.<br />
<br />
It is very fast, and allows for generation of strings of unlimited length.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">rand_string</span><span class="keyword">(</span><span class="default">$len</span><span class="keyword">, </span><span class="default">$chars </span><span class="keyword">= </span><span class="string">'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$len</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pos </span><span class="keyword">= </span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$chars</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$string </span><span class="keyword">.= </span><span class="default">$chars</span><span class="keyword">{</span><span class="default">$pos</span><span class="keyword">};<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$string</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75793""></a>
  <div class="note">
   <strong class="user">rok dot kralj at gmail dot com</strong>
   <a href="#75793" class="date">16-Jun-2007 12:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
mt_rand function returns just a whole numbers. If you want a random float, then here's an elegant way:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">random_float </span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">) {<br />
&nbsp;&nbsp; return (</span><span class="default">$min</span><span class="keyword">+</span><span class="default">lcg_value</span><span class="keyword">()*(</span><span class="default">abs</span><span class="keyword">(</span><span class="default">$max</span><span class="keyword">-</span><span class="default">$min</span><span class="keyword">)));<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75029""></a>
  <div class="note">
   <strong class="user">Paul Nolasco</strong>
   <a href="#75029" class="date">09-May-2007 12:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a more user friendly password generator. You want to make it easier for the user to enter the new password.<br />
<br />
Output:<br />
- First character is capitalize<br />
- Rest of the characters are either number or letters (lowercase)<br />
<br />
You can change the probability depending on your taste. Also by default it generates a 8-character long password.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">genPassword</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">=</span><span class="default">8</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># first character is capitalize<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$pass </span><span class="keyword">=&nbsp; </span><span class="default">chr</span><span class="keyword">(</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">));&nbsp; &nbsp; </span><span class="comment">// A-Z<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; # rest are either 0-9 or a-z<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">for(</span><span class="default">$k</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$k </span><span class="keyword">&lt; </span><span class="default">$length </span><span class="keyword">- </span><span class="default">1</span><span class="keyword">; </span><span class="default">$k</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$probab </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">); <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$probab </span><span class="keyword">&lt;= </span><span class="default">8</span><span class="keyword">)&nbsp;&nbsp; </span><span class="comment">// a-z probability is 80%<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pass </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">97</span><span class="keyword">,</span><span class="default">122</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// 0-9 probability is 20%<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$pass </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">48</span><span class="keyword">, </span><span class="default">57</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$pass</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74953""></a>
  <div class="note">
   <strong class="user">Jonathan  at  jooped dot co dot uk</strong>
   <a href="#74953" class="date">05-May-2007 08:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
An easier password generator than earlsinclair2001.<br />
<br />
function easyPassGen($length=10){<br />
$enc = sh1(mt_rand().mt_rand().mt_rand());<br />
$password = sub_str($enc, 1, $length);<br />
return $password;<br />
}<br />
<br />
Might help someone (pretty simple though).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74442""></a>
  <div class="note">
   <strong class="user">earlsinclair2001 at yahoo dot com</strong>
   <a href="#74442" class="date">11-Apr-2007 10:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's my shot at writing a secure password generator function:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">passwordgenerator</span><span class="keyword">()<br />
{&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$password </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$loop </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while (</span><span class="default">$loop </span><span class="keyword">&lt; </span><span class="default">12</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$randomchar </span><span class="keyword">= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">35</span><span class="keyword">, </span><span class="default">126</span><span class="keyword">));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">strstr</span><span class="keyword">(</span><span class="default">$password</span><span class="keyword">, </span><span class="default">$randomchar</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$password </span><span class="keyword">.= </span><span class="default">$randomchar</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$loop</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$password</span><span class="keyword">;<br />
}</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74036""></a>
  <div class="note">
   <strong class="user">chagenbu at php dot net</strong>
   <a href="#74036" class="date">21-Mar-2007 09:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The algorithm used by mt_rand() changed in PHP 5.2.1. If you are relying on getting the same sequence from mt_rand() after calling mt_srand() with a known seed, upgrading to PHP 5.2.1 will break your code. See <a href="http://bugs.php.net/bug.php?id=40724 for something of an explanation; there is no workaround." rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=40724 for something of an explanation; there is no workaround.</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73823""></a>
  <div class="note">
   
   <a href="#73823" class="date">12-Mar-2007 12:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In one of my forums was a discussion about, how to change an image randomly, so i wrote this code using mt_rand .... <br />
<br />
I hope you can use it .... <br />
<br />
I Forgot something, sorry for that, but here is the correction.<br />
<br />
<span class="default">&lt;?php <br />
&nbsp; </span><span class="comment">//ImageChange.php <br />
<br />
&nbsp; </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);</span><span class="comment">//hide the notice for the missing $iRand<br />
<br />
&nbsp; </span><span class="default">$sPath2ImageDir </span><span class="keyword">= </span><span class="default">Path</span><span class="keyword">;</span><span class="comment">//preventing redundancy<br />
&nbsp; </span><span class="default">$aImages&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">scandir</span><span class="keyword">(</span><span class="default">$sBildOrdnerPfad</span><span class="keyword">);</span><span class="comment">//Dir 2 Array<br />
&nbsp; </span><span class="default">$iImageCount&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$aImages</span><span class="keyword">);</span><span class="comment">//preventing redundancy<br />
&nbsp;<br />
&nbsp; </span><span class="keyword">while (</span><span class="default">getimagesize</span><span class="keyword">(</span><span class="string">"{sPath2ImageDir}/</span><span class="keyword">{</span><span class="default">$aImages</span><span class="keyword">[</span><span class="default">$iRand</span><span class="keyword">]}</span><span class="string">"</span><span class="keyword">)) {</span><span class="comment">//recursion to get an image<br />
&nbsp;&nbsp; </span><span class="default">$iRand </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">$iImageCount</span><span class="keyword">-</span><span class="default">1</span><span class="keyword">);</span><span class="comment">//min = 2 because $aImages[0] = "." and $aImages[1] = ".."<br />
&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; <br />
&nbsp; echo </span><span class="string">"&lt;img alt=\"Image</span><span class="keyword">{</span><span class="default">$iRand</span><span class="keyword">}</span><span class="string">\" src=\"{sPath2ImageDir}/</span><span class="keyword">{</span><span class="default">$aImages</span><span class="keyword">[</span><span class="default">$iRand</span><span class="keyword">]}</span><span class="string">\" title=\"Image</span><span class="keyword">{</span><span class="default">$iRand</span><span class="keyword">}</span><span class="string">\" /&gt;"</span><span class="keyword">;</span><span class="comment">//show the image<br />
<br />
&nbsp; </span><span class="keyword">unset(</span><span class="default">$aImages</span><span class="keyword">, </span><span class="default">$iImageCount</span><span class="keyword">, </span><span class="default">$iRand</span><span class="keyword">, </span><span class="default">$sBildOrdnerPfad</span><span class="keyword">);</span><span class="comment">//if this script is used in another script<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73799""></a>
  <div class="note">
   <strong class="user">Rene at mokiba dot de</strong>
   <a href="#73799" class="date">10-Mar-2007 02:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is my Function to generate an Array with unique random Numbers between "$from" and "$to".<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">random_number_array</span><span class="keyword">(</span><span class="default">$count</span><span class="keyword">, </span><span class="default">$from</span><span class="keyword">, </span><span class="default">$to</span><span class="keyword">){<br />
&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">$from</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$to</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; </span><span class="default">$number_array</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; </span><span class="default">$random_number_array </span><span class="keyword">= array();<br />
&nbsp;&nbsp; </span><span class="default">mt_srand </span><span class="keyword">((double) </span><span class="default">microtime</span><span class="keyword">() * </span><span class="default">1000000</span><span class="keyword">);<br />
&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$count</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++){<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$random_number&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">count</span><span class="keyword">(</span><span class="default">$number_array</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$key_to_insert_and_delete </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$random_number</span><span class="keyword">, </span><span class="default">$number_array</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$random_number_array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]&nbsp; &nbsp; = </span><span class="default">$number_array</span><span class="keyword">[</span><span class="default">$key_to_insert_and_delete</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$number_array</span><span class="keyword">, </span><span class="default">$key_to_insert_and_delete</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; </span><span class="comment">// Array $random_number_array with $count random Numbers, between $from and $to<br />
&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$random_number_array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
I hope its helping you.<br />
<br />
Greetings<br />
<br />
Rene Andris</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73797""></a>
  <div class="note">
   <strong class="user">Rene at mokiba dot de</strong>
   <a href="#73797" class="date">10-Mar-2007 11:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is my Function to generate an Array with unique random Numbers between "$from" and "$to".<br />
<br />
function random_number_array($count, $from, $to){<br />
&nbsp;&nbsp; for($i=$from;$i&lt;$to;$i++){<br />
&nbsp;&nbsp;&nbsp; $number_array[] = $i;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; $random_number_array = array();<br />
&nbsp;&nbsp; mt_srand ((double) microtime() * 1000000);<br />
&nbsp;&nbsp; for($i=0;$i&lt;$count;$i++){<br />
&nbsp;&nbsp; &nbsp;&nbsp; $random_number&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = mt_rand(0,count($number_array)-1);<br />
&nbsp;&nbsp; &nbsp;&nbsp; $key_to_insert_and_delete = array_search($random_number, $number_array);<br />
&nbsp;&nbsp; &nbsp;&nbsp; $random_number_array[$i]&nbsp; &nbsp; = $number_array[$key_to_insert_and_delete];<br />
&nbsp;&nbsp; &nbsp;&nbsp; array_splice($number_array, $key_to_insert_and_delete, 1);<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; // Array $random_number_array with $count random Numbers, between $from and $to<br />
&nbsp;&nbsp; return $random_number_array;<br />
}<br />
<br />
I hope its helping you.<br />
<br />
Greetings<br />
<br />
Rene Andris</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73237""></a>
  <div class="note">
   <strong class="user">heavyraptor</strong>
   <a href="#73237" class="date">14-Feb-2007 03:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
since my mt_rand_n() function isn't too fast I created a faster and easier function:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">mt_rand_exclusive</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">,</span><span class="default">$ex</span><span class="keyword">) {<br />
&nbsp; while (</span><span class="default">true</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$rand </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">),(array)</span><span class="default">$ex</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$rand</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Have fun</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73077""></a>
  <div class="note">
   <strong class="user">zolaar at nothanks dot com</strong>
   <a href="#73077" class="date">07-Feb-2007 10:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a better (and likely faster) way to generate a random 6-digit hex string:<br />
<br />
<span class="default">&lt;?php<br />
$num </span><span class="keyword">= </span><span class="default">mt_rand </span><span class="keyword">( </span><span class="default">0</span><span class="keyword">, </span><span class="default">0xffffff </span><span class="keyword">); </span><span class="comment">// trust the library, love the library...<br />
</span><span class="default">$output </span><span class="keyword">= </span><span class="default">sprintf </span><span class="keyword">( </span><span class="string">"%06x" </span><span class="keyword">, </span><span class="default">$num </span><span class="keyword">); </span><span class="comment">// muchas smoochas to you, PHP!<br />
</span><span class="keyword">return </span><span class="default">$output</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
The mt_rand function won't give you a number outside the bounds you asked for -- no need to and-off the top bits -- and the sprintf function has params for length-padding &amp; hexidecimal output.&nbsp; It's likely faster because most of the work is being done by the wicked fast C functions that PHP sits on top of, though YMMV in that dept.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71704""></a>
  <div class="note">
   <strong class="user">heavyraptor</strong>
   <a href="#71704" class="date">12-Dec-2006 09:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need a random number but not the numbers in a specified array, you may use my function below:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">mt_rand_n</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">,</span><span class="default">$disallowed</span><span class="keyword">) {<br />
&nbsp; </span><span class="comment">// $a must be an array<br />
&nbsp; </span><span class="keyword">if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$disallowed</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="comment">// Create an array with the numbers from $min to $max<br />
&nbsp; // without the numbers in $disallowed.<br />
&nbsp; // - range() to create an array with the numbers from $min to $max<br />
&nbsp; // - array_diff() to create the allowed numbers<br />
&nbsp; // - since array_diff() doesn't change the keys, we've to change them with<br />
&nbsp; //&nbsp;&nbsp; array_values(), to get an normal order (0,1,2,3 ... )<br />
&nbsp; </span><span class="default">$numbers </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">range</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">),</span><span class="default">$disallowed</span><span class="keyword">));<br />
<br />
&nbsp; </span><span class="comment">// size of $numbers must be greater than 0<br />
&nbsp; </span><span class="keyword">if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$numbers</span><span class="keyword">) &lt; </span><span class="default">1</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
<br />
&nbsp; </span><span class="comment">// create random number and return it<br />
&nbsp; </span><span class="keyword">return </span><span class="default">$numbers</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">count</span><span class="keyword">(</span><span class="default">$numbers</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">)];<br />
}<br />
<br />
</span><span class="comment">// Example:<br />
</span><span class="default">$min </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
</span><span class="default">$max </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">;<br />
</span><span class="default">$disallowed </span><span class="keyword">= array(</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">,</span><span class="default">10</span><span class="keyword">); </span><span class="comment">// the numbers 1,2,3,6,7, and 8 are disallowed<br />
<br />
</span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">mt_rand_n</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">,</span><span class="default">$disallowed</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
I hope it helps someone ...<br />
Btw. here's the "un-comment" function:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">mt_rand_n</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">,</span><span class="default">$disallowed</span><span class="keyword">) {<br />
&nbsp; if (!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$disallowed</span><span class="keyword">)) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$numbers </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">range</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">,</span><span class="default">$max</span><span class="keyword">),</span><span class="default">$disallowed</span><span class="keyword">));<br />
&nbsp; if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$numbers</span><span class="keyword">) &lt; </span><span class="default">1</span><span class="keyword">) return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp; return </span><span class="default">$numbers</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">count</span><span class="keyword">(</span><span class="default">$numbers</span><span class="keyword">) - </span><span class="default">1</span><span class="keyword">)];<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Have fun :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71275""></a>
  <div class="note">
   <strong class="user">MagicalTux at ooKoo dot org</strong>
   <a href="#71275" class="date">20-Nov-2006 07:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In answer to David and pHp_n00b, about generating a random 6 characters hexadecimal string...<br />
<br />
Well, the easiest solution would be :<br />
<span class="default">&lt;?php<br />
$rand </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0x000000</span><span class="keyword">, </span><span class="default">0xffffff</span><span class="keyword">); </span><span class="comment">// generate a random number between 0 and 0xffffff<br />
</span><span class="default">$rand </span><span class="keyword">= </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$rand </span><span class="keyword">&amp; </span><span class="default">0xffffff</span><span class="keyword">); </span><span class="comment">// make sure we're not over 0xffffff, which shouldn't happen anyway<br />
</span><span class="default">$rand </span><span class="keyword">= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$rand</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">, </span><span class="string">'0'</span><span class="keyword">, </span><span class="default">STR_PAD_LEFT</span><span class="keyword">); </span><span class="comment">// add zeroes in front of the generated string<br />
</span><span class="keyword">echo </span><span class="default">$rand</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Some examples of generated stuff :<br />
8514d2<br />
3188ae<br />
028f3e<br />
444397<br />
1de508<br />
071662<br />
<br />
You can easily make a function from this code.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71075""></a>
  <div class="note">
   <strong class="user">Chris</strong>
   <a href="#71075" class="date">10-Nov-2006 11:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
&gt;Running the output of Mersenne Twister through an unkeyed &gt;secure hash is NOT a good way to make it secure, because it'll &gt;still have a relatively small internal state which, if recovered, &gt;would allow reproduction of the keystream.&nbsp; A better idea &gt;would be to encrypt the output with a keyed encryption &gt;algorithm - but if you were going to do that, you wouldn't &gt;need a psuedorandom number generator at all, because a &gt;counter would be just as good.<br />
<br />
Not true. Mersenne Twister has an ENORMOUS amount of internal state - 4992 bits, bigger than practically any cipher's key length. The point of a secure random number generator is that you cannot predict future outputs based on past OUTPUTS, which is why a hash is applied. Clearly you can predict the future output of any pseudorandom number generator if you can acquire the internal state - a better algorithm will never solve this problem. If you use keyed encryption, recovering the key allows you to predict future outputs.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70952""></a>
  <div class="note">
   <strong class="user">David</strong>
   <a href="#70952" class="date">06-Nov-2006 12:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Shouldn't it be a greater than (&gt;) sign rather than a not equal (!=) sign? Because you're just checking to see if it is exactly six. So if it is 7 it, won't try to fix it. So wouldn't this be better?<br />
&lt;?<br />
//....<br />
if (strlen($random_hex) &lt; "6") // sometimes it returns an only 5, or less, char Hex-Code,<br />
&nbsp;&nbsp; hexcode();&nbsp; &nbsp; &nbsp; &nbsp; // so the function has to be repeat<br />
elseif (strlen($random_hex) &gt; "6") // sometimes it returns 7 or more characters<br />
//...I don't know how to make it do only six, but your code seems to only check to make sure it doesn't do less than 6; nothing to counter doing more than 6.... so here would be some code to reduce the size back to 6 if it went over.<br />
else<br />
&nbsp;&nbsp; echo $random_hex; // returns the Hex-Code<br />
}<br />
//...<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69917""></a>
  <div class="note">
   <strong class="user">pHp_n00b</strong>
   <a href="#69917" class="date">26-Sep-2006 07:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Generates a max."6 char" Hex-Code<br />
<br />
</span><span class="keyword">function </span><span class="default">hexcode</span><span class="keyword">()<br />
{<br />
<br />
</span><span class="default">$min </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="string">"000000"</span><span class="keyword">); </span><span class="comment">// result is 0&nbsp; &nbsp; and sets the min-value for mt_rand<br />
</span><span class="default">$max </span><span class="keyword">= </span><span class="default">hexdec</span><span class="keyword">(</span><span class="string">"FFFFFF"</span><span class="keyword">); </span><span class="comment">// result is 16777215 and sets the max-value for mt_rand<br />
<br />
</span><span class="default">$random </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">$min</span><span class="keyword">, </span><span class="default">$max</span><span class="keyword">); </span><span class="comment">// creates a radom number between 0 and 16777215<br />
<br />
</span><span class="default">$random_hex </span><span class="keyword">= </span><span class="default">dechex</span><span class="keyword">(</span><span class="default">$random</span><span class="keyword">); </span><span class="comment">// transforms the random number into a Hex-Code<br />
<br />
// now the test, if the result has 6 chars<br />
<br />
</span><span class="keyword">if (</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$random_hex</span><span class="keyword">) != </span><span class="string">"6"</span><span class="keyword">) </span><span class="comment">// sometimes it returns an only 5, or less, char Hex-Code, <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">hexcode</span><span class="keyword">();&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// so the function has to be repeat<br />
</span><span class="keyword">else<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$random_hex</span><span class="keyword">; </span><span class="comment">// returns the Hex-Code<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">hexcode</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69171""></a>
  <div class="note">
   <strong class="user">MagicalTux at ooKoo dot org</strong>
   <a href="#69171" class="date">25-Aug-2006 05:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since many people wrote little scripts to generate random sequences, I'll also give mine (which is slightly faster since it makes use of strlen only once, and uses strings instead of arrays) :<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">code</span><span class="keyword">(</span><span class="default">$nc</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">=</span><span class="string">'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$l</span><span class="keyword">=</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$r</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while(</span><span class="default">$nc</span><span class="keyword">--&gt;</span><span class="default">0</span><span class="keyword">) </span><span class="default">$r</span><span class="keyword">.=</span><span class="default">$a</span><span class="keyword">{</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">$l</span><span class="keyword">)};<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$r</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66785""></a>
  <div class="note">
   <strong class="user">arias at elleondeoro dot com</strong>
   <a href="#66785" class="date">29-May-2006 02:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be carefull with: $characters[mt_rand(0, count($characters))];<br />
<br />
"If you want a random number between 5 and 15 (inclusive), for example, use mt_rand (5, 15)."<br />
<br />
Array index are between 0 and n-1, but mt_rand generates a number between 0 and n!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64488""></a>
  <div class="note">
   <strong class="user">James</strong>
   <a href="#64488" class="date">15-Apr-2006 11:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The Developers Resources article mentioned above should be removed as that site has be down for years. The same article by Gregory Boshoff is available at <a href="http://www.phpfive.net/article2.htm" rel="nofollow" target="_blank">http://www.phpfive.net/article2.htm</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61934""></a>
  <div class="note">
   <strong class="user">rollerce at gmail dot com</strong>
   <a href="#61934" class="date">15-Feb-2006 05:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I know a bunch of you have posted little snippets for random number generation, but here's a nifty (in my opinion) little thing I just wrote to create a 10 digit code with hyphens in it. It also negates the use of 0, O, 1, and I, to avoid confusion. I am ALWAYS willing to accept input so if any of you has suggestions to streamline the code, please let me know.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">GetID</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">){&nbsp; &nbsp; &nbsp; <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$characters </span><span class="keyword">= array(</span><span class="string">"A"</span><span class="keyword">, </span><span class="string">"B"</span><span class="keyword">, </span><span class="string">"C"</span><span class="keyword">, </span><span class="string">"D"</span><span class="keyword">, </span><span class="string">"E"</span><span class="keyword">, </span><span class="string">"F"</span><span class="keyword">, </span><span class="string">"G"</span><span class="keyword">, </span><span class="string">"H"</span><span class="keyword">, </span><span class="string">"J"</span><span class="keyword">, </span><span class="string">"K"</span><span class="keyword">, </span><span class="string">"L"</span><span class="keyword">, </span><span class="string">"M"</span><span class="keyword">, </span><span class="string">"N"</span><span class="keyword">, </span><span class="string">"P"</span><span class="keyword">, </span><span class="string">"Q"</span><span class="keyword">, </span><span class="string">"R"</span><span class="keyword">, </span><span class="string">"S"</span><span class="keyword">, </span><span class="string">"T"</span><span class="keyword">, </span><span class="string">"U"</span><span class="keyword">, </span><span class="string">"V"</span><span class="keyword">, </span><span class="string">"W"</span><span class="keyword">, </span><span class="string">"X"</span><span class="keyword">, </span><span class="string">"Y"</span><span class="keyword">, </span><span class="string">"Z"</span><span class="keyword">, </span><span class="string">"2"</span><span class="keyword">, </span><span class="string">"3"</span><span class="keyword">, </span><span class="string">"4"</span><span class="keyword">, </span><span class="string">"5"</span><span class="keyword">, </span><span class="string">"6"</span><span class="keyword">, </span><span class="string">"7"</span><span class="keyword">, </span><span class="string">"8"</span><span class="keyword">, </span><span class="string">"9"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">shuffle</span><span class="keyword">(</span><span class="default">$characters</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; for (; </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$ReqID</span><span class="keyword">)&lt;</span><span class="default">$x</span><span class="keyword">;){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ReqID </span><span class="keyword">.= </span><span class="default">$characters</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$characters</span><span class="keyword">))];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$ReqID</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$ReqID </span><span class="keyword">.= </span><span class="default">GetID</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$ReqID </span><span class="keyword">.= </span><span class="string">"-"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$ReqID </span><span class="keyword">.= </span><span class="default">GetID</span><span class="keyword">(</span><span class="default">4</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$ReqID </span><span class="keyword">.= </span><span class="string">"-"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$ReqID </span><span class="keyword">.= </span><span class="default">GetID</span><span class="keyword">(</span><span class="default">3</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="default">$ReqID<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58554""></a>
  <div class="note">
   <strong class="user">ripat at lumadis dot be</strong>
   <a href="#58554" class="date">07-Nov-2005 08:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Yet another snippet to generate a password.<br />
<span class="default">&lt;?php<br />
&nbsp; $acceptedChars </span><span class="keyword">= </span><span class="string">'azertyuiopqsdfghjklmwxcvbnAZERTYUIOPQSDFGHJKLMWXCVBN0123456789'</span><span class="keyword">; <br />
&nbsp; </span><span class="default">$max </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$acceptedChars</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$password </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">8</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) { <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$password </span><span class="keyword">.= </span><span class="default">$acceptedChars</span><span class="keyword">{</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$max</span><span class="keyword">)}; <br />
&nbsp; }<br />
&nbsp; echo </span><span class="default">$password</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>I have tried several ways of doing it but this simple one seems to be the fastest.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57611""></a>
  <div class="note">
   <strong class="user">fahri at konse dot de</strong>
   <a href="#57611" class="date">08-Oct-2005 09:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
i did the following, to generate a few random-numbers out of a total amount of numbers, but to create different random-numbers and not double or tripple.<br />
for example i use it to generate 10 random-pics out of 150, and do shurely generate not twice the same...<br />
<br />
<span class="default">&lt;?php<br />
$total </span><span class="keyword">=&nbsp; </span><span class="default">6</span><span class="keyword">; </span><span class="comment">// available numbers (of pictures)<br />
</span><span class="default">$randanzahl </span><span class="keyword">= </span><span class="default">6</span><span class="keyword">; </span><span class="comment">//number of random-number to generate out of $total<br />
<br />
</span><span class="keyword">function </span><span class="default">checkifdouble</span><span class="keyword">(</span><span class="default">$ran</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; for(</span><span class="default">$j</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">&lt;</span><span class="default">$i</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$ran</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]==</span><span class="default">$ran</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ergebnis</span><span class="keyword">=</span><span class="string">"true"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } </span><span class="comment">//endif<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ergebnis</span><span class="keyword">=</span><span class="string">"false"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } </span><span class="comment">//endelse<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">} </span><span class="comment">//endfor<br />
</span><span class="keyword">return </span><span class="default">$ergebnis</span><span class="keyword">;<br />
}<br />
<br />
for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">$randanzahl</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$ran</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">$total</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (</span><span class="default">$i</span><span class="keyword">&gt;</span><span class="default">1</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while(</span><span class="default">checkifdouble</span><span class="keyword">(</span><span class="default">$ran</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">)==</span><span class="string">"true"</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$ran</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">$total</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$v</span><span class="keyword">=</span><span class="default">checkifdouble</span><span class="keyword">(</span><span class="default">$ran</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo(</span><span class="default">$v</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } </span><span class="comment">//endif<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo(</span><span class="default">$ran</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">].</span><span class="string">"&lt;br&gt;"</span><span class="keyword">);<br />
<br />
} </span><span class="comment">//enfor<br />
</span><span class="default">?&gt;<br />
</span><br />
this version is easily for debugging and adaption!<br />
maybe there is a very shorter version...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57565""></a>
  <div class="note">
   <strong class="user">phil [underscore] ozil at hotmail dot com</strong>
   <a href="#57565" class="date">07-Oct-2005 06:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Quit bothering yourselves.<br />
All it takes to create a secure random-generated password is those three lines:<br />
<br />
<span class="default">&lt;?php<br />
$pass </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
</span><span class="comment">// Generate a 8 char password<br />
</span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">8</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp; </span><span class="default">$pass </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">35</span><span class="keyword">, </span><span class="default">126</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
Note:<br />
In this example, the character's ASCII values range from 35 to 126.<br />
<br />
For character's ASCII codes please check:<br />
<a href="http://www.keller.com/html-quickref/latin1.html" rel="nofollow" target="_blank">http://www.keller.com/html-quickref/latin1.html</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="57409""></a>
  <div class="note">
   <strong class="user">frans-jan at van-steenbeek dot net</strong>
   <a href="#57409" class="date">03-Oct-2005 07:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
My try at generating a reasonably secure password:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;</span><span class="keyword">function </span><span class="default">keygen</span><span class="keyword">() {<br />
&nbsp; </span><span class="default">$tempstring </span><span class="keyword">=<br />
&nbsp; </span><span class="string">"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNO<br />
&nbsp; PQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyzABC<br />
&nbsp; DEFGHIJKLMNOPQRSTUVWXYZ!?@#$%&amp;*[]{}();:,&lt;&gt;~+=-_<br />
&nbsp; /|\\"</span><span class="keyword">;<br />
&nbsp; for(</span><span class="default">$length </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$length </span><span class="keyword">&lt; </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">10</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">); </span><span class="default">$length</span><span class="keyword">++) {<br />
&nbsp;&nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">str_shuffle</span><span class="keyword">(</span><span class="default">$tempstring</span><span class="keyword">);<br />
&nbsp;&nbsp; </span><span class="default">$char </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$temp</span><span class="keyword">));<br />
&nbsp;&nbsp; </span><span class="default">$pass </span><span class="keyword">.= </span><span class="default">$temp</span><span class="keyword">[</span><span class="default">$char</span><span class="keyword">];<br />
&nbsp; }<br />
&nbsp; return </span><span class="default">$pass</span><span class="keyword">;<br />
&nbsp;}<br />
&nbsp;echo(</span><span class="default">keygen</span><span class="keyword">());<br />
&nbsp;echo(</span><span class="string">"\n"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
This generates a password of an undefined length (in this case, 10 to 15 chars) consisting of numbers, UPPERCASE letters lowercase letters and a set of signs. I have doubled the chance of number and letters to reduce the confusion with my users.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55013""></a>
  <div class="note">
   <strong class="user">sean at codeaholics dot com</strong>
   <a href="#55013" class="date">22-Jul-2005 06:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You really shouldn't generate a number to determine the _type_ of the char, then the char itself.&nbsp; If security is an issue for you, and you want to maintain as much entropy as possible, you should use a function similar to the one below.&nbsp; Since this seems to be getting repeated over-and-over, I explained (beat into the ground?) the issue on <a href="http://www.codeaholics.com/randomCode.php" rel="nofollow" target="_blank">http://www.codeaholics.com/randomCode.php</a><br />
<br />
The code:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">////<br />
// Returns a random code of the specified length, containing characters that are<br />
// equally likely to be any of the digits, uppercase letters, or&nbsp; lowercase letters.<br />
//<br />
// The default length of 10 provides 839299365868340224 (62^10) possible codes.<br />
//<br />
// NOTE: Do not call wt_srand().&nbsp; It is handled automatically in PHP 4.2.0 and above<br />
//&nbsp; &nbsp; &nbsp;&nbsp; and any additional calls are likely to DECREASE the randomness.<br />
////<br />
</span><span class="keyword">function </span><span class="default">randomCode</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">=</span><span class="default">10</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$retVal </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$retVal</span><span class="keyword">) &lt; </span><span class="default">$length</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nextChar </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">61</span><span class="keyword">); </span><span class="comment">// 10 digits + 26 uppercase + 26 lowercase = 62 chars<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if((</span><span class="default">$nextChar </span><span class="keyword">&gt;=</span><span class="default">10</span><span class="keyword">) &amp;&amp; (</span><span class="default">$nextChar </span><span class="keyword">&lt; </span><span class="default">36</span><span class="keyword">)){ </span><span class="comment">// uppercase letters<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nextChar </span><span class="keyword">-= </span><span class="default">10</span><span class="keyword">; </span><span class="comment">// bases the number at 0 instead of 10<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nextChar </span><span class="keyword">= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">$nextChar </span><span class="keyword">+ </span><span class="default">65</span><span class="keyword">); </span><span class="comment">// ord('A') == 65<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">} else if(</span><span class="default">$nextChar </span><span class="keyword">&gt;= </span><span class="default">36</span><span class="keyword">){ </span><span class="comment">// lowercase letters<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nextChar </span><span class="keyword">-= </span><span class="default">36</span><span class="keyword">; </span><span class="comment">// bases the number at 0 instead of 36<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nextChar </span><span class="keyword">= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">$nextChar </span><span class="keyword">+ </span><span class="default">97</span><span class="keyword">); </span><span class="comment">// ord('a') == 97<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">} else { </span><span class="comment">// 0-9<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nextChar </span><span class="keyword">= </span><span class="default">chr</span><span class="keyword">(</span><span class="default">$nextChar </span><span class="keyword">+ </span><span class="default">48</span><span class="keyword">); </span><span class="comment">// ord('0') == 48<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$retVal </span><span class="keyword">.= </span><span class="default">$nextChar</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$retVal</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53158""></a>
  <div class="note">
   <strong class="user">mina86 at nospam dot projektcode dot org</strong>
   <a href="#53158" class="date">24-May-2005 05:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Re: solenoid at hotmail dot united dot kingdom<br />
<br />
In theory method shown by selenoid can lead to infinite loop. The correct method would be:<br />
<br />
<span class="default">&lt;?php<br />
$randomNumbers </span><span class="keyword">= array();<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">i</span><span class="keyword">&lt;</span><span class="default">30</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">) </span><span class="default">$randomNumbers</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
</span><span class="default">shuffle</span><span class="keyword">(</span><span class="default">$randomNumbers</span><span class="keyword">);<br />
for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">20</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">30</span><span class="keyword">; ++</span><span class="default">$i</span><span class="keyword">) unset(</span><span class="default">$randomNumbers</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
</span><span class="default">$randomNumbers </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$randomNumbers</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
The last two lines may be in some cases removed.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51948""></a>
  <div class="note">
   <strong class="user">nowhere at where dot net</strong>
   <a href="#51948" class="date">16-Apr-2005 02:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Allows characters 0-9, a-z<br />
Weighted (and tested) ok.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">generate_string </span><span class="keyword">(</span><span class="default">$length </span><span class="keyword">= </span><span class="default">20</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$nps </span><span class="keyword">= </span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">&lt;</span><span class="default">$length</span><span class="keyword">;</span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nps </span><span class="keyword">.= </span><span class="default">chr</span><span class="keyword">( (</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">36</span><span class="keyword">) &lt;= </span><span class="default">26</span><span class="keyword">) ? </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">97</span><span class="keyword">, </span><span class="default">122</span><span class="keyword">) : </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">48</span><span class="keyword">, </span><span class="default">57 </span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$nps</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49313""></a>
  <div class="note">
   <strong class="user">mskala at ansuz dot sooke dot bc dot ca</strong>
   <a href="#49313" class="date">23-Jan-2005 03:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Running the output of Mersenne Twister through an unkeyed secure hash is NOT a good way to make it secure, because it'll still have a relatively small internal state which, if recovered, would allow reproduction of the keystream.&nbsp; A better idea would be to encrypt the output with a keyed encryption algorithm - but if you were going to do that, you wouldn't need a psuedorandom number generator at all, because a counter would be just as good.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44688""></a>
  <div class="note">
   <strong class="user">timr at onlinehome dot de</strong>
   <a href="#44688" class="date">12-Aug-2004 04:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The correct address of the inventor's FAQ is (<a href="http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/efaq.html" rel="nofollow" target="_blank">http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/efaq.html</a>). They state that Mersenne Twister may be used for cryptography if you do some post-processing:<br />
<br />
"Mersenne Twister is not cryptographically secure. (MT is based on a linear recursion. Any pseudorandom number sequence generated by a linear recursion is insecure, since from sufficiently long subsequence of the outputs, one can predict the rest of the outputs.)<br />
<br />
To make it secure, you need to use some Secure Hashing Algorithm with MT. For example, you may gather every eight words of outputs, and compress them into one word (thus the length of the output sequence is 1/8 of the original one)."</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39805""></a>
  <div class="note">
   
   <a href="#39805" class="date">11-Feb-2004 05:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is a example of a very small, compact, quite random-random string generator. It will make a string with uppercase &amp; lowercase letters, with numbers. You simply need to set $len in the for() structure, and then the string will be in $r.&nbsp; It has been designed for size, while it's still quite fast.&nbsp; Mind the wrapping, it should be 1 line.<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">for(</span><span class="default">$len</span><span class="keyword">=</span><span class="default">8</span><span class="keyword">,</span><span class="default">$r</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$r</span><span class="keyword">)&lt;</span><span class="default">$len</span><span class="keyword">;</span><span class="default">$r</span><span class="keyword">.=</span><span class="default">chr</span><span class="keyword">(!</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">)?<br />
</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">48</span><span class="keyword">,</span><span class="default">57</span><span class="keyword">):(!</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)?</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">65</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">):</span><span class="default">mt_rand<br />
</span><span class="keyword">(</span><span class="default">97</span><span class="keyword">,</span><span class="default">122</span><span class="keyword">))));<br />
</span><span class="default">?&gt;<br />
</span><br />
Armond Carroll</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38062""></a>
  <div class="note">
   <strong class="user">tmx at ntlworld dot com</strong>
   <a href="#38062" class="date">06-Dec-2003 01:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When using this function, it doesn't matter which order the numbers go in.<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; mt_rand(16,5)<br />
<br />
works just as well as<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; mt_rand(5,16)<br />
<br />
Which can be useful if you are pulling values from a database, that could be negative or positive.<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; mtrand(0,$anyinteger)<br />
<br />
Hope this helps someone</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="33803""></a>
  <div class="note">
   <strong class="user">daeken_9999 at yahoo dot com</strong>
   <a href="#33803" class="date">08-Jul-2003 02:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a fixed version of the gaussrand() function defined in a note above.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">gaussrand</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp;&nbsp; static </span><span class="default">$V2</span><span class="keyword">, </span><span class="default">$V1</span><span class="keyword">, </span><span class="default">$S</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; static </span><span class="default">$phase </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">phase </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while (</span><span class="default">$S </span><span class="keyword">&gt;= </span><span class="default">1 </span><span class="keyword">|| </span><span class="default">$S </span><span class="keyword">== </span><span class="default">0</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$V1 </span><span class="keyword">= </span><span class="default">2 </span><span class="keyword">* (</span><span class="default">rand</span><span class="keyword">() / </span><span class="default">getrandmax</span><span class="keyword">()) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$V2 </span><span class="keyword">= </span><span class="default">2 </span><span class="keyword">* (</span><span class="default">rand</span><span class="keyword">() / </span><span class="default">getrandmax</span><span class="keyword">()) - </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$S </span><span class="keyword">= </span><span class="default">$V1 </span><span class="keyword">* </span><span class="default">$V1 </span><span class="keyword">+ </span><span class="default">$V2 </span><span class="keyword">* </span><span class="default">$V2</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$X </span><span class="keyword">= </span><span class="default">$V1 </span><span class="keyword">* </span><span class="default">sqrt</span><span class="keyword">(-</span><span class="default">2 </span><span class="keyword">* </span><span class="default">log</span><span class="keyword">(</span><span class="default">$S</span><span class="keyword">) / </span><span class="default">$S</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$X </span><span class="keyword">= </span><span class="default">$V2 </span><span class="keyword">* </span><span class="default">sqrt</span><span class="keyword">(-</span><span class="default">2 </span><span class="keyword">* </span><span class="default">log</span><span class="keyword">(</span><span class="default">$S</span><span class="keyword">) / </span><span class="default">$S</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$phase </span><span class="keyword">= </span><span class="default">1 </span><span class="keyword">- </span><span class="default">$phase</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$X</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32698""></a>
  <div class="note">
   <strong class="user">jsheets at shadonet dot com</strong>
   <a href="#32698" class="date">04-Jun-2003 01:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The following function will create a random base64 encoded key, this is very useful for password reset schemes or anything where you want a random string.&nbsp; To compare the string either compare the base64 encoded value or base64_decode it and compare that.<br />
<br />
I do not use md5 because md5 results in only 1-9 and a-f in the string or 32^16 possibilities, by using the extended ASCII table and shuffling the array I am able to get a minimum of 32^127 possibilities with a 32 character string, using a longer string will make your value harder to guess still. A lot of machiens will have 32^255 possibilities in a decoded string.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">MakeResetKey</span><span class="keyword">(</span><span class="default">$min_length </span><span class="keyword">= </span><span class="default">32</span><span class="keyword">, </span><span class="default">$max_length </span><span class="keyword">= </span><span class="default">64</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; </span><span class="comment">// build range and shuffle range using ASCII table<br />
&nbsp;&nbsp; </span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">255</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$range</span><span class="keyword">[] = </span><span class="default">chr</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; </span><span class="comment">// shuffle our range 3 times<br />
&nbsp;&nbsp; </span><span class="keyword">for (</span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">&lt;=</span><span class="default">3</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">shuffle</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">);<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">// loop for random number generation<br />
&nbsp;&nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">$min_length</span><span class="keyword">, </span><span class="default">$max_length</span><span class="keyword">); </span><span class="default">$i</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">.= </span><span class="default">$range</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$range</span><span class="keyword">))];<br />
&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; </span><span class="default">$return </span><span class="keyword">= </span><span class="default">base64_encode</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; if (!empty(</span><span class="default">$return</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$return</span><span class="keyword">;<br />
&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="19541""></a>
  <div class="note">
   <strong class="user">demogracia at metropoliglobal dot com</strong>
   <a href="#19541" class="date">02-Mar-2002 12:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">//<br />
// Generates a random string with the specified length<br />
// Chars are chosen from the provided [optional] list<br />
//<br />
</span><span class="keyword">function </span><span class="default">simpleRandString</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">=</span><span class="default">16</span><span class="keyword">, </span><span class="default">$list</span><span class="keyword">=</span><span class="string">"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">mt_srand</span><span class="keyword">((double)</span><span class="default">microtime</span><span class="keyword">()*</span><span class="default">1000000</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$newstring</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$length</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; while(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$newstring</span><span class="keyword">)&lt;</span><span class="default">$length</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$newstring</span><span class="keyword">.=</span><span class="default">$list</span><span class="keyword">[</span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$list</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">)];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$newstring</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">//<br />
// Generates a random string with the specified length<br />
// Includes: a-z, A-Z y 0-9<br />
//<br />
</span><span class="keyword">function </span><span class="default">randString</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">=</span><span class="default">16</span><span class="keyword">) {<br />
&nbsp;&nbsp; </span><span class="default">$newstring</span><span class="keyword">=</span><span class="string">""</span><span class="keyword">;<br />
&nbsp;&nbsp; if(</span><span class="default">$length</span><span class="keyword">&gt;</span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; while(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$newstring</span><span class="keyword">)&lt;</span><span class="default">$length</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$randnum </span><span class="keyword">= </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">61</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (</span><span class="default">$randnum </span><span class="keyword">&lt; </span><span class="default">10</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newstring</span><span class="keyword">.=</span><span class="default">chr</span><span class="keyword">(</span><span class="default">$randnum</span><span class="keyword">+</span><span class="default">48</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } elseif (</span><span class="default">$randnum </span><span class="keyword">&lt; </span><span class="default">36</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newstring</span><span class="keyword">.=</span><span class="default">chr</span><span class="keyword">(</span><span class="default">$randnum</span><span class="keyword">+</span><span class="default">55</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$newstring</span><span class="keyword">.=</span><span class="default">chr</span><span class="keyword">(</span><span class="default">$randnum</span><span class="keyword">+</span><span class="default">61</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return </span><span class="default">$newstring</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="12514""></a>
  <div class="note">
   <strong class="user">amcclung at stetson dot edu</strong>
   <a href="#12514" class="date">18-Apr-2001 01:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's an elegant way of generating a random float value within a certain range:<br />
<br />
<span class="default">&lt;?php<br />
$range </span><span class="keyword">= </span><span class="default">$upperBound</span><span class="keyword">-</span><span class="default">$lowerBound</span><span class="keyword">;<br />
</span><span class="default">$num </span><span class="keyword">= </span><span class="default">$lowerBound </span><span class="keyword">+ </span><span class="default">$range </span><span class="keyword">* </span><span class="default">mt_rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">32767</span><span class="keyword">)/</span><span class="default">32767</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
You should now have a floating point number between your $lowerBound (i.e. 0.5) and $upperBound (0.75) values.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="6875""></a>
  <div class="note">
   <strong class="user">mrdlinux at yahoo dot com</strong>
   <a href="#6875" class="date">20-Jul-2000 10:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
And for those who prefer scaling:<br />
<br />
mt_rand() / RAND_MAX * (Max - Min) + Min;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.mt-getrandmax.html">mt_getrandmax</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.mt-srand.html">mt_srand</a></div>
 <div class="up"><a href="ref.math.html">Math Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
