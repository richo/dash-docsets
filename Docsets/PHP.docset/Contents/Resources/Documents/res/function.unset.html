<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Unset a given variable</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.unserialize.html">unserialize</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.var-dump.html">var_dump</a></div>
 <div class="up"><a href="ref.var.html">Variable handling Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.unset" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">unset</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">unset</span> &mdash; <span class="dc-title">Unset a given variable</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.unset-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><span class="type void">void</span></span> <span class="methodname"><b>unset</b></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$var</tt></span>
   [, <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$...</tt></span>
  ] )</div>

  <p class="para rdfs-comment">
   <span class="function"><b>unset()</b></span> destroys the specified variables. 
  </p>
  <p class="para">
   The behavior of <span class="function"><b>unset()</b></span> inside of a function
   can vary depending on what type of variable you are attempting to
   destroy.
  </p>
  <p class="para">
   If a globalized variable is <span class="function"><b>unset()</b></span> inside of
   a function, only the local variable is destroyed.  The variable
   in the calling environment will retain the same value as before
   <span class="function"><b>unset()</b></span> was called.
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">destroy_foo</span><span style="color: #007700">()&nbsp;<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;global&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">destroy_foo</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">The above example will output:</p>
  <p class="para">
   <div class="informalexample">
    <div class="example-contents screen">
<div class="cdata"><pre>
bar
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   To <span class="function"><b>unset()</b></span> a global variable
   inside of a function, then use
   the <var class="varname"><var class="varname"><a href="reserved.variables.globals.html" class="classname">$GLOBALS</a></var></var> array to do so:
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$GLOBALS</span><span style="color: #007700">[</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">]);<br />}<br /><br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"something"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   If a variable that is PASSED BY REFERENCE is
   <span class="function"><b>unset()</b></span> inside of a function, only the local
   variable is destroyed.  The variable in the calling environment
   will retain the same value as before <span class="function"><b>unset()</b></span>
   was called.
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">)&nbsp;<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"blah"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'something'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$bar</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$bar</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
   <p class="para">The above example will output:</p>
  <p class="para">
   <div class="informalexample">
    <div class="example-contents screen">
<div class="cdata"><pre>
something
something
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   If a static variable is <span class="function"><b>unset()</b></span> inside of a
   function, <span class="function"><b>unset()</b></span> destroys the variable only in the
   context of the rest of a function. Following calls will restore the
   previous value of a variable.
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">++;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Before&nbsp;unset:&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #DD0000">,&nbsp;"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">23</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"after&nbsp;unset:&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
   <p class="para">The above example will output:</p>
  <p class="para">
   <div class="informalexample">
    <div class="example-contents screen">
<div class="cdata"><pre>
Before unset: 1, after unset: 23
Before unset: 2, after unset: 23
Before unset: 3, after unset: 23
</pre></div>
    </div>
   </div>
  </p>
 </div>

  
 <div class="refsect1 parameters" id="refsect1-function.unset-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">var</tt></i></span>
     <dd>

      <p class="para">
       The variable to be unset.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">...</tt></i></span>
     <dd>

      <p class="para">
       Another variable ...
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.unset-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   No value is returned.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.unset-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">4.0.1</td>
       <td align="left">
        Added support for multiple arguments.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.unset-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4798">
    <p><b>Example #1 <span class="function"><b>unset()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;destroy&nbsp;a&nbsp;single&nbsp;variable<br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;destroy&nbsp;a&nbsp;single&nbsp;element&nbsp;of&nbsp;an&nbsp;array<br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$bar</span><span style="color: #007700">[</span><span style="color: #DD0000">'quux'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">//&nbsp;destroy&nbsp;more&nbsp;than&nbsp;one&nbsp;variable<br /></span><span style="color: #007700">unset(</span><span style="color: #0000BB">$foo1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$foo2</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$foo3</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <div class="example" id="example-4799">
    <p><b>Example #2 Using <i>(unset)</i> casting</b></p>
    <div class="example-contents"><p>
     <i>(unset)</i> casting is often confused with the
     <span class="function"><b>unset()</b></span> function. <i>(unset)</i>
     casting serves only as a <i>NULL</i>-type cast, for
     completeness. It does not alter the variable it&#039;s casting.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Felipe'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">((unset)&nbsp;</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
NULL
string(6) &quot;Felipe&quot;
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.unset-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><b class="note">Note</b>: <span class="simpara">Because this is a
language construct and not a function, it cannot be called using
<a href="functions.variable-functions.html" class="link">variable functions</a></span>
</p></blockquote>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    It is possible to unset even object properties visible in current context.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    It is not possible to unset <i>$this</i> inside an object
    method since PHP 5.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    When using <span class="function"><b>unset()</b></span> on inaccessible object properties,
    the <a href="language.oop5.overloading.html#object.unset" class="link">__unset()</a>
    overloading method will be called, if declared.
   </p>
  </p></blockquote>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.unset-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.isset.html" class="function" rel="rdfs-seeAlso">isset()</a> - Determine if a variable is set and is not NULL</span></li>
    <li class="member"><span class="function"><a href="function.empty.html" class="function" rel="rdfs-seeAlso">empty()</a> - Determine whether a variable is empty</span></li>
    <li class="member"><a href="language.oop5.overloading.html#object.unset" class="link">__unset()</a></li>
    <li class="member"><span class="function"><a href="function.array-splice.html" class="function" rel="rdfs-seeAlso">array_splice()</a> - Remove a portion of the array and replace it with something else</span></li>
   </ul>
  </p>
 </div>


</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="105980""></a>
  <div class="note">
   <strong class="user">pfreilly at umd dot umich dot edu</strong>
   <a href="#105980" class="date">29-Sep-2011 04:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Despite much searching, I have not yet found an explanation as to how one can manually free resources from variables, not so much objects, in PHP.&nbsp; I have also seen many comments regarding the merits and demerits of unset() versus setting a variable to null.&nbsp; Thus, here are the results of some benchmarks performed comparing unset() of numerous variables to setting them to null (with regards to memory usage and processing time):<br />
<br />
10 variables:<br />
Unset:<br />
Memory Usage: 296<br />
Time Elapsed: 1.0013580322266E-5<br />
<br />
Null set:<br />
Memory Usage: 1736<br />
Time Elapsed: 5.9604644775391E-6<br />
<br />
50 variables:<br />
Unset:<br />
Memory Usage: 296<br />
Time Elapsed: 3.6001205444336E-5<br />
<br />
Null set:<br />
Memory Usage: 8328<br />
Time Elapsed: 3.2901763916016E-5<br />
<br />
100 variables:<br />
Unset:<br />
Memory Usage: 296<br />
Time Elapsed: 5.6982040405273E-5<br />
<br />
Null set:<br />
Memory Usage: 15928<br />
Time Elapsed: 5.8174133300781E-5<br />
<br />
1000 variables:<br />
Unset:<br />
Memory Usage: 296<br />
Time Elapsed: 0.00041294097900391<br />
<br />
Null set:<br />
Memory Usage: 168096<br />
Time Elapsed: 0.00067591667175293<br />
<br />
10000 variables:<br />
Unset:<br />
Memory Usage: 296<br />
Time Elapsed: 0.0042569637298584<br />
<br />
Null set:<br />
Memory Usage: 1650848<br />
Time Elapsed: 0.0076930522918701<br />
<br />
100000 variables:<br />
Unset:<br />
Memory Usage: 296<br />
Time Elapsed: 0.042603969573975<br />
<br />
Null set:<br />
Memory Usage: 16249080<br />
Time Elapsed: 0.087724924087524<br />
<br />
300000 variables:<br />
Unset:<br />
Memory Usage: 296<br />
Time Elapsed: 0.13177299499512<br />
<br />
Null set:<br />
Memory Usage: 49796320<br />
Time Elapsed: 0.28617882728577<br />
<br />
Perhaps my test code for the null set was flawed, but despite that possibility it is simple to see that unset() has minimal processing time impact, and no apparent memory usage impact (unless the values returned by memory_get_usage() are flawed).&nbsp; If you truly care about the ~4 microseconds saved over &lt;50 variables, more power to you.&nbsp; Otherwise, use unset() to minimize script impact on your system.<br />
Note: Tested on PHP 5.3.8 installed via RPM on Fedora 14</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104088""></a>
  <div class="note">
   <strong class="user">Metasansana</strong>
   <a href="#104088" class="date">21-May-2011 09:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple function to unset unwanted keys in an array:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $a </span><span class="keyword">= array(</span><span class="string">"A"</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">, </span><span class="string">"B"</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">, </span><span class="string">"C"</span><span class="keyword">=&gt;</span><span class="string">"a"</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">=&gt;&amp;</span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This should print:&nbsp; A=1 B=2.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100096""></a>
  <div class="note">
   <strong class="user">edouard dot berge at gmail dot com</strong>
   <a href="#100096" class="date">24-Sep-2010 09:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Warning!<br />
<br />
When unset from an array, if you unset all elements, the array is always set<br />
<br />
$tab=array('A'=&gt;1,'B'=&gt;2);<br />
unset($tab['A']);<br />
unset($tab['B']);<br />
echo isset($tab)." ".count($tab);<br />
<br />
output: 1 0</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100090""></a>
  <div class="note">
   <strong class="user">Andreas</strong>
   <a href="#100090" class="date">24-Sep-2010 05:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can not unset a numeric key of an array, if key is a string. See this example:<br />
<br />
// Create a simple array with 3 different key types<br />
$test[1] = array(<br />
&nbsp;&nbsp;&nbsp; 10 =&gt; array('apples'),<br />
&nbsp;&nbsp;&nbsp; "20" =&gt; array('bananas'),<br />
&nbsp;&nbsp;&nbsp; '30' =&gt; array('peaches')<br />
);<br />
$test[2] = (array) json_decode(json_encode($test[1]));<br />
$test[3] = (array) (object) $test[1];<br />
// array form a stdClass object<br />
$testClass = new stdClass();<br />
$testClass-&gt;{10} =&nbsp; array('apples');<br />
$testClass-&gt;{"20"} =&nbsp; array('bananas');<br />
$test[4] = (array) $testClass[6];<br />
<br />
echo "&lt;pre&gt;";<br />
foreach($test as $testNum =&gt; $arr) {<br />
<br />
&nbsp;&nbsp;&nbsp; echo "\nTest: " . $testNum&nbsp; . " \n";<br />
&nbsp;&nbsp;&nbsp; var_dump($arr);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach($arr as $key =&gt; $fruit) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo "key: " . $key . "\n";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo "key exists: ";<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; var_dump(array_key_exists(strval($key), $arr));<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo "typeof key is: " . gettype($key) . "\n";<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; unset($arr[$key]);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; var_dump($arr);<br />
&nbsp;&nbsp;&nbsp; echo "\n" . str_repeat("-", 80);<br />
}<br />
echo "&lt;/pre&gt;";<br />
<br />
And here is the output:<br />
<br />
Test: 1 <br />
array(3) {<br />
&nbsp; [10]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(6) "apples"<br />
&nbsp; }<br />
&nbsp; [20]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(7) "bananas"<br />
&nbsp; }<br />
&nbsp; [30]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(7) "peaches"<br />
&nbsp; }<br />
}<br />
key: 10<br />
key exists: bool(true)<br />
typeof key is: integer<br />
key: 20<br />
key exists: bool(true)<br />
typeof key is: integer<br />
key: 30<br />
key exists: bool(true)<br />
typeof key is: integer<br />
array(0) {<br />
}<br />
<br />
--------------------------------------------------------------<br />
Test: 2 <br />
array(3) {<br />
&nbsp; ["10"]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(6) "apples"<br />
&nbsp; }<br />
&nbsp; ["20"]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(7) "bananas"<br />
&nbsp; }<br />
&nbsp; ["30"]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(7) "peaches"<br />
&nbsp; }<br />
}<br />
key: 10<br />
key exists: bool(false)<br />
typeof key is: string<br />
key: 20<br />
key exists: bool(false)<br />
typeof key is: string<br />
key: 30<br />
key exists: bool(false)<br />
typeof key is: string<br />
array(3) {<br />
&nbsp; ["10"]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(6) "apples"<br />
&nbsp; }<br />
&nbsp; ["20"]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(7) "bananas"<br />
&nbsp; }<br />
&nbsp; ["30"]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(7) "peaches"<br />
&nbsp; }<br />
}<br />
<br />
--------------------------------------------------------------<br />
Test: 3 <br />
array(3) {<br />
&nbsp; [10]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(6) "apples"<br />
&nbsp; }<br />
&nbsp; [20]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(7) "bananas"<br />
&nbsp; }<br />
&nbsp; [30]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(7) "peaches"<br />
&nbsp; }<br />
}<br />
key: 10<br />
key exists: bool(true)<br />
typeof key is: integer<br />
key: 20<br />
key exists: bool(true)<br />
typeof key is: integer<br />
key: 30<br />
key exists: bool(true)<br />
typeof key is: integer<br />
array(0) {<br />
}<br />
<br />
--------------------------------------------------------------<br />
Test: 4 <br />
array(2) {<br />
&nbsp; ["10"]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(6) "apples"<br />
&nbsp; }<br />
&nbsp; ["20"]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(7) "bananas"<br />
&nbsp; }<br />
}<br />
key: 10<br />
key exists: bool(false)<br />
typeof key is: string<br />
key: 20<br />
key exists: bool(false)<br />
typeof key is: string<br />
array(2) {<br />
&nbsp; ["10"]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(6) "apples"<br />
&nbsp; }<br />
&nbsp; ["20"]=&gt;<br />
&nbsp; array(1) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; string(7) "bananas"<br />
&nbsp; }<br />
}<br />
<br />
--------------------------------------------------------------<br />
<br />
Fix the problem with a rebuild of the array:<br />
$oldArray = $array();<br />
$array = array();<br />
foreach($oldArray as $key =&gt; $item) {<br />
&nbsp;&nbsp;&nbsp; $array[intval($key)] = $item;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99607""></a>
  <div class="note">
   <strong class="user">j dot vd dot merwe at enovision dot net</strong>
   <a href="#99607" class="date">26-Aug-2010 05:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A sample how to unset array elements from an array result coming from a mysql request. In this sample it is checking if a file exists and removes the row from the array if it not exists.<br />
<br />
<span class="default">&lt;?php<br />
$db</span><span class="keyword">-&gt;</span><span class="default">set_query</span><span class="keyword">(</span><span class="string">"select * from documents where document_in_user = 0"</span><span class="keyword">); </span><span class="comment">//1&nbsp; <br />
</span><span class="default">$documents </span><span class="keyword">= </span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">result_to_array</span><span class="keyword">(</span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">get_result</span><span class="keyword">()); </span><span class="comment">//1<br />
<br />
</span><span class="keyword">foreach (</span><span class="default">$documents </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$row</span><span class="keyword">) { </span><span class="comment">//2<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$file&nbsp; &nbsp;&nbsp; </span><span class="keyword">= </span><span class="string">"uploads/"</span><span class="keyword">.</span><span class="default">rawurldecode</span><span class="keyword">(</span><span class="default">$row</span><span class="keyword">[</span><span class="string">'document_name'</span><span class="keyword">]);<br />
&nbsp; <br />
&nbsp;&nbsp;&nbsp; if ( </span><span class="default">file_exists </span><span class="keyword">( </span><span class="default">$file </span><span class="keyword">) == </span><span class="default">FALSE </span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; unset(</span><span class="default">$documents</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);&nbsp; </span><span class="comment">//3<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}&nbsp; <br />
}<br />
<br />
</span><span class="default">$documents </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$documents</span><span class="keyword">); </span><span class="comment">// reindex the array (4)<br />
</span><span class="default">?&gt;<br />
</span><br />
variables:<br />
mysql table = documents,<br />
array = $documents<br />
array key (index) = $key<br />
array row (record sort of speak) = $row<br />
<br />
explanation:<br />
<br />
1. <br />
it gets the array from the table (mysql)<br />
<br />
2. <br />
foreach goes through the array $documents<br />
<br />
3. <br />
unset if record does not exist<br />
<br />
4.<br />
the array_values($documents) reindexes the $documents array, for otherwise you might end up in trouble when your&nbsp; process will start expecting an array starting with key ($key) 0 (zero).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98719""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#98719" class="date">02-Jul-2010 07:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
further I realized that an object, when getting detroyed, does care about destroying variable in object space visibility but not those in local visibility, be aware of the found pattern:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">release_test</span><span class="keyword">{<br />
&nbsp; private </span><span class="default">$buffer</span><span class="keyword">;<br />
&nbsp; private </span><span class="default">$other_object</span><span class="keyword">;<br />
&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">other_object</span><span class="keyword">=new </span><span class="default">other_object_class</span><span class="keyword">();<br />
&nbsp; }<br />
&nbsp; public function </span><span class="default">__destruct</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//note that you always have to unset class objects, in order to get the resources released<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">unset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">other_object</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; public </span><span class="default">allocate_mem_A</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">buffer</span><span class="keyword">=</span><span class="default">file</span><span class="keyword">(</span><span class="string">"/tmp/bigfile"</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; public </span><span class="default">allocate_mem_B</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$buffer</span><span class="keyword">=</span><span class="default">file</span><span class="keyword">(</span><span class="string">"/tmp/bigfile"</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; public </span><span class="default">allocate_mem_C</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$buffer</span><span class="keyword">=</span><span class="default">file</span><span class="keyword">(</span><span class="string">"/tmp/bigfile"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$buffer</span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; public </span><span class="default">allocate_mem_D</span><span class="keyword">(){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">other_buffer</span><span class="keyword">=</span><span class="default">file</span><span class="keyword">(</span><span class="string">"/tmp/bigfile"</span><span class="keyword">);<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="comment">//this does not lead to a resource problem<br />
</span><span class="default">$A</span><span class="keyword">=new </span><span class="default">release_test</span><span class="keyword">();<br />
</span><span class="default">$A</span><span class="keyword">-&gt;</span><span class="default">allocate_mem_A</span><span class="keyword">();<br />
</span><span class="default">$A</span><span class="keyword">-&gt;</span><span class="default">__destruct</span><span class="keyword">();<br />
unset(</span><span class="default">$A</span><span class="keyword">);<br />
<br />
</span><span class="comment">//this DOES lead to a resource problem<br />
</span><span class="default">$B</span><span class="keyword">=new </span><span class="default">release_test</span><span class="keyword">();<br />
</span><span class="default">$B</span><span class="keyword">-&gt;</span><span class="default">allocate_mem_B</span><span class="keyword">();<br />
</span><span class="default">$B</span><span class="keyword">-&gt;</span><span class="default">__destruct</span><span class="keyword">();<br />
unset(</span><span class="default">$B</span><span class="keyword">);<br />
<br />
</span><span class="comment">//this does not lead to a resource problem<br />
</span><span class="default">$C</span><span class="keyword">=new </span><span class="default">release_test</span><span class="keyword">();<br />
</span><span class="default">$C</span><span class="keyword">-&gt;</span><span class="default">allocate_mem_C</span><span class="keyword">();<br />
</span><span class="default">$C</span><span class="keyword">-&gt;</span><span class="default">__destruct</span><span class="keyword">();<br />
unset(</span><span class="default">$C</span><span class="keyword">);<br />
<br />
</span><span class="comment">//this does not lead to a resource problem<br />
</span><span class="default">$D</span><span class="keyword">=new </span><span class="default">release_test</span><span class="keyword">();<br />
</span><span class="default">$D</span><span class="keyword">-&gt;</span><span class="default">allocate_mem_D</span><span class="keyword">();<br />
</span><span class="default">$D</span><span class="keyword">-&gt;</span><span class="default">__destruct</span><span class="keyword">();<br />
unset(</span><span class="default">$D</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98692""></a>
  <div class="note">
   <strong class="user">alex at bartl dot net</strong>
   <a href="#98692" class="date">30-Jun-2010 10:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
unset($class_object) does not release resources allocated by the object. If used in loops, which create and destroy objects, that might easily lead to a resource problem. Explicitly call the destructor to circumvent the problem.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//this causes a resource problem<br />
</span><span class="keyword">for(</span><span class="default">$f</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$f</span><span class="keyword">&lt;</span><span class="default">10000</span><span class="keyword">;</span><span class="default">$f</span><span class="keyword">++){<br />
&nbsp; </span><span class="default">$my_class_object</span><span class="keyword">=new </span><span class="default">my_class_name</span><span class="keyword">();<br />
&nbsp; unset(</span><span class="default">$my_class_object</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="comment">//this releases the resources allocate by the object<br />
</span><span class="keyword">for(</span><span class="default">$f</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$f</span><span class="keyword">&lt;</span><span class="default">10000</span><span class="keyword">;</span><span class="default">$f</span><span class="keyword">++){<br />
&nbsp; </span><span class="default">$my_class_object</span><span class="keyword">=new </span><span class="default">my_class_name</span><span class="keyword">();<br />
&nbsp; </span><span class="default">$my_class_object</span><span class="keyword">-&gt;</span><span class="default">__destruct</span><span class="keyword">();<br />
&nbsp; unset(</span><span class="default">$my_class_object</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97469""></a>
  <div class="note">
   <strong class="user">alexanderashleyboese at gmail dot com</strong>
   <a href="#97469" class="date">21-Apr-2010 11:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have noticed that sometimes if you have a globally declared instantiation of a class, unsetting that instance does not always call destruct like you think it should.<br />
<br />
For instance, something like this might actually call the destruct later than implied by the "unset":<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Data </span><span class="keyword">{<br />
<br />
public function </span><span class="default">__destruct</span><span class="keyword">() {<br />
echo </span><span class="string">"These are my last words..."</span><span class="keyword">;<br />
}<br />
<br />
}<br />
<br />
function </span><span class="default">main</span><span class="keyword">(){<br />
</span><span class="default">$data </span><span class="keyword">= new </span><span class="default">Data</span><span class="keyword">;<br />
</span><span class="default">one</span><span class="keyword">();<br />
</span><span class="default">two</span><span class="keyword">();<br />
}<br />
<br />
function </span><span class="default">one </span><span class="keyword">()<br />
{<br />
global </span><span class="default">$data</span><span class="keyword">;<br />
echo </span><span class="string">"Running 1st"</span><span class="keyword">;<br />
unset(</span><span class="default">$data</span><span class="keyword">);<br />
}<br />
<br />
function </span><span class="default">two</span><span class="keyword">()<br />
{<br />
echo </span><span class="string">"Running 2nd"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">main</span><span class="keyword">();<br />
<br />
</span><span class="comment">//"Running 1stRunning 2ndThese are my last words..."<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96430""></a>
  <div class="note">
   <strong class="user">phpmanual at kennel17 dot co dot uk</strong>
   <a href="#96430" class="date">26-Feb-2010 08:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that PHP 4 will generate a warning if you try to unset an array index that doesn't exist and whose parent doesn't exist.<br />
<br />
Example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp; $foo </span><span class="keyword">= array();<br />
<br />
&nbsp; unset(</span><span class="default">$foo</span><span class="keyword">[</span><span class="string">'Bar'</span><span class="keyword">][</span><span class="string">'Baz'</span><span class="keyword">]);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
RESULT: "Notice:&nbsp; Undefined index:&nbsp; Bar"<br />
<br />
On PHP5 no error is raised, which seems to me like the correct behaviour.<br />
<br />
Note that using unset($foo['Bar']) in the above example does not generate a warning in either version.<br />
<br />
(Tested on 4.4.9 and 5.2.4)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93438""></a>
  <div class="note">
   <strong class="user">obsidianproject.co.uk</strong>
   <a href="#93438" class="date">09-Sep-2009 06:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A quick note on (unset) vs unset().<br />
<br />
<span class="default">&lt;?php<br />
$a</span><span class="keyword">=</span><span class="string">"test"</span><span class="keyword">;<br />
unset(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>will return <br />
<br />
Notice: Undefined variable: a<br />
NULL<br />
<br />
<span class="default">&lt;?php<br />
$a</span><span class="keyword">=</span><span class="string">"test"</span><span class="keyword">;<br />
</span><span class="default">var_dump</span><span class="keyword">((unset) </span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>will return <br />
<br />
NULL<br />
<br />
When using unset() php will throw an E_NOTICE if you try and access the variable after it has been unset, (unset) won't. <br />
<br />
This has been tested in PHP 5.3.0</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90477""></a>
  <div class="note">
   <strong class="user">David Sawyer, Metaface Development</strong>
   <a href="#90477" class="date">23-Apr-2009 09:26</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a simple function to remove a variable from an HTTP Query String:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">unset_query_string_var</span><span class="keyword">(</span><span class="default">$varname</span><span class="keyword">,</span><span class="default">$query_string</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$query_array </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">parse_str</span><span class="keyword">(</span><span class="default">$query_string</span><span class="keyword">,</span><span class="default">$query_array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$query_array</span><span class="keyword">[</span><span class="default">$varname</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$query_string </span><span class="keyword">= </span><span class="default">http_build_query</span><span class="keyword">(</span><span class="default">$query_array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$query_string</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
----------------------------<br />
<br />
Example Usage #1:<br />
Let's say you want to remove the variable "fruit" from $page_url below...<br />
<br />
<span class="default">&lt;?php<br />
$page_url </span><span class="keyword">= </span><span class="string">"<a href="http://www.example.com/script.php?fruit=apple&amp;color=red" rel="nofollow" target="_blank">http://www.example.com/script.php?fruit=apple&amp;color=red</a>"</span><span class="keyword">;<br />
</span><span class="default">$url_data </span><span class="keyword">= </span><span class="default">parse_url</span><span class="keyword">(</span><span class="default">$page_url</span><span class="keyword">);<br />
</span><span class="default">$query_string </span><span class="keyword">= </span><span class="default">unset_query_string_var</span><span class="keyword">(</span><span class="string">"fruit"</span><span class="keyword">,</span><span class="default">$url_data</span><span class="keyword">[</span><span class="string">'query'</span><span class="keyword">]);<br />
</span><span class="default">$page_url_new </span><span class="keyword">= </span><span class="default">$url_data</span><span class="keyword">[</span><span class="string">'scheme'</span><span class="keyword">].</span><span class="string">'://'</span><span class="keyword">.</span><span class="default">$url_data</span><span class="keyword">[</span><span class="string">'host'</span><span class="keyword">].</span><span class="default">$url_data</span><span class="keyword">[</span><span class="string">'path'</span><span class="keyword">];<br />
if (!empty(</span><span class="default">$query_string</span><span class="keyword">)) </span><span class="default">$page_url_new </span><span class="keyword">.= </span><span class="string">'?'</span><span class="keyword">.</span><span class="default">$query_string</span><span class="keyword">;<br />
</span><span class="default">$page_url_new </span><span class="keyword">.= </span><span class="default">$url_data</span><span class="keyword">[</span><span class="string">'fragment'</span><span class="keyword">];<br />
print </span><span class="default">$page_url_new</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
<a href="http://www.example.com/script.php?color=red" rel="nofollow" target="_blank">http://www.example.com/script.php?color=red</a><br />
<br />
----------------------------<br />
<br />
Example Usage #2:<br />
To remove the variable "q" from the query string of the current page, try something like...<br />
<br />
<span class="default">&lt;?php<br />
<br />
$page_url </span><span class="keyword">= </span><span class="string">'<a href="http://" rel="nofollow" target="_blank">http://</a>'</span><span class="keyword">.</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">"SERVER_NAME"</span><span class="keyword">].</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">];<br />
</span><span class="default">$query_string </span><span class="keyword">= </span><span class="default">unset_query_string_var</span><span class="keyword">(</span><span class="string">"q"</span><span class="keyword">,</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">"QUERY_STRING"</span><span class="keyword">]);&nbsp; &nbsp; <br />
if (!empty(</span><span class="default">$query_string</span><span class="keyword">)) </span><span class="default">$page_url </span><span class="keyword">.= </span><span class="string">'?'</span><span class="keyword">.</span><span class="default">$query_string</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89881""></a>
  <div class="note">
   <strong class="user">macnimble at gmail dot com</strong>
   <a href="#89881" class="date">26-Mar-2009 02:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Two ways of unsetting values within an array:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment"># remove by key:<br />
</span><span class="keyword">function </span><span class="default">array_remove_key </span><span class="keyword">()<br />
{<br />
&nbsp; </span><span class="default">$args&nbsp; </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp; return </span><span class="default">array_diff_key</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],</span><span class="default">array_flip</span><span class="keyword">(</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)));<br />
}<br />
</span><span class="comment"># remove by value:<br />
</span><span class="keyword">function </span><span class="default">array_remove_value </span><span class="keyword">()<br />
{<br />
&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp; return </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">],</span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="default">$fruit_inventory </span><span class="keyword">= array(<br />
&nbsp; </span><span class="string">'apples' </span><span class="keyword">=&gt; </span><span class="default">52</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'bananas' </span><span class="keyword">=&gt; </span><span class="default">78</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'peaches' </span><span class="keyword">=&gt; </span><span class="string">'out of season'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'pears' </span><span class="keyword">=&gt; </span><span class="string">'out of season'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'oranges' </span><span class="keyword">=&gt; </span><span class="string">'no longer sold'</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'carrots' </span><span class="keyword">=&gt; </span><span class="default">15</span><span class="keyword">,<br />
&nbsp; </span><span class="string">'beets' </span><span class="keyword">=&gt; </span><span class="default">15</span><span class="keyword">,<br />
);<br />
<br />
echo </span><span class="string">"&lt;pre&gt;Original Array:\n"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$fruit_inventory</span><span class="keyword">,</span><span class="default">TRUE</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="comment"># For example, beets and carrots are not fruits...<br />
</span><span class="default">$fruit_inventory </span><span class="keyword">= </span><span class="default">array_remove_key</span><span class="keyword">(</span><span class="default">$fruit_inventory</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"beets"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"carrots"</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;pre&gt;Array after key removal:\n"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$fruit_inventory</span><span class="keyword">,</span><span class="default">TRUE</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="comment"># Let's also remove 'out of season' and 'no longer sold' fruit...<br />
</span><span class="default">$fruit_inventory </span><span class="keyword">= </span><span class="default">array_remove_value</span><span class="keyword">(</span><span class="default">$fruit_inventory</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"out of season"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"no longer sold"</span><span class="keyword">);<br />
echo </span><span class="string">"&lt;pre&gt;Array after value removal:\n"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$fruit_inventory</span><span class="keyword">,</span><span class="default">TRUE</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; </span><span class="string">'&lt;/pre&gt;'</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86954""></a>
  <div class="note">
   <strong class="user">lion_cat at mail ru</strong>
   <a href="#86954" class="date">12-Nov-2008 02:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
about unset for arrays<br />
<br />
if you unset the last array member <br />
$ar[0]==2<br />
$ar[1]==7<br />
$ar[2]==9<br />
<br />
unset ($ar[2])<br />
<br />
after addition a new member by $ar[]=7,<br />
<br />
you will get <br />
$ar[0]==2<br />
$ar[1]==7<br />
$ar[3]==7,<br />
<br />
So, unset has no effect to internal array counter!!!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86816""></a>
  <div class="note">
   <strong class="user">thijs NOSPACE putman at gmail dot com</strong>
   <a href="#86816" class="date">04-Nov-2008 05:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"It is possible to unset even object properties visible in current context"<br />
<br />
Although the note is clear, in my case it required a little example to grasp its full impact:<br />
<br />
If your object uses overloaded properties (using the "__set()" magic method) and you unset one of your "real" properties, the "__set()" method will take over if you try to assign a value to this property again. <br />
In most cases, the "__set()" method is very much limited in the properties it can set. In my case, I only allow "__set()" to change a limited, predefined, set of properties. Most of them through their "public" name instead of their actual name...<br />
<br />
This generates a somewhat counter-intuitive situation: If you unset a variable, you expect its value to become "null", which remains true. You also expect to be able to set it again to another value.<br />
In the example described above this is not the case: The "__get()" method is invoked and, in my case, doesn't allow the property to be set again!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86347""></a>
  <div class="note">
   <strong class="user">molotster on google mail com</strong>
   <a href="#86347" class="date">14-Oct-2008 05:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
unset() does just what it's name says - unset a variable. It does not force immediate memory freeing. PHP's garbage collector will do it when it see fits - by intention as soon, as those CPU cycles aren't needed anyway, or as late as before the script would run out of memory, whatever occurs first.<br />
<br />
If you are doing $whatever = null; then you are rewriting variable's data. You might get memory freed / shrunk faster, but it may steal CPU cycles from the code that truly needs them sooner, resulting in a longer overall execution time.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84911""></a>
  <div class="note">
   <strong class="user">nox at oreigon dot de</strong>
   <a href="#84911" class="date">05-Aug-2008 12:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you try to unset an object, please be careful about references.<br />
<br />
Objects will only free their resources and trigger their __destruct method when *all* references are unsetted.<br />
Even when they are *in* the object... sigh!<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp; function </span><span class="default">__destruct</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"cYa later!!\n"</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">$a </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">();<br />
</span><span class="default">$a </span><span class="keyword">-&gt; </span><span class="default">a </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">;<br />
</span><span class="comment">#unset($a); # Just uncomment, and you'll see<br />
<br />
</span><span class="keyword">echo </span><span class="string">"No Message ... hm, what now?\n"</span><span class="keyword">;<br />
unset(</span><span class="default">$a </span><span class="keyword">-&gt; </span><span class="default">a</span><span class="keyword">);<br />
unset(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"Finally that thing is gone\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Of course the object completely dies at the end of the script.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81882""></a>
  <div class="note">
   <strong class="user">stacionari at gmail dot com</strong>
   <a href="#81882" class="date">17-Mar-2008 01:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Sometimes you need to assigne values to an array index in some loop (if, while, foreach etc.) but you wish to set starting index key to some number greater then zero (lets say 5). One idea how to do this is:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $values </span><span class="keyword">= array(</span><span class="default">5</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="default">15</span><span class="keyword">, </span><span class="default">100</span><span class="keyword">);&nbsp; </span><span class="comment">//array of values that we wish to add to our new array<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$myArray </span><span class="keyword">= array(</span><span class="default">4</span><span class="keyword">=&gt;</span><span class="default">0</span><span class="keyword">);&nbsp;&nbsp; </span><span class="comment">//sets starting key to be 4 and assigns some value (lets say 0) <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">unset(</span><span class="default">$myArray</span><span class="keyword">[</span><span class="default">4</span><span class="keyword">]);&nbsp;&nbsp; </span><span class="comment">//delete this index key, but preserves further enumeration <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$values </span><span class="keyword">as </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$myArray</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;&nbsp;&nbsp; </span><span class="comment">//asign values to our array<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$myArray</span><span class="keyword">);<br />
<br />
</span><span class="comment">/* Output:<br />
<br />
Array ( [5] =&gt; 5 [6] =&gt; 10 [7] =&gt; 15 [8] =&gt; 100 ) <br />
<br />
*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81839""></a>
  <div class="note">
   <strong class="user">pauljamescampbell at gmail dot com</strong>
   <a href="#81839" class="date">15-Mar-2008 05:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's my variation on the slightly dull unset method. It throws in a bit of 80's Stallone action spice into the mix. Enjoy!<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* function rambo (first blood)<br />
&nbsp;*<br />
&nbsp;* Completely and utterly destroys everything, returning the kill count of victims<br />
&nbsp;*<br />
&nbsp;* @param&nbsp; &nbsp; It don't matter, its Rambo baby<br />
&nbsp;* @return&nbsp; &nbsp; Integer&nbsp; &nbsp; Body count (but any less than 500 and it's not really worth mentioning)<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">rambo</span><span class="keyword">() {<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Get the victims and initiate that body count status<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$victims </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$body_count </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Kill those damn punks<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$victims </span><span class="keyword">as </span><span class="default">$victim</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$death_and_suffering </span><span class="keyword">= @unset(</span><span class="default">$victim</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$body_count</span><span class="keyword">++;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// How many kills did Rambo tally up on this mission?<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return(</span><span class="default">$body_count</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81702""></a>
  <div class="note">
   <strong class="user">Kai Kunstmann</strong>
   <a href="#81702" class="date">10-Mar-2008 05:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since unset() is a language construct, it cannot be passed anything other than a variable. It's sole purpose is to "unset" this variable, ie. to remove it from the current scope and destroy it's associated data. This is true especially for reference variables, where not the actual value is destroyed but the reference to that value. This is why you can't wrap 'unset()' in a user defined function: You would either unset a copy of the data if the parameter is passed by value, or you would just unset the reference variable within the functions scope if the parameter is passed by reference. There is no workaround for that, as you cannot pass 'scope' to a function in PHP. Such a function can only work for variables that exist in a common or global scope (compare 'unset($_GLOBALS[variable])').<br />
<br />
I don't know how PHP handles garbage collection internally, but I guess this behavior can result in a huge memory leak: if a value variable goes out of scope with a second variable still holding a reference to the in-memory value, then unsetting that reference would still hold the value in memory but potentially unset the last reference to that in-memory data, hence: occupied memory that is rendered useless as you cannot reference it anymore.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80266""></a>
  <div class="note">
   <strong class="user">levitating at gmail dot com</strong>
   <a href="#80266" class="date">07-Jan-2008 04:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
&gt;&gt; shame, but it doesn't seem to pop the stack.<br />
<br />
There is a simple solution to that. Delete the value, then use array_merge() on your array:<br />
<br />
<span class="default">&lt;?php $folders</span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$folders</span><span class="keyword">) ; </span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78516""></a>
  <div class="note">
   <strong class="user">Maresa</strong>
   <a href="#78516" class="date">15-Oct-2007 05:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that since unset() returns void, you can't do this:<br />
<br />
isset($some_var) &amp;&amp; unset($some_var);<br />
<br />
You'll get: Parse error: syntax error, unexpected T_UNSET in ...<br />
<br />
The reason is because it would parse as<br />
&lt;bool&gt; &amp;&amp; &lt;void&gt;;<br />
which is not a valid PHP statement.<br />
<br />
Thus, the only alternative is to actually use if statement.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77926""></a>
  <div class="note">
   <strong class="user">gerry+phpnet at buzka dot com</strong>
   <a href="#77926" class="date">19-Sep-2007 09:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Quote from <a href="http://fr.php.net/session_unset" rel="nofollow" target="_blank">http://fr.php.net/session_unset</a><br />
<br />
"Do NOT unset the whole $_SESSION with unset($_SESSION) as this will disable the registering of session variables through the $_SESSION superglobal."<br />
<br />
So basically don't do:<br />
unset($_SESSION)<br />
<br />
Instead do:<br />
$_SESSION = array();</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77310""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#77310" class="date">23-Aug-2007 09:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In regard to some confusion earlier in these notes about what causes unset() to trigger notices when unsetting variables that don't exist....<br />
<br />
Unsetting variables that don't exist, as in <br />
<span class="default">&lt;?php<br />
</span><span class="keyword">unset(</span><span class="default">$undefinedVariable</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>does not trigger an "Undefined variable" notice. But<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">unset(</span><span class="default">$undefinedArray</span><span class="keyword">[</span><span class="default">$undefinedKey</span><span class="keyword">]);<br />
</span><span class="default">?&gt;<br />
</span>triggers two notices, because this code is for unsetting an element of an array; neither $undefinedArray nor $undefinedKey are themselves being unset, they're merely being used to locate what should be unset. After all, if they did exist, you'd still expect them to both be around afterwards. You would NOT want your entire array to disappear just because you unset() one of its elements!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76482""></a>
  <div class="note">
   <strong class="user">Sinured</strong>
   <a href="#76482" class="date">17-Jul-2007 09:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The main difference between <span class="default">&lt;?php </span><span class="keyword">unset(</span><span class="default">$var</span><span class="keyword">);</span><span class="default">?&gt;</span> and <span class="default">&lt;?php $var </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;</span><span class="default">?&gt;</span> is, that unset() will reset the state to $var to something like "not set at all".<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// register_globals = Off<br />
</span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
echo </span><span class="default">$var</span><span class="keyword">; </span><span class="comment">// Notice<br />
<br />
</span><span class="default">$var </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
echo </span><span class="default">$var</span><span class="keyword">; </span><span class="comment">// Nothing<br />
<br />
</span><span class="keyword">unset(</span><span class="default">$var</span><span class="keyword">);<br />
echo </span><span class="default">$var</span><span class="keyword">; </span><span class="comment">// Notice<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75843""></a>
  <div class="note">
   <strong class="user">chris at maedata dot com</strong>
   <a href="#75843" class="date">18-Jun-2007 10:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding the 14-May-2007 note from anonymous:<br />
<br />
As far as array elements go, unset() is really only useful for removing named keys. For numeric keys, you can use array_splice to "unset" the element.<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= array(<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'foo' </span><span class="keyword">=&gt; array(</span><span class="string">'a'</span><span class="keyword">, </span><span class="string">'b'</span><span class="keyword">, </span><span class="string">'c'</span><span class="keyword">),<br />
&nbsp;&nbsp;&nbsp; </span><span class="string">'bar' </span><span class="keyword">=&gt; array(</span><span class="string">'d'</span><span class="keyword">, </span><span class="string">'e'</span><span class="keyword">, </span><span class="string">'f'</span><span class="keyword">)<br />
);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
</span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">'foo'</span><span class="keyword">], </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
<br />
unset(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">'foo'</span><span class="keyword">]);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75464""></a>
  <div class="note">
   <strong class="user">chad 0x40 herballure 0x2e com</strong>
   <a href="#75464" class="date">31-May-2007 07:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is observed on PHP 5.1.6 that <span class="default">&lt;?php </span><span class="keyword">unset(</span><span class="default">$this</span><span class="keyword">); </span><span class="default">?&gt;</span> inside of a method will remove the reference to $this in that method. $this isn't considered "special" as far as unset() is concerned.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75141""></a>
  <div class="note">
   
   <a href="#75141" class="date">14-May-2007 10:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
shame, but it doesn't seem to pop the stack.<br />
<br />
Array( [1\=&gt;1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; [2\=&gt;2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; [3\=&gt;3<br />
)<br />
<br />
then unset($array[2\)<br />
<br />
results in:<br />
<br />
Array( [1\=&gt;1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; [3\=&gt;3<br />
)<br />
<br />
not<br />
<br />
Array( [1\=&gt;1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; [2\=&gt;3<br />
)<br />
<br />
Shame really</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74170""></a>
  <div class="note">
   <strong class="user">RQuadling at GMail dot com</strong>
   <a href="#74170" class="date">28-Mar-2007 05:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to remove a value from an array, then there is no direct mechanism.<br />
<br />
The following function uses the array_keys() function to find the key(s) of the value that you want to remove and then removes the elements for that key.<br />
<br />
I've also given some examples and the output.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp; * array array_remove ( array input, mixed search_value [, bool strict] )<br />
&nbsp; **/<br />
</span><span class="keyword">function </span><span class="default">array_remove</span><span class="keyword">(array &amp;</span><span class="default">$a_Input</span><span class="keyword">, </span><span class="default">$m_SearchValue</span><span class="keyword">, </span><span class="default">$b_Strict </span><span class="keyword">= </span><span class="default">False</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a_Keys </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$a_Input</span><span class="keyword">, </span><span class="default">$m_SearchValue</span><span class="keyword">, </span><span class="default">$b_Strict</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$a_Keys </span><span class="keyword">as </span><span class="default">$s_Key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$a_Input</span><span class="keyword">[</span><span class="default">$s_Key</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$a_Input</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Beside scalar variables (integers, floats, strings, boolean), you can also use arrays as the values you want to remove.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Results in array(8, 8.0, '8', '8.0')<br />
</span><span class="default">array_remove</span><span class="keyword">(array(</span><span class="default">8</span><span class="keyword">, </span><span class="default">8.0</span><span class="keyword">, </span><span class="string">'8'</span><span class="keyword">, </span><span class="string">'8.0'</span><span class="keyword">, array(</span><span class="default">8</span><span class="keyword">), array(</span><span class="string">'8'</span><span class="keyword">)), array(</span><span class="default">8</span><span class="keyword">));<br />
<br />
</span><span class="comment">// Results in array(8, 8.0, '8', '8.0', array('8'))<br />
</span><span class="default">array_remove</span><span class="keyword">(array(</span><span class="default">8</span><span class="keyword">, </span><span class="default">8.0</span><span class="keyword">, </span><span class="string">'8'</span><span class="keyword">, </span><span class="string">'8.0'</span><span class="keyword">, array(</span><span class="default">8</span><span class="keyword">), array(</span><span class="string">'8'</span><span class="keyword">)), array(</span><span class="default">8</span><span class="keyword">), </span><span class="default">True</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73117""></a>
  <div class="note">
   
   <a href="#73117" class="date">09-Feb-2007 08:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just to confirm, USING UNSET CAN DESTROY AN ENTIRE ARRAY. I couldn't find reference to this anywhere so I decided to write this. <br />
<br />
The difference between using unset and using $myarray=array(); to unset is that obviously the array will just be overwritten and will still exist.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$myarray</span><span class="keyword">=array(</span><span class="string">"Hello"</span><span class="keyword">,</span><span class="string">"World"</span><span class="keyword">);<br />
<br />
echo </span><span class="default">$myarray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">].</span><span class="default">$myarray</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
<br />
unset(</span><span class="default">$myarray</span><span class="keyword">);<br />
</span><span class="comment">//$myarray=array();<br />
<br />
</span><span class="keyword">echo </span><span class="default">$myarray</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">].</span><span class="default">$myarray</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
<br />
echo </span><span class="default">$myarray</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Output with unset is:<br />
&lt;?<br />
HelloWorld<br />
<br />
Notice: Undefined offset: 0 in C:\webpages\dainsider\myarray.php on line 10<br />
<br />
Notice: Undefined offset: 1 in C:\webpages\dainsider\myarray.php on line 10<br />
<br />
Output with $myarray=array(); is:<br />
?&gt;<br />
<br />
&lt;?<br />
HelloWorld<br />
<br />
Notice: Undefined offset: 0 in C:\webpages\dainsider\myarray.php on line 10<br />
<br />
Notice: Undefined offset: 1 in C:\webpages\dainsider\myarray.php on line 10<br />
<br />
Array<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72389""></a>
  <div class="note">
   <strong class="user">hessodreamy at gmail dot com</strong>
   <a href="#72389" class="date">17-Jan-2007 03:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To clarify what hugo dot dworak at gmail dot com said about unsetting things that aren't already set:<br />
<br />
unsetting a non-existent key within an array does NOT throw an error.<br />
&lt;?<br />
$array = array();<br />
<br />
unset($array[2]);<br />
//this does not throw an error<br />
<br />
unset($array[$undefinedVar]);<br />
//Throws an error because of the undefined variable, not because of a non-existent key.<br />
?&gt;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="63833""></a>
  <div class="note">
   <strong class="user">dibakar dot datta at gmail dot com</strong>
   <a href="#63833" class="date">31-Mar-2006 11:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Instead of using the unset function&nbsp; for unregistering your session or other array values you can also do this samll feature and get this task done with just 1 line code.<br />
<br />
Suppose, if you like to unregister your session store values.<br />
You can use:<br />
&nbsp;<br />
&nbsp;&nbsp; &nbsp;&nbsp; $_SESSION = array();<br />
<br />
Well this syntax saves lot's of time instead of unsetting each values.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60091""></a>
  <div class="note">
   <strong class="user">hugo dot dworak at gmail dot com</strong>
   <a href="#60091" class="date">26-Dec-2005 06:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If one tries to unset a typical variable that does not exist, no errors, warning or noticies will occur. However, if one tries to unset a non-existent array or an array with non-existent key, this will result in a notice. For instance:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp; $true </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
&nbsp; </span><span class="default">$array </span><span class="keyword">= array ();<br />
&nbsp; unset (</span><span class="default">$true</span><span class="keyword">, </span><span class="default">$undefinedVariable</span><span class="keyword">, </span><span class="default">$array </span><span class="keyword">[</span><span class="default">$undefinedKey</span><span class="keyword">], </span><span class="default">$undefinedArray </span><span class="keyword">[</span><span class="default">$undefinedKey</span><span class="keyword">]);<br />
</span><span class="default">?&gt;<br />
</span><br />
The output is (PHP 5.0.5):<br />
<br />
Notice: Undefined variable: undefinedKey<br />
Notice: Undefined variable: undefinedKey<br />
Notice: Undefined variable: undefinedArray</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56661""></a>
  <div class="note">
   <strong class="user">clark at everettsconsulting dot com</strong>
   <a href="#56661" class="date">11-Sep-2005 12:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In PHP 5.0.4, at least, one CAN unset array elements inside functions from arrays passed by reference to the function.<br />
As implied by the manual, however, one can't unset the entire array by passing it by reference.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">remove_variable </span><span class="keyword">(&amp;</span><span class="default">$variable</span><span class="keyword">)&nbsp; </span><span class="comment">// pass variable by reference<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$variable</span><span class="keyword">);<br />
}<br />
<br />
function </span><span class="default">remove_element </span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$key</span><span class="keyword">) </span><span class="comment">// pass array by reference<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
}<br />
<br />
</span><span class="default">$scalar </span><span class="keyword">= </span><span class="string">'Hello, there'</span><span class="keyword">;<br />
echo </span><span class="string">'Value of $scalar is: '</span><span class="keyword">;<br />
</span><span class="default">print_r </span><span class="keyword">(</span><span class="default">$scalar</span><span class="keyword">); echo </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
</span><span class="comment">// Value of $scalar is: Hello, there<br />
<br />
</span><span class="default">remove_variable</span><span class="keyword">(</span><span class="default">$scalar</span><span class="keyword">); </span><span class="comment">// try to unset the variable<br />
</span><span class="keyword">echo </span><span class="string">'Value of $scalar is: '</span><span class="keyword">;<br />
</span><span class="default">print_r </span><span class="keyword">(</span><span class="default">$scalar</span><span class="keyword">); echo </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
</span><span class="comment">// Value of $scalar is: Hello, there<br />
<br />
</span><span class="default">$array </span><span class="keyword">= array(</span><span class="string">'one' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'two' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'three' </span><span class="keyword">=&gt; </span><span class="default">3</span><span class="keyword">);<br />
echo </span><span class="string">'Value of $array is: '</span><span class="keyword">;<br />
</span><span class="default">print_r </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); echo </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
</span><span class="comment">// Value of $array is: Array ( [one] =&gt; 1 [two] =&gt; 2 [three] =&gt; 3 )<br />
<br />
</span><span class="default">remove_variable</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); </span><span class="comment">// try to unset the array<br />
</span><span class="keyword">echo </span><span class="string">'Value of $array is: '</span><span class="keyword">;<br />
</span><span class="default">print_r </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); echo </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
</span><span class="comment">// Value of $array is: Array ( [one] =&gt; 1 [two] =&gt; 2 [three] =&gt; 3 )<br />
<br />
</span><span class="default">remove_element</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="string">'two'</span><span class="keyword">); </span><span class="comment">// successfully remove an element from the array<br />
</span><span class="keyword">echo </span><span class="string">'Value of $array is: '</span><span class="keyword">;<br />
</span><span class="default">print_r </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); echo </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
</span><span class="comment">// Value of $array is: Array ( [one] =&gt; 1 [three] =&gt; 3 )<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56332""></a>
  <div class="note">
   <strong class="user">no at spam dot com</strong>
   <a href="#56332" class="date">30-Aug-2005 03:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In addition to what timo dot hummel at 4fb dot de said;<br />
<br />
&gt;For the curious: unset also frees memory of the variable used.<br />
&gt;<br />
&gt;It might be possible that the in-memory size of the PHP Interpreter isn't reduced, but your scripts won't touch the memory_limit boundary. Memory is reused if you declare new variables.<br />
<br />
It might be worth adding that functions apparently don't free up memory on exit the same way unset does..<br />
Maybe this is common knowledge, but although functions destroys variables on exit, it (apparently) doesn't help the memory.<br />
<br />
So if you use huge variables inside functions, be sure to unset them if you can before returning from the function.<br />
<br />
In my case, if I did not unset before return, then the script would use 20 MB more of memory than if I did unset.<br />
This was tested with php 5.0.4 on apache 2 on windows xp, with no memory limit.<br />
<br />
Before I did the test, I was under the impression that when you exit from functions, the memory used inside it would be cleared and reused. Maybe this should be made clear in the manual, for either unset() or in the chapter for functions.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55493""></a>
  <div class="note">
   <strong class="user">tom at diacope dot com</strong>
   <a href="#55493" class="date">04-Aug-2005 03:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
when working with $_SESSION or any other array like that and you want to delete part of the session array it's always worked for me to do:<br />
<br />
$_SESSION['data'] = NULL; <br />
unset($_SESSION['data']);</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="54449""></a>
  <div class="note">
   <strong class="user">muhamad_zakaria at yahoo dot com</strong>
   <a href="#54449" class="date">04-Jul-2005 07:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
We have experienced when we applied 'unset' to the overloaded properties (PHP5), consider the code below:<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">TheObj </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public </span><span class="default">$RealVar1</span><span class="keyword">, </span><span class="default">$RealVar2</span><span class="keyword">, </span><span class="default">$RealVar3</span><span class="keyword">, </span><span class="default">$RealVar4</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public </span><span class="default">$Var </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Var</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Var</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">])) return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">Var</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else return -</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$SomeObj </span><span class="keyword">= new </span><span class="default">TheObj</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// here we set for real variables<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$SomeObj</span><span class="keyword">-&gt;</span><span class="default">RealVar1 </span><span class="keyword">= </span><span class="string">'somevalue'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'RealVar2'</span><span class="keyword">} = </span><span class="string">'othervalue'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'RealVar'</span><span class="keyword">.(</span><span class="default">3</span><span class="keyword">)} = </span><span class="string">'othervaluetoo'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'RealVar'</span><span class="keyword">.</span><span class="string">'4'</span><span class="keyword">} = </span><span class="string">'anothervalue'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// and here we set for virtual variables<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$SomeObj</span><span class="keyword">-&gt;</span><span class="default">Virtual1 </span><span class="keyword">= </span><span class="string">'somevalue'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'Virtual2'</span><span class="keyword">} = </span><span class="string">'othervalue'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'Virtual'</span><span class="keyword">.(</span><span class="default">3</span><span class="keyword">)} = </span><span class="string">'othervaluetoo'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'Virtual'</span><span class="keyword">.</span><span class="string">'4'</span><span class="keyword">} = </span><span class="string">'anothervalue'</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// now we will try to unset these variables<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">unset(</span><span class="default">$SomeObj</span><span class="keyword">-&gt;</span><span class="default">RealVar1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'RealVar'</span><span class="keyword">.(</span><span class="default">3</span><span class="keyword">)});<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//the lines below will catch by '__get' magic method since these variables are unavailable anymore<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">print </span><span class="default">$SomeObj</span><span class="keyword">-&gt;</span><span class="default">RealVar1</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; print </span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'RealVar'</span><span class="keyword">.(</span><span class="default">3</span><span class="keyword">)}.</span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// now we will try to unset these variables<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">unset(</span><span class="default">$SomeObj</span><span class="keyword">-&gt;</span><span class="default">Virtual1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'Virtual'</span><span class="keyword">.(</span><span class="default">3</span><span class="keyword">)});<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//but, these variables are still available??? eventhough they're "unset"-ed<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">print </span><span class="default">$SomeObj</span><span class="keyword">-&gt;</span><span class="default">Virtual1</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; print </span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'Virtual'</span><span class="keyword">.(</span><span class="default">3</span><span class="keyword">)}.</span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Please note that PHP doesn't have magic callback to unset overloaded properties. This is the reason why unset($SomeObj-&gt;Virtual1) doesn't work.<br />
<br />
But it does work when we set 'null' value such as the following code:<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// now we will set 'null' value instead of using unset statement<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$SomeObj</span><span class="keyword">-&gt;</span><span class="default">Virtual1 </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'Virtual'</span><span class="keyword">.(</span><span class="default">3</span><span class="keyword">)} = </span><span class="default">null</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// and now these variables are no longer available<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">print </span><span class="default">$SomeObj</span><span class="keyword">-&gt;</span><span class="default">Virtual1</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; print </span><span class="default">$SomeObj</span><span class="keyword">-&gt;{</span><span class="string">'Virtual'</span><span class="keyword">.(</span><span class="default">3</span><span class="keyword">)}.</span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>Sound ugly, yeah?<br />
<br />
This applied to the "virtual" array variable too, see more at <a href="http://bugs.php.net/bug.php?id=33513 (at feedback" rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=33513 (at feedback</a>) about it.<br />
PS: we used PHP version 5.1.0-dev from the CVS snapshot when we wrote the above codes.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50382""></a>
  <div class="note">
   <strong class="user">franckraynal at free dot fr</strong>
   <a href="#50382" class="date">26-Feb-2005 05:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is another way to make 'unset' work with session variables from within a function : <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">unsetSessionVariable </span><span class="keyword">(</span><span class="default">$sessionVariableName</span><span class="keyword">) {<br />
&nbsp;&nbsp; unset(</span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="default">_SESSION</span><span class="keyword">][</span><span class="default">$sessionVariableName</span><span class="keyword">]);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
May it work with others than me...<br />
F.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="49586""></a>
  <div class="note">
   <strong class="user">bedbin at gmail dot com</strong>
   <a href="#49586" class="date">02-Feb-2005 06:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
usefull tip:<br />
if you have session variables like these.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">"&lt;pre&gt;"</span><span class="keyword">;<br />
</span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"num"</span><span class="keyword">] = array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$_SESSION</span><span class="keyword">);<br />
<br />
echo </span><span class="string">"-&lt;br&gt;"</span><span class="keyword">;<br />
unset(</span><span class="default">$_SESSION</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$_SESSION</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span>gives out:<br />
<br />
array(1) {<br />
&nbsp; ["num"]=&gt;<br />
&nbsp; array(4) {<br />
&nbsp;&nbsp;&nbsp; [0]=&gt;<br />
&nbsp;&nbsp;&nbsp; int(1)<br />
&nbsp;&nbsp;&nbsp; [1]=&gt;<br />
&nbsp;&nbsp;&nbsp; int(2)<br />
&nbsp;&nbsp;&nbsp; [2]=&gt;<br />
&nbsp;&nbsp;&nbsp; int(3)<br />
&nbsp;&nbsp;&nbsp; [3]=&gt;<br />
&nbsp;&nbsp;&nbsp; int(4)<br />
&nbsp; }<br />
}<br />
-<br />
NULL<br />
<br />
if you use empty instead unset you get same output as first var_dump($_SESSION) gives.<br />
I hope help sb.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48747""></a>
  <div class="note">
   <strong class="user">Nghia</strong>
   <a href="#48747" class="date">05-Jan-2005 08:41</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I saw this mentioned somewhere else but if you do<br />
<br />
$var = NULL<br />
<br />
then I've noticed less memory usuage than with unset(). In fact, unset didn't do anything.<br />
<br />
This might be useful if you're doing a php-gtk app, thats starting to consume significant memory over a long period of time. This was the code I used to test<br />
<br />
// Check memory before here<br />
<br />
for($i = 0; $i &lt; 100; $i++)<br />
{<br />
&nbsp; $dialog = &amp;new GtkDialog();<br />
&nbsp; $dialog-&gt;realize();<br />
&nbsp; $dialog-&gt;destroy();<br />
<br />
&nbsp; $dialog = NULL;<br />
&nbsp; //unset($dialog);<br />
}<br />
<br />
// Check memory after here<br />
<br />
Doing a difference between after and before results in:<br />
<br />
Using destroy() and unset() -&gt;&nbsp; ~31kb<br />
Using $dialog = NULL -&gt; ~13 kb<br />
<br />
The expected memory usuage should be 0kb or around there.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48177""></a>
  <div class="note">
   <strong class="user">harycary at netscape dot net</strong>
   <a href="#48177" class="date">14-Dec-2004 09:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you ever have to unset all the variables of a class from within a funciton of that class use the following code:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">User<br />
</span><span class="keyword">{<br />
<br />
&nbsp;&nbsp; &nbsp; function </span><span class="default">User_login </span><span class="keyword">( ... )<br />
&nbsp;&nbsp; &nbsp; {...}<br />
<br />
&nbsp;&nbsp; &nbsp; function </span><span class="default">User_logout </span><span class="keyword">( </span><span class="default">$greeting </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ...<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach ( </span><span class="default">array_keys </span><span class="keyword">( </span><span class="default">get_object_vars </span><span class="keyword">( &amp;</span><span class="default">$this </span><span class="keyword">) ) as </span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {&nbsp; &nbsp; unset( </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$val </span><span class="keyword">);&nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">greeting </span><span class="keyword">= </span><span class="default">$greeting</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; ...<br />
<br />
&nbsp;&nbsp; &nbsp; }<br />
<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span>If anyone knows of a more effective way please post a reply.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47248""></a>
  <div class="note">
   <strong class="user">mv at brasil dot com</strong>
   <a href="#47248" class="date">08-Nov-2004 08:04</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to remove one element of Query String use this function, than place the returned values in &lt;a href="script.php?'. remove_query("arg1") .'"&gt;<br />
<br />
&nbsp;&nbsp;&nbsp; function remove_query($key) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $arrquery = explode("&amp;", $_SERVER["QUERY_STRING"]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($arrquery as $query_value) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $valor = substr($query_value, strpos($query_value, "=") + 1);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $chave = substr($query_value, 0, strpos($query_value, "="));<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $querystring[$chave] = $valor;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; unset($querystring[$key]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach ($querystring as $query_key =&gt; $query_value) {<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $query[] = "{$query_key}={$query_value}";<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; $query = implode("&amp;", $query);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return $query;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47157""></a>
  <div class="note">
   <strong class="user">dan AT --nospam-- cubeland DOT co DOT uk</strong>
   <a href="#47157" class="date">04-Nov-2004 11:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
dh at argosign dot de - <br />
it is possible to unset globals from within functions thanks to the $GLOBALS array:<br />
<br />
<span class="default">&lt;?php<br />
$x </span><span class="keyword">= </span><span class="default">10</span><span class="keyword">;<br />
<br />
function </span><span class="default">test</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// don't need to do ' global $x; '<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">unset (</span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'x'</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'x: ' </span><span class="keyword">. </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'x'</span><span class="keyword">] . </span><span class="string">'&lt;br /&gt;'</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">test</span><span class="keyword">();<br />
echo </span><span class="string">"x: </span><span class="default">$x</span><span class="string">&lt;br /&gt;"</span><span class="keyword">;<br />
<br />
</span><span class="comment">// will result in<br />
/*<br />
x: <br />
x:<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45439""></a>
  <div class="note">
   <strong class="user">timo dot hummel at 4fb dot de</strong>
   <a href="#45439" class="date">07-Sep-2004 06:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For the curious: unset also frees memory of the variable used.<br />
<br />
It might be possible that the in-memory size of the PHP Interpreter isn't reduced, but your scripts won't touch the memory_limit boundary. Memory is reused if you declare new variables.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44412""></a>
  <div class="note">
   <strong class="user">thorry at thorry dot net</strong>
   <a href="#44412" class="date">05-Aug-2004 02:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The documentation is not entirely clear when it comes to static variables. It says:<br />
<br />
If a static variable is unset() inside of a function, unset() destroys the variable and all its references. <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">() <br />
{<br />
&nbsp;&nbsp; static </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">++;<br />
&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$a</span><span class="string">\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; unset(</span><span class="default">$a</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">foo</span><span class="keyword">();<br />
</span><span class="default">foo</span><span class="keyword">();<br />
</span><span class="default">foo</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>&nbsp; <br />
<br />
The above example would output: <br />
<br />
1<br />
2<br />
3<br />
<br />
And it does! But the variable is NOT deleted, that's why the value keeps on increasing, otherwise the output would be:<br />
<br />
1<br />
1<br />
1 <br />
<br />
The references are destroyed within the function, this handeling is the same as with global variables, the difference is a static variable is a local variable.<br />
<br />
Be carefull using unset and static values as the output may not be what you expect it to be. It appears to be impossible to destroy a static variable. You can only destroy the references within the current executing function, a successive static statement will restore the references.<br />
<br />
The documentation would be better if it would say:<br />
"If a static variable is unset() inside of a function, unset() destroys all references to the variable. "<br />
<br />
Example: (tested PHP 4.3.7)<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">() <br />
{<br />
&nbsp;&nbsp; static </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">++;<br />
&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$a</span><span class="string">\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; unset(</span><span class="default">$a</span><span class="keyword">);<br />
&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$a</span><span class="string">\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; static </span><span class="default">$a</span><span class="keyword">;&nbsp; &nbsp; <br />
&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$a</span><span class="string">\n"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">foo</span><span class="keyword">();<br />
</span><span class="default">foo</span><span class="keyword">();<br />
</span><span class="default">foo</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span> <br />
<br />
Would output:<br />
<br />
1<br />
<br />
1<br />
2<br />
<br />
2<br />
3<br />
<br />
3</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="44184""></a>
  <div class="note">
   <strong class="user">anon at no spam dot no address dot com</strong>
   <a href="#44184" class="date">16-Jul-2004 09:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Adding on to what bond at noellebond dot com said, if you want to remove an index from the end of the array, if you use unset, the next index value will still be what it would have been.<br />
<br />
Eg you have <br />
<span class="default">&lt;?php<br />
&nbsp;$x </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
<br />
&nbsp;for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">5</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;{<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$x</span><span class="keyword">[(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">)]); </span><span class="comment">//remove last set key in the array<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;}<br />
</span><span class="default">?&gt;<br />
</span><br />
You would expect:<br />
Array([0] =&gt; 1, [1] =&gt; 4)<br />
as you want it to remove the last set key....<br />
<br />
but you actually get<br />
Array ( [0] =&gt; 1 [4] =&gt; 2 [5] =&gt; 3 [6] =&gt; 4 ) <br />
<br />
This is since even though the last key is removed, the auto indexing still keeps its previous value.<br />
<br />
The only time where this would not seem right is when you remove a value off the end. I guess different people would want it different ways.<br />
<br />
The way around this is to use array_pop() instead of unset() as array_pop() refreshes the autoindexing thing for the array.<br />
<span class="default">&lt;?php<br />
&nbsp;$x </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
<br />
&nbsp;for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">5</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">); </span><span class="comment">// removes the last item in the array<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$x</span><span class="keyword">[] = </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;}<br />
</span><span class="default">?&gt;<br />
</span><br />
&nbsp;This returns the expected value of x = Array([0] =&gt; 1, [1] =&gt; 4);<br />
<br />
Hope this helps someone who may need this for some odd reason, I did.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="42703""></a>
  <div class="note">
   <strong class="user">bond at noellebond dot com</strong>
   <a href="#42703" class="date">26-May-2004 02:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that though global arrays will not be altered by a function, an array in an object WILL be altered if referenced within one of its methods.&nbsp; For example:<br />
<br />
&nbsp; function remove_index ($i)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; unset($this-&gt;test_array[$i]);<br />
&nbsp;&nbsp;&nbsp; $temp_array = array_values($this-&gt;test_array);<br />
&nbsp;&nbsp;&nbsp; $this-&gt;test_array = $temp_array;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp; }<br />
<br />
Will remove key $i from the object's array and reindex it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="40539""></a>
  <div class="note">
   <strong class="user">andre at twg dot com dot au</strong>
   <a href="#40539" class="date">06-Mar-2004 09:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Only This works with register_globals being 'ON'.<br />
<br />
unset( $_SESSION['variable'] );<br />
<br />
The above will not work with register_globals turned on (will only work outside of a function).<br />
<br />
$variable = $_SESSION['variable'];<br />
unset( $_SESSION['variable'], $variable );<br />
<br />
The above will work with register_globals on &amp; inside a function</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="39397""></a>
  <div class="note">
   <strong class="user">warhog at warhog dot net</strong>
   <a href="#39397" class="date">27-Jan-2004 08:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
you may wan't to unset all variables which are defined, here's one way:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">unset_all_vars</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">)<br />
{ foreach(</span><span class="default">$a </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">)<br />
&nbsp; { unset(</span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]); }<br />
&nbsp; return </span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">); }<br />
<br />
</span><span class="default">unset_all_vars</span><span class="keyword">(</span><span class="default">get_defined_vars</span><span class="keyword">());<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
you can also save than a serialized var of the "memory" and perhaps store this in a temporary file.. very usefull if you work with text files and/or file uploads when you've got very large variables.<br />
<br />
greetz</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37693""></a>
  <div class="note">
   <strong class="user">kdechant at midwestarts dot com</strong>
   <a href="#37693" class="date">23-Nov-2003 03:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As of PHP version 4.3.3, unset() results in a parse error if it is used with the @ error suppression operator.<br />
<br />
For example:<br />
<br />
@unset($var); // parse error<br />
unset(@$var); // parse error<br />
unset($var); // okay</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="37295""></a>
  <div class="note">
   <strong class="user">frank at agentbrand dot com</strong>
   <a href="#37295" class="date">09-Nov-2003 09:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Use array_values() after unset() to reindex your array.<br />
&nbsp;Note that unset() removes the index as a key, you will need to reindex your array again to get expected behavior</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36935""></a>
  <div class="note">
   <strong class="user">vmizuba at queens dot org</strong>
   <a href="#36935" class="date">27-Oct-2003 07:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for what it's worth...<br />
<br />
in php 4.1, using unset to destroy a session variable, i.e. unset($_SESSION['variable']); destroys it by erasing variable information but leaves behind the variable name appended with a '!' in front of the name in the session file... leaving the session file larger and x bytes wasted depending on the variable name length</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.unserialize.html">unserialize</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.var-dump.html">var_dump</a></div>
 <div class="up"><a href="ref.var.html">Variable handling Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
