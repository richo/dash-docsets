<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Pop the element off the end of array</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-pad.html">array_pad</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-product.html">array_product</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.array-pop" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">array_pop</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">array_pop</span> &mdash; <span class="dc-title">Pop the element off the end of array</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.array-pop-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><b>array_pop</b></span>
    ( <span class="methodparam"><span class="type">array</span> <tt class="parameter reference">&$array</tt></span>
   )</div>

  <p class="para rdfs-comment">
   <span class="function"><b>array_pop()</b></span> pops and returns the last value of
   the <i><tt class="parameter">array</tt></i>, shortening the
   <i><tt class="parameter">array</tt></i> by one element.
   If <i><tt class="parameter">array</tt></i> is empty (or is not an array),
   <b><tt>NULL</tt></b> will be returned. Will additionally produce a
   <a href="errorfunc.constants.html#errorfunc.constants.errorlevels.e-warning" class="link">Warning</a>
   when called on a non-array.
  </p>
  <blockquote class="note"><p><b class="note">Note</b>: <span class="simpara">This function will
<span class="function"><a href="function.reset.html" class="function">reset()</a></span> the <span class="type"><a href="language.types.array.html" class="type array">array</a></span> pointer of the input array after
use.</span></p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.array-pop-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">array</tt></i></span>
     <dd>

      <p class="para">
       The array to get the value from.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.array-pop-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the last value of <i><tt class="parameter">array</tt></i>.
   If <i><tt class="parameter">array</tt></i> is empty (or is not an array),
   <b><tt>NULL</tt></b> will be returned.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.array-pop-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4516">
    <p><b>Example #1 <span class="function"><b>array_pop()</b></span> example</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$stack&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"orange"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"banana"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"apple"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"raspberry"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$fruit&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">array_pop</span><span style="color: #007700">(</span><span style="color: #0000BB">$stack</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$stack</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>
     After this, <var class="varname"><var class="varname">$stack</var></var> will have only 3 elements:
    </p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Array
(
    [0] =&gt; orange
    [1] =&gt; banana
    [2] =&gt; apple
)
</pre></div>
    </div>
    <div class="example-contents"><p>
     and <i>raspberry</i> will be assigned to
     <var class="varname"><var class="varname">$fruit</var></var>.
    </p></div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.array-pop-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.array-push.html" class="function" rel="rdfs-seeAlso">array_push()</a> - Push one or more elements onto the end of array</span></li>
    <li class="member"><span class="function"><a href="function.array-shift.html" class="function" rel="rdfs-seeAlso">array_shift()</a> - Shift an element off the beginning of array</span></li>
    <li class="member"><span class="function"><a href="function.array-unshift.html" class="function" rel="rdfs-seeAlso">array_unshift()</a> - Prepend one or more elements to the beginning of an array</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="101450""></a>
  <div class="note">
   <strong class="user">mtroy dot student at gmail dot com</strong>
   <a href="#101450" class="date">16-Dec-2010 06:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
to apply arra_pop serveral times but not recursive<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_mpop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$iterate</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &amp;&amp; </span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$iterate</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; while((</span><span class="default">$iterate</span><span class="keyword">--)!=</span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
for test :<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $a </span><span class="keyword">= array(</span><span class="string">"titi"</span><span class="keyword">, </span><span class="string">"toto"</span><span class="keyword">, </span><span class="string">"tata"</span><span class="keyword">, </span><span class="string">"tonton"</span><span class="keyword">, </span><span class="string">"toutou"</span><span class="keyword">, </span><span class="string">"tutu"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">array_mpop</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
result :<br />
<br />
array(4) { [0]=&gt; string(4) "titi" [1]=&gt; string(4) "toto" [2]=&gt; string(4) "tata" [3]=&gt; string(6) "tonton" }</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99634""></a>
  <div class="note">
   <strong class="user">bellefy at yahoo dot com</strong>
   <a href="#99634" class="date">27-Aug-2010 09:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding the last few comments.<br />
<br />
To delete the first item in an array:<br />
<span class="default">&lt;?php<br />
array_shift</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
To get the filename or the file's mtime:<br />
<span class="default">&lt;?php<br />
$filename </span><span class="keyword">= </span><span class="default">basename</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">);<br />
</span><span class="default">$mod </span><span class="keyword">= </span><span class="default">filemtime</span><span class="keyword">(</span><span class="default">__FILE__</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99629""></a>
  <div class="note">
   <strong class="user">benjamin_letchford at student dot rmit dot edu dot au</strong>
   <a href="#99629" class="date">27-Aug-2010 02:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Want to delete the first element in an array? Here's a small and handy function that'll do the trick!<br />
<br />
function array_pop_first(&amp;$array) {<br />
&nbsp;&nbsp;&nbsp; $array = array_reverse($array);<br />
&nbsp;&nbsp;&nbsp; array_pop($array);<br />
&nbsp;&nbsp;&nbsp; $array = array_reverse($array);<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98962""></a>
  <div class="note">
   <strong class="user">macnimble at gmail dot com</strong>
   <a href="#98962" class="date">18-Jul-2010 01:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
@Jochen<br />
<br />
You could use PHP's pathinfo function to achieve the same results:<br />
<br />
<span class="default">&lt;?php<br />
$mod </span><span class="keyword">= </span><span class="default">filemtime</span><span class="keyword">(</span><span class="default">pathinfo</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">], </span><span class="default">PATHINFO_FILENAME</span><span class="keyword">));<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96279""></a>
  <div class="note">
   <strong class="user">me at fxless dot org</strong>
   <a href="#96279" class="date">18-Feb-2010 01:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I have used array_pop() in a function that returns the name of the current file. This can be used, for example, in conjunction with filemtime() to get the modification time of the current file. The function I coded is a one-liner:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">whoAmI</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">explode</span><span class="keyword">(</span><span class="string">"/"</span><span class="keyword">, </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'PHP_SELF'</span><span class="keyword">]));<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
If your file URI is www.example.com/bar/foobar.php, whoAmI() will return foobar.php. To use it with e.g. filemtime() you would simply write:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $modtime </span><span class="keyword">= </span><span class="default">filemtime</span><span class="keyword">(</span><span class="default">whoAmI</span><span class="keyword">());<br />
</span><span class="default">?&gt;<br />
</span><br />
Greetings,<br />
Jochen</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93365""></a>
  <div class="note">
   <strong class="user">jim203nospamplz at plznospamaol dot com</strong>
   <a href="#93365" class="date">05-Sep-2009 04:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
2 line changes to my previous submission:<br />
<br />
$theJumpNumber = (round(count($temparray)/2) + $startingFileNumber) % count($temparray); // use of startingfilenumber randomizes the jump number<br />
while (count($temparray) % $theJumpNumber == 0<br />
|| !isPrime($theJumpNumber)) // !isPrime as easy way to check for no cofactors<br />
<br />
You need to check for no cofactors so you can cycle round the complete array without duplicates. Checking !isPrime on theJumpNumber is a pretty easy way to do that. isPrime can be found by google: php isprime</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92682""></a>
  <div class="note">
   <strong class="user">sneskid at hotmail dot com</strong>
   <a href="#92682" class="date">03-Aug-2009 07:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As already mentioned, array_pop always returns a copy, never a reference, which can be a problem in some cases.<br />
<br />
Here is a pop function that allows you to get the reference.<br />
(keep in mind it will alter the internal pointer of the array)<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function &amp;</span><span class="default">array_rpop</span><span class="keyword">(&amp;</span><span class="default">$a</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">end</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$k</span><span class="keyword">=</span><span class="default">key</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$v</span><span class="keyword">=&amp;</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$a</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$v</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="comment">// try this:<br />
</span><span class="default">$A</span><span class="keyword">=</span><span class="string">'A'</span><span class="keyword">;<br />
</span><span class="default">$B</span><span class="keyword">=array(&amp;</span><span class="default">$A</span><span class="keyword">);<br />
<br />
</span><span class="comment">//$C=&amp;array_rpop($B); // will work<br />
</span><span class="default">$C</span><span class="keyword">=&amp;</span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$B</span><span class="keyword">); </span><span class="comment">// won't work<br />
<br />
</span><span class="default">$C</span><span class="keyword">=</span><span class="string">'C'</span><span class="keyword">;<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$A</span><span class="keyword">,</span><span class="default">$B</span><span class="keyword">,</span><span class="default">$C</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
I hope the PHP people will make the regular function work with references.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88715""></a>
  <div class="note">
   <strong class="user">Igor Feghali</strong>
   <a href="#88715" class="date">04-Feb-2009 09:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beware that array_pop() returns a copy of the element (even if the array element is a reference). That means you will get different results on PHP 4 and 5 when dealing with objects.<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= new </span><span class="default">stdClass</span><span class="keyword">();<br />
</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">foo </span><span class="keyword">= </span><span class="string">'bar'</span><span class="keyword">;<br />
<br />
</span><span class="default">$arr </span><span class="keyword">= array(&amp;</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
<br />
</span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">foo </span><span class="keyword">= </span><span class="string">'baz'</span><span class="keyword">;<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Output of PHP 5.2.8:<br />
object(stdClass)#1 (1) {<br />
&nbsp; ["foo"]=&gt;<br />
&nbsp; string(3) "baz"<br />
}<br />
<br />
Output of PHP 4.4.9:<br />
object(stdClass)(1) {<br />
&nbsp; ["foo"]=&gt;<br />
&nbsp; string(3) "bar"<br />
}<br />
<br />
For more information please refer to:<br />
<a href="http://br2.php.net/manual/en/language.oop5.references.php" rel="nofollow" target="_blank">http://br2.php.net/manual/en/language.oop5.references.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86559""></a>
  <div class="note">
   <strong class="user">mcgroovin at gmail dot com</strong>
   <a href="#86559" class="date">23-Oct-2008 12:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I wrote a simple function to perform an intersect on multiple (unlimited) arrays.<br />
<br />
Pass an array containing all the arrays you want to compare, along with what key to match by.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">multipleArrayIntersect</span><span class="keyword">(</span><span class="default">$arrayOfArrays</span><span class="keyword">, </span><span class="default">$matchKey</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$compareArray </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$arrayOfArrays</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$compareArray </span><span class="keyword">AS </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$valueArray</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$arrayOfArrays </span><span class="keyword">AS </span><span class="default">$subArray </span><span class="keyword">=&gt; </span><span class="default">$contents</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$compareArray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">][</span><span class="default">$matchKey</span><span class="keyword">], </span><span class="default">$contents</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$compareArray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$compareArray</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83441""></a>
  <div class="note">
   <strong class="user">tom at sirwhite dot com</strong>
   <a href="#83441" class="date">26-May-2008 10:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
@Orsi<br />
correct me if I'm wrong... but an easier version might be<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
* This function deletes the given element from a one-dimension array<br />
* Parameters: $array:&nbsp; &nbsp; the array (in/out)<br />
*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $deleteIt: the value which we would like to delete<br />
*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $useOldKeys: if it is false then the function will re-index the array (from 0, 1, ...)<br />
*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if it is true: the function will keep the old keys<br />
* Returns true, if this value was in the array, otherwise false (in this case the array is same as before)<br />
*/<br />
</span><span class="keyword">function </span><span class="default">deleteFromArray</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$deleteIt</span><span class="keyword">, </span><span class="default">$useOldKeys </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$key </span><span class="keyword">= </span><span class="default">array_search</span><span class="keyword">(</span><span class="default">$deleteIt</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">,</span><span class="default">TRUE</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$key </span><span class="keyword">=== </span><span class="default">FALSE</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$array</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">$useOldKeys</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">TRUE</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
--untested but should work.. rite?--</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80872""></a>
  <div class="note">
   <strong class="user">sonetti at hotmail dot com</strong>
   <a href="#80872" class="date">05-Feb-2008 01:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
@smp_info <br />
I think you are still tired. What would be wrong with:<br />
<br />
<span class="default">&lt;?php<br />
$array </span><span class="keyword">= array(</span><span class="string">'one'</span><span class="keyword">, </span><span class="string">'two'</span><span class="keyword">, </span><span class="string">'three'</span><span class="keyword">, </span><span class="string">'four'</span><span class="keyword">);<br />
<br />
</span><span class="comment">//pop the last element off<br />
</span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
</span><span class="comment">//$array == array('one', 'two', 'three'); <br />
</span><span class="default">?&gt;<br />
</span><br />
As the documentation clearly notes, array_pop() not only returns the last element, but actually removes it from the array wich is passed by reference. Calling array_diff is a waste of resources.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80327""></a>
  <div class="note">
   <strong class="user">Orsi</strong>
   <a href="#80327" class="date">10-Jan-2008 07:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi,<br />
<br />
Here is a simple function which delete one element from the array (with value):<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
* This function deletes the given element from a one-dimension array<br />
* Parameters: $array:&nbsp; &nbsp; the array (in/out)<br />
*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $deleteIt: the value which we would like to delete<br />
*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; $useOldKeys: if it is false then the function will re-index the array (from 0, 1, ...)<br />
*&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if it is true: the function will keep the old keys<br />
* Returns true, if this value was in the array, otherwise false (in this case the array is same as before)<br />
*/<br />
</span><span class="keyword">function </span><span class="default">deleteFromArray</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$deleteIt</span><span class="keyword">, </span><span class="default">$useOldKeys </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$tmpArray </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$found </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$value </span><span class="keyword">!== </span><span class="default">$deleteIt</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">FALSE </span><span class="keyword">=== </span><span class="default">$useOldKeys</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmpArray</span><span class="keyword">[] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tmpArray</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$found </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">$tmpArray</span><span class="keyword">;<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$found</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Maybe it will help somebody...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79418""></a>
  <div class="note">
   <strong class="user">smp_info at yahoo dot com</strong>
   <a href="#79418" class="date">26-Nov-2007 03:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I'm sorry, I must have been extremely tired when writing the note below.&nbsp; :P<br />
<br />
Replace $element with $array, and the code will work nicely.<br />
<br />
The right code would be..<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//$array = array('one', 'two', 'three', 'four');<br />
<br />
//pop the last element off and return the array<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, array(</span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">)));<br />
<br />
</span><span class="comment">//$array = array('one', 'two', 'three');</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79292""></a>
  <div class="note">
   <strong class="user">smp_info at yahoo dot com</strong>
   <a href="#79292" class="date">19-Nov-2007 04:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've found myself several times wanting the array (minus the popped element) returned, instead of the element returned.<br />
<br />
The following code does this nicely:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//$array = array('one', 'two', 'three', 'four');<br />
<br />
//pop the last element off and return the array<br />
</span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, array(</span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$element</span><span class="keyword">)));<br />
<br />
</span><span class="comment">//$array = array('one', 'two', 'three');</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78873""></a>
  <div class="note">
   <strong class="user">doyley3731 at gmail dot com</strong>
   <a href="#78873" class="date">31-Oct-2007 04:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had a problem when using this function because my array was made up entirley of numbers, so I have made my own function.&nbsp; Hopefully it will be useful to somebody.<br />
<br />
function array_trim_end($array){<br />
<br />
$num=count($array);<br />
$num=$num-1;<br />
unset($array[$num]);<br />
<br />
return $array;<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="53635""></a>
  <div class="note">
   <strong class="user">rmondragon at gmail dot com</strong>
   <a href="#53635" class="date">07-Jun-2005 02:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In a previous example ...<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_trim </span><span class="keyword">( </span><span class="default">$array</span><span class="keyword">, </span><span class="default">$index </span><span class="keyword">) {<br />
&nbsp;&nbsp; if ( </span><span class="default">is_array </span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; unset ( </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] );<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">array_unshift </span><span class="keyword">( </span><span class="default">$array</span><span class="keyword">, </span><span class="default">array_shift </span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) );<br />
&nbsp;&nbsp; &nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
This have a problem. if u unset the last value and then use<br />
&lt;?<br />
array_unshift ( $array, array_shift ( $array ) );<br />
?&gt;<br />
<br />
will return a :&nbsp; Array ( [0] =&gt; ) <br />
so u can fix it using...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &gt; </span><span class="default">0</span><span class="keyword">) </span><span class="default">array_unshift </span><span class="keyword">( </span><span class="default">$values</span><span class="keyword">, </span><span class="default">array_shift </span><span class="keyword">( </span><span class="default">$values </span><span class="keyword">) );&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
</span><span class="default">?&gt;<br />
</span><br />
good luck ;)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48216""></a>
  <div class="note">
   
   <a href="#48216" class="date">15-Dec-2004 08:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
strrchr is a lot more useful than the other example using array_pop for finding the extension of a file. For example:<br />
<br />
<span class="default">&lt;?php<br />
$ext </span><span class="keyword">= </span><span class="default">strrchr</span><span class="keyword">(</span><span class="default">$filename</span><span class="keyword">, </span><span class="string">"."</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
$ext will contain the extension of the file, including a ".", if the file has an extension, and FALSE if the file has no extension. If the file has multiple extensions, such as "filename.tar.gz", then this construction will just return the last extension.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47702""></a>
  <div class="note">
   <strong class="user">eddie at metafoundry dot com</strong>
   <a href="#47702" class="date">25-Nov-2004 08:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Quick way to get the extension from a file name using array_pop:<br />
<br />
$ext = array_pop(explode(".",$filename));</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41120""></a>
  <div class="note">
   
   <a href="#41120" class="date">30-Mar-2004 01:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A function to delete an array value that recalculates the index ( its very short and easy to understand ).<br />
Hope this might help someone...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/* Usage:<br />
&nbsp;&nbsp;&nbsp; $array : Array<br />
&nbsp;&nbsp;&nbsp; $indey : Integer<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; The value of $array at the index $index will be<br />
&nbsp;&nbsp;&nbsp; deleted by the function.<br />
*/<br />
</span><span class="keyword">function </span><span class="default">array_trim </span><span class="keyword">( </span><span class="default">$array</span><span class="keyword">, </span><span class="default">$index </span><span class="keyword">) {<br />
&nbsp;&nbsp; if ( </span><span class="default">is_array </span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; unset ( </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$index</span><span class="keyword">] );<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">array_unshift </span><span class="keyword">( </span><span class="default">$array</span><span class="keyword">, </span><span class="default">array_shift </span><span class="keyword">( </span><span class="default">$array </span><span class="keyword">) );<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38279""></a>
  <div class="note">
   <strong class="user">Alex Dowgailenko</strong>
   <a href="#38279" class="date">15-Dec-2003 03:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
array_pop() can be usefull for fetching extentions of files, especially in cases where there might be more than one period in the filename.<br />
<br />
eg:<br />
<br />
<span class="default">&lt;?php<br />
$filename </span><span class="keyword">= </span><span class="string">"textfile.txt.bak"</span><span class="keyword">;<br />
</span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">"."</span><span class="keyword">, </span><span class="default">$filename</span><span class="keyword">);<br />
</span><span class="default">$ext </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br />
<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$ext</span><span class="keyword">); </span><span class="comment">// Shows "bak"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="36765""></a>
  <div class="note">
   
   <a href="#36765" class="date">21-Oct-2003 01:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be aware that using array_pop on an associative array that uses a numeric string as a key changes the key:<br />
<br />
<span class="default">&lt;?php<br />
$stack</span><span class="keyword">= array(</span><span class="string">"12" </span><span class="keyword">=&gt; </span><span class="string">"green"</span><span class="keyword">, </span><span class="string">"54" </span><span class="keyword">=&gt; </span><span class="string">"brown"</span><span class="keyword">, </span><span class="string">"672" </span><span class="keyword">=&gt; </span><span class="string">"blue"</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$stack</span><span class="keyword">);<br />
</span><span class="default">$fruit </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$stack</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$stack</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Results of execution:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [12] =&gt; green<br />
&nbsp;&nbsp;&nbsp; [54] =&gt; brown<br />
&nbsp;&nbsp;&nbsp; [672] =&gt; blue<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; green<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; brown<br />
)<br />
<br />
However, if there is a non-numeric character in the key, the key will be maintained:<br />
<br />
<span class="default">&lt;?php<br />
$stack</span><span class="keyword">= array(</span><span class="string">"g1" </span><span class="keyword">=&gt; </span><span class="string">"green"</span><span class="keyword">, </span><span class="string">"b1" </span><span class="keyword">=&gt; </span><span class="string">"brown"</span><span class="keyword">, </span><span class="string">"b2" </span><span class="keyword">=&gt; </span><span class="string">"blue"</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$stack</span><span class="keyword">);<br />
</span><span class="default">$fruit </span><span class="keyword">= </span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$stack</span><span class="keyword">);<br />
</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$stack</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Results of execution:<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [g1] =&gt; green<br />
&nbsp;&nbsp;&nbsp; [b1] =&gt; brown<br />
&nbsp;&nbsp;&nbsp; [b2] =&gt; blue<br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [g1] =&gt; green<br />
&nbsp;&nbsp;&nbsp; [b1] =&gt; brown<br />
)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="32826""></a>
  <div class="note">
   <strong class="user">ryan8613(at)hotmail(dot)com</strong>
   <a href="#32826" class="date">08-Jun-2003 06:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A function that may help some out, considering it's pretty much the one mentioned previously...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_trim</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">, </span><span class="default">$indice</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!isset(</span><span class="default">$indice</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$indice </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; unset(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$indice</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$arr</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
It cuts the given index value off of the array, but without the shift, if&nbsp; the 'index' value isn't given, it cuts off the end value.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29926""></a>
  <div class="note">
   <strong class="user">Alex Chac—n</strong>
   <a href="#29926" class="date">28-Feb-2003 05:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
alex.chacon@terra.com<br />
Hi<br />
Here there is a function that delete a elemente from a array and re calculate indexes<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">eliminarElementoArreglo </span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$indice</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$indice</span><span class="keyword">, </span><span class="default">$array</span><span class="keyword">)) <br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$indice</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$indice</span><span class="keyword">] = </span><span class="default">$temp</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//reacomodamos ’ndices<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$indice </span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dummy </span><span class="keyword">= </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$temp</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$temp </span><span class="keyword">= </span><span class="default">$dummy</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$array</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.array-pad.html">array_pad</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.array-product.html">array_product</a></div>
 <div class="up"><a href="ref.array.html">Array Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
