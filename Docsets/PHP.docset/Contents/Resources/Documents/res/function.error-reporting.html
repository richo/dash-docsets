<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Sets which PHP errors are reported</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.error-log.html">error_log</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.restore-error-handler.html">restore_error_handler</a></div>
 <div class="up"><a href="ref.errorfunc.html">Error Handling Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.error-reporting" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">error_reporting</h1>
  <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">error_reporting</span> &mdash; <span class="dc-title">Sets which PHP errors are reported</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.error-reporting-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">int</span> <span class="methodname"><b>error_reporting</b></span>
    ([ <span class="methodparam"><span class="type">int</span> <tt class="parameter">$level</tt></span>
  ] )</div>

  <p class="para rdfs-comment">
   The <span class="function"><b>error_reporting()</b></span> function sets the
   <a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a>
   directive at runtime.  PHP has many levels of errors, using
   this function sets that level for the duration (runtime) of
   your script. If the optional <i><tt class="parameter">level</tt></i> is
   not set, <span class="function"><b>error_reporting()</b></span> will just return
   the current error reporting level.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.error-reporting-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">level</tt></i></span>
     <dd>

      <p class="para">
       The new <a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a>
       level. It takes on either a bitmask, or named constants. Using named 
       constants is strongly encouraged to ensure compatibility for future 
       versions. As error levels are added, the range of integers increases, 
       so older integer-based error levels will not always behave as expected.
      </p>
      <p class="para">
       The available error level constants and the actual
       meanings of these error levels are described in the
       <a href="errorfunc.constants.html" class="link">predefined constants</a>.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.error-reporting-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the old <a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a>
   level or the current level if no <i><tt class="parameter">level</tt></i> parameter is
   given.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.error-reporting-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">5.4.0</td>
       <td align="left"><b><tt>E_STRICT</tt></b> became part of <b><tt>E_ALL</tt></b>.</td>
      </tr>

      <tr valign="middle">
       <td align="left">5.3.0</td>
       <td align="left"><b><tt>E_DEPRECATED</tt></b> and <b><tt>E_USER_DEPRECATED</tt></b> introduced.</td>
      </tr>

      <tr valign="middle">
       <td align="left">5.2.0</td>
       <td align="left"><b><tt>E_RECOVERABLE_ERROR</tt></b> introduced.</td>
      </tr>

      <tr valign="middle">
       <td align="left">5.0.0</td>
       <td align="left"><b><tt>E_STRICT</tt></b> introduced (not part of <b><tt>E_ALL</tt></b>).</td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.error-reporting-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-424">
    <p><b>Example #1 <span class="function"><b>error_reporting()</b></span> examples</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;Turn&nbsp;off&nbsp;all&nbsp;error&nbsp;reporting<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Report&nbsp;simple&nbsp;running&nbsp;errors<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ERROR&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_WARNING&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_PARSE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Reporting&nbsp;E_NOTICE&nbsp;can&nbsp;be&nbsp;good&nbsp;too&nbsp;(to&nbsp;report&nbsp;uninitialized<br />//&nbsp;variables&nbsp;or&nbsp;catch&nbsp;variable&nbsp;name&nbsp;misspellings&nbsp;...)<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ERROR&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_WARNING&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_PARSE&nbsp;</span><span style="color: #007700">|&nbsp;</span><span style="color: #0000BB">E_NOTICE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Report&nbsp;all&nbsp;errors&nbsp;except&nbsp;E_NOTICE<br />//&nbsp;This&nbsp;is&nbsp;the&nbsp;default&nbsp;value&nbsp;set&nbsp;in&nbsp;php.ini<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ALL&nbsp;</span><span style="color: #007700">^&nbsp;</span><span style="color: #0000BB">E_NOTICE</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Report&nbsp;all&nbsp;PHP&nbsp;errors&nbsp;(see&nbsp;changelog)<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(</span><span style="color: #0000BB">E_ALL</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Report&nbsp;all&nbsp;PHP&nbsp;errors<br /></span><span style="color: #0000BB">error_reporting</span><span style="color: #007700">(-</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;Same&nbsp;as&nbsp;error_reporting(E_ALL);<br /></span><span style="color: #0000BB">ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">'error_reporting'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">E_ALL</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.error-reporting-notes">
  <h3 class="title">Notes</h3>
  <div class="warning"><b class="warning">Warning</b>
   <p class="simpara">
    Most of <b><tt>E_STRICT</tt></b> errors are evaluated at the
    compile time thus such errors are not reported in the file where
    <a href="errorfunc.configuration.html#ini.error-reporting" class="link">error_reporting</a> is enhanced
    to include <b><tt>E_STRICT</tt></b> errors (and vice versa).
   </p>
  </div>
  <div class="tip"><b class="tip">Tip</b>
   <p class="simpara">
    Passing in the value <i>-1</i> will show every possible error,
    even when new levels and constants are added in future PHP versions. The
    <b><tt>E_ALL</tt></b> constant also behaves this way as of PHP 5.4.
   </p>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.error-reporting-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member">The <a href="errorfunc.configuration.html#ini.display-errors" class="link">display_errors</a> directive</li>
    <li class="member">The <a href="errorfunc.configuration.html#ini.html-errors" class="link">html_errors</a> directive</li>
    <li class="member">The <a href="errorfunc.configuration.html#ini.xmlrpc-errors" class="link">xmlrpc_errors</a> directive</li>
    <li class="member"><span class="function"><a href="function.ini-set.html" class="function" rel="rdfs-seeAlso">ini_set()</a> - Sets the value of a configuration option</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="105229""></a>
  <div class="note">
   <strong class="user">ywarnier at beeznest dot org</strong>
   <a href="#105229" class="date">03-Aug-2011 08:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Setting error_reporting in your VirtualHost has to be done through a numerical value which is the result of the options you choose summed up from the values of these options, as defined on the constants page for the error management functions: <a href="http://www.php.net/manual/en/errorfunc.constants.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/errorfunc.constants.php</a><br />
<br />
As a result, E_ALL &amp; ~E_NOTICE would be set this way (this automatically excludes E_DEPRECATED AND E_USER_DEPRECATED):<br />
<br />
&nbsp; php_value error_reporting 6135<br />
<br />
whereas E_ALL (excluding the deprecated levels) would be set this way:<br />
<br />
&nbsp; php_value error_reporting 6143<br />
<br />
The difference between those two values is 8, which is the value of the constant for E_NOTICE.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103951""></a>
  <div class="note">
   <strong class="user">info at hyperjoint dot com</strong>
   <a href="#103951" class="date">13-May-2011 06:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Setting error_reporting to values which are not defined by the actually used PHP version may result in unpredictable behaviour. Since I often swap between server I use this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">safe_error_reporting</span><span class="keyword">(</span><span class="default">$level</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp; </span><span class="default">$e_all</span><span class="keyword">=</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'E_STRICT'</span><span class="keyword">)?</span><span class="default">E_ALL</span><span class="keyword">|</span><span class="default">E_STRICT</span><span class="keyword">:</span><span class="default">E_ALL</span><span class="keyword">;<br />
&nbsp; if(isset(</span><span class="default">$level</span><span class="keyword">))</span><span class="default">$level</span><span class="keyword">=</span><span class="default">$level </span><span class="keyword">&amp; </span><span class="default">$e_all</span><span class="keyword">;<br />
&nbsp; return </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">$level</span><span class="keyword">);<br />
&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
This<br />
- gets E_ALL (inklusive E_STRICT if defined)<br />
- filters level by E_ALL<br />
- sets filtered error_reporting</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103745""></a>
  <div class="note">
   <strong class="user">Khalid</strong>
   <a href="#103745" class="date">01-May-2011 12:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When using joomla 1.6 in the backend. i see a message is desplayed: Strict Standards: Only variables should be assigned by reference in C:\xampp\htdocs\plugins\search\modules\modules.php on line 63</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101260""></a>
  <div class="note">
   <strong class="user">rojaro at gmail dot com</strong>
   <a href="#101260" class="date">06-Dec-2010 02:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To enable error reporting for *ALL* error messages including every error level (including E_STRICT, E_NOTICE etc.), simply use:<br />
<br />
<span class="default">&lt;?php error_reporting</span><span class="keyword">(-</span><span class="default">1</span><span class="keyword">); </span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98414""></a>
  <div class="note">
   <strong class="user">keithm at aoeex dot com</strong>
   <a href="#98414" class="date">14-Jun-2010 10:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Some E_STRICT errors seem to be thrown during the page's compilation process.&nbsp; This means they cannot be disabled by dynamically altering the error level at run time within that page.<br />
<br />
The work-around for this was to rename the file and replace the original with a error_reporting() call and then a require() call.<br />
<br />
Ex, rename index.php to index.inc.php, then re-create index.php as:<br />
<br />
<span class="default">&lt;?php<br />
error_reporting</span><span class="keyword">(</span><span class="default">E_ALL </span><span class="keyword">&amp; ~(</span><span class="default">E_STRICT</span><span class="keyword">|</span><span class="default">E_NOTICE</span><span class="keyword">));<br />
require(</span><span class="string">'index.inc.php'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
That allows you to alter the error reporting prior to the file being compiled.<br />
<br />
I discovered this recently when I was given code from another development firm that triggered several E_STRICT errors and I wanted to disable E_STRICT on a per-page basis.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95944""></a>
  <div class="note">
   <strong class="user">roberto at spadim dot com dot br</strong>
   <a href="#95944" class="date">29-Jan-2010 01:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
see more information about php 5.3 deprecated errors<br />
<br />
<a href="http://php.net/manual/en/migration53.deprecated.php" rel="nofollow" target="_blank">http://php.net/manual/en/migration53.deprecated.php</a></span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91412""></a>
  <div class="note">
   <strong class="user">misplacedme at gmail dot com</strong>
   <a href="#91412" class="date">09-Jun-2009 02:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I always code with E_ALL set.<br />
After a couple of pages of<br />
<span class="default">&lt;?php<br />
$username </span><span class="keyword">= (isset(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'username'</span><span class="keyword">]) &amp;&amp; !empty(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'username'</span><span class="keyword">]))....<br />
</span><span class="default">?&gt;<br />
</span><br />
I made this function to make things a little bit quicker.&nbsp; Unset values passed by reference won't trigger a notice.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">test_ref</span><span class="keyword">(&amp;</span><span class="default">$var</span><span class="keyword">,</span><span class="default">$test_function</span><span class="keyword">=</span><span class="string">''</span><span class="keyword">,</span><span class="default">$negate</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(!isset(</span><span class="default">$var</span><span class="keyword">)) </span><span class="default">$stat </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if (!empty(</span><span class="default">$test_function</span><span class="keyword">) &amp;&amp; </span><span class="default">function_exists</span><span class="keyword">(</span><span class="default">$test_function</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= </span><span class="default">$test_function</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= (</span><span class="default">$negate</span><span class="keyword">) ? </span><span class="default">$stat</span><span class="keyword">^</span><span class="default">1 </span><span class="keyword">: </span><span class="default">$stat</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; elseif(</span><span class="default">$test_function </span><span class="keyword">== </span><span class="string">'empty'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= empty(</span><span class="default">$var</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= (</span><span class="default">$negate</span><span class="keyword">) ? </span><span class="default">$stat</span><span class="keyword">^</span><span class="default">1 </span><span class="keyword">: </span><span class="default">$stat</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; elseif (!</span><span class="default">function_exists</span><span class="keyword">(</span><span class="default">$test_function</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">"</span><span class="default">$test_function</span><span class="string">() is not a valid function"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$stat </span><span class="keyword">= (</span><span class="default">$stat</span><span class="keyword">) ? </span><span class="default">true </span><span class="keyword">: </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$stat</span><span class="keyword">;<br />
}<br />
</span><span class="default">$a </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="string">'15'</span><span class="keyword">;<br />
<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="string">'empty'</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);&nbsp; </span><span class="comment">//False<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="string">'is_int'</span><span class="keyword">);&nbsp; </span><span class="comment">//False<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="string">'is_numeric'</span><span class="keyword">);&nbsp; </span><span class="comment">//False<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">,</span><span class="string">'empty'</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);&nbsp; </span><span class="comment">//true<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">,</span><span class="string">'is_int'</span><span class="keyword">);&nbsp; </span><span class="comment">//False<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">,</span><span class="string">'is_numeric'</span><span class="keyword">);&nbsp; </span><span class="comment">//false<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$unset</span><span class="keyword">,</span><span class="string">'is_numeric'</span><span class="keyword">);&nbsp; </span><span class="comment">//false<br />
</span><span class="default">test_ref</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">,</span><span class="string">'is_number'</span><span class="keyword">);&nbsp; </span><span class="comment">//returns false, with an error.<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89829""></a>
  <div class="note">
   <strong class="user">ecervetti at orupaca dot fr</strong>
   <a href="#89829" class="date">25-Mar-2009 01:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It could save two minutes to someone:<br />
E_ALL &amp; ~E_NOTICE&nbsp; integer value is 6135</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="89017""></a>
  <div class="note">
   <strong class="user">Daz Williams (The Northeast)</strong>
   <a href="#89017" class="date">18-Feb-2009 06:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Only display php errors to the developer...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">'REMOTE_ADDR'</span><span class="keyword">]==</span><span class="string">"00.00.00.00"</span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">'display_errors'</span><span class="keyword">,</span><span class="string">'On'</span><span class="keyword">);<br />
}<br />
else<br />
{<br />
&nbsp; </span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">'display_errors'</span><span class="keyword">,</span><span class="string">'Off'</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Just replace 00.00.00.00 with your ip address.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85096""></a>
  <div class="note">
   <strong class="user">info at hephoz dot de</strong>
   <a href="#85096" class="date">14-Aug-2008 06:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you just see a blank page instead of an error reporting and you have no server access so you can't edit php configuration files like php.ini try this:<br />
<br />
- create a new file in which you include the faulty script:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
&nbsp;</span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">"display_errors"</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
&nbsp;include(</span><span class="string">"file_with_errors.php"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
- execute this file instead of the faulty script file <br />
<br />
now errors of your faulty script should be reported.<br />
this works fine with me. hope it solves your problem as well!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85013""></a>
  <div class="note">
   <strong class="user">kc8yds at gmail dot com</strong>
   <a href="#85013" class="date">10-Aug-2008 11:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
this is to show all errors for code that may be run on different versions<br />
<br />
for php 5 it shows E_ALL^E_STRICT and for other versions just E_ALL<br />
<br />
if anyone sees any problems with it please correct this post<br />
<br />
<span class="default">&lt;?php<br />
ini_set</span><span class="keyword">(</span><span class="string">'error_reporting'</span><span class="keyword">, </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">PHP_VERSION</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="string">'&gt;='</span><span class="keyword">) &amp;&amp; </span><span class="default">version_compare</span><span class="keyword">(</span><span class="default">PHP_VERSION</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="string">'&lt;'</span><span class="keyword">) ?</span><span class="default">E_ALL</span><span class="keyword">^</span><span class="default">E_STRICT</span><span class="keyword">:</span><span class="default">E_ALL</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="83455""></a>
  <div class="note">
   <strong class="user">derek at darkcolors dot com</strong>
   <a href="#83455" class="date">27-May-2008 01:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I had the problem that if there was an error, php would just give me a blank page.&nbsp; Any error at all forced a blank page instead of any output whatsoever, even though I made sure that I had error_reporting set to E_ALL, display_errors turned on, etc etc.&nbsp; But simply running the file in a different directory allowed it to show errors!<br />
<br />
Turns out that the error_log file in the one directory was full (2.0 Gb).&nbsp; I erased the file and now errors are displayed normally.&nbsp; It might also help to turn error logging off.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75046""></a>
  <div class="note">
   <strong class="user">bbaez at biospectra dot com</strong>
   <a href="#75046" class="date">09-May-2007 05:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
frederick noted this in 2005 but want to stress the point here<br />
<br />
If you set error_reporting in httpd.conf or within a script (some PHP versions) then you must use the integer value and not the string:<br />
<br />
Example httpd.conf:<br />
E_ALL ^ E_NOTICE would be:<br />
php_value error_reporting 6135<br />
<br />
otherwise the error will not display during output.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74306""></a>
  <div class="note">
   <strong class="user">antickon AT gmail.com</strong>
   <a href="#74306" class="date">04-Apr-2007 05:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
regarding what vdephily at bluemetrix dot com said ( see <a href="http://be.php.net/manual/en/function.error-reporting.php#50228 " rel="nofollow" target="_blank">http://be.php.net/manual/en/function.error-reporting.php#50228 </a>)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">$foobar</span><span class="keyword">-&gt;</span><span class="default">field</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
also initializes $foobar (as an instance of stdClass), so this code will not cause any notices.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73759""></a>
  <div class="note">
   <strong class="user">bitagenda at gmail dot com</strong>
   <a href="#73759" class="date">08-Mar-2007 08:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A simple and effective way to catch Fatal errors.<br />
From here you can go forward with your own ideas and elaborate a detailed error report.<br />
<br />
The principle is simple and ready to test on your system<br />
<br />
Fatal errors are not currently catched and you should have display errors off in production sites, but may be you need to test the system so you want a fast an easy way to see fatal errors in your currently running site, without the users seeing those Fatal errors as recomended.<br />
<br />
You must have this function<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">catchFatalErrors</span><span class="keyword">(</span><span class="default">$p_OnOff</span><span class="keyword">=</span><span class="string">'On'</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">'display_errors'</span><span class="keyword">,</span><span class="string">'On'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$phperror</span><span class="keyword">=</span><span class="string">'&gt;&lt;div id="phperror" style="display:none"&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">'error_prepend_string'</span><span class="keyword">,</span><span class="default">$phperror</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$phperror</span><span class="keyword">=</span><span class="string">'&lt;/div&gt;&gt;&lt;form name="catcher" action="/sos.php" method="post" &gt;&lt;input type="hidden" name="fatal"&nbsp; value=""&gt;&lt;/form&gt; &lt;script&gt; document.catcher.fatal.value = document.getElementById("phperror").innerHTML; document.catcher.submit();&lt;/script&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ini_set</span><span class="keyword">(</span><span class="string">'error_append_string'</span><span class="keyword">,</span><span class="default">$phperror</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="default">Now activate your fatal error catcher<br />
<br />
catchFatalErrors</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
Just to test write this inexistent function<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; Bitagenda</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span><br />
That's all. As you can see there will be a form posted with action="/sos.php", of course you can name this page at your liking, in this case is at the site's root.<br />
<br />
Have ready your page sos.php, and elaborate on that. Of course change the mail address to yours,and display a message to the user at your liking.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if (isset(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'fatal'</span><span class="keyword">])){<br />
&nbsp;</span><span class="default">error_log</span><span class="keyword">(</span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'fatal'</span><span class="keyword">],</span><span class="default">1</span><span class="keyword">,</span><span class="string">'bitagenda@gmail.com'</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
&nbsp;"System Out of Service. Thanks for waiting."<br />
<br />
The other fact about this handler is that even if you do not redirect the Fatal Error, prepending<br />
&gt;&lt;div style="display:none"&gt;<br />
and appending<br />
&lt;/div&gt;<br />
<br />
Then writting yor personal message<br />
<br />
" Sorry, fatal bug."<br />
<br />
Will hide the fatal error message from the user, but will be visible in the browsers soure code view.<br />
<br />
What happens if you redirect the page before displaying the error? I donå«t know, have not tested, but at least you could do it to alert you that a fatal error exists and possibly the fatal error is not displayed (leading to security and at the same time catching the fatal error). Then you could activate this error handler with post-redirection to see what's going on.<br />
<br />
;o)<br />
<br />
Bitagenda</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72457""></a>
  <div class="note">
   <strong class="user">Alex</strong>
   <a href="#72457" class="date">19-Jan-2007 03:43</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
error_reporting() may give unexpected results if the @ error suppression directive is used.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;</span><span class="keyword">@include </span><span class="string">'config.php'</span><span class="keyword">;<br />
&nbsp;include </span><span class="string">'foo.bar'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// non-existent file<br />
</span><span class="default">?&gt;<br />
</span><br />
config.php<br />
<span class="default">&lt;?php<br />
&nbsp;error_reporting</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
will throw an error level E_WARNING in relation to the non-existent file (depending of course on your configuration settings).&nbsp; If the suppressor is removed, this works as expected.<br />
<br />
Alternatively using ini_set('display_errors', 0) in config.php will achieve the same result.&nbsp; This is contrary to the note above which says that the two instructions are equivalent.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70126""></a>
  <div class="note">
   <strong class="user">silvan at NOSPAM dot example dot com</strong>
   <a href="#70126" class="date">04-Oct-2006 06:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
On a shared debugging and production server it is convenient to use<br />
<span class="default">&lt;?php error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">); </span><span class="default">?&gt;<br />
</span>for debugging.<br />
<br />
This will not help in case of parsing errors, so make sure you enable at least E_PARSE in your php.ini. Parse errors should not exist in production scripts.<br />
<br />
Still, sometimes your script will not get executed even though no parse error is displayed (just a blank page/ no output at all). As far as I know this only happens when you redeclare a user function or class. <br />
<br />
eg.<br />
<span class="default">&lt;?php<br />
error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
<br />
function </span><span class="default">a</span><span class="keyword">(){}<br />
function </span><span class="default">a</span><span class="keyword">(){}<br />
</span><span class="default">?&gt;<br />
</span><br />
This prevents your script from running like a parse error, but is in fact a fatal run-time error (E_ERROR). Other fatal run-time errors will allow your script to apply the error_reporting, when it is executed before the <br />
error occurs (eg. put error_reporting on the first line of code.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="65884""></a>
  <div class="note">
   <strong class="user">Chris</strong>
   <a href="#65884" class="date">09-May-2006 01:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I found some simple mistakes in the functions I posted yesterday, so here are the corrected versions.<br />
And a good advice: never code in the middle of the night ;)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">error2string</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$level_names </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_ERROR </span><span class="keyword">=&gt; </span><span class="string">'E_ERROR'</span><span class="keyword">, </span><span class="default">E_WARNING </span><span class="keyword">=&gt; </span><span class="string">'E_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_PARSE </span><span class="keyword">=&gt; </span><span class="string">'E_PARSE'</span><span class="keyword">, </span><span class="default">E_NOTICE </span><span class="keyword">=&gt; </span><span class="string">'E_NOTICE'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_CORE_ERROR </span><span class="keyword">=&gt; </span><span class="string">'E_CORE_ERROR'</span><span class="keyword">, </span><span class="default">E_CORE_WARNING </span><span class="keyword">=&gt; </span><span class="string">'E_CORE_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_COMPILE_ERROR </span><span class="keyword">=&gt; </span><span class="string">'E_COMPILE_ERROR'</span><span class="keyword">, </span><span class="default">E_COMPILE_WARNING </span><span class="keyword">=&gt; </span><span class="string">'E_COMPILE_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_USER_ERROR </span><span class="keyword">=&gt; </span><span class="string">'E_USER_ERROR'</span><span class="keyword">, </span><span class="default">E_USER_WARNING </span><span class="keyword">=&gt; </span><span class="string">'E_USER_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">E_USER_NOTICE </span><span class="keyword">=&gt; </span><span class="string">'E_USER_NOTICE' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'E_STRICT'</span><span class="keyword">)) </span><span class="default">$level_names</span><span class="keyword">[</span><span class="default">E_STRICT</span><span class="keyword">]=</span><span class="string">'E_STRICT'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$levels</span><span class="keyword">=array();<br />
&nbsp;&nbsp;&nbsp; if((</span><span class="default">$value</span><span class="keyword">&amp;</span><span class="default">E_ALL</span><span class="keyword">)==</span><span class="default">E_ALL</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$levels</span><span class="keyword">[]=</span><span class="string">'E_ALL'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value</span><span class="keyword">&amp;=~</span><span class="default">E_ALL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$level_names </span><span class="keyword">as </span><span class="default">$level</span><span class="keyword">=&gt;</span><span class="default">$name</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if((</span><span class="default">$value</span><span class="keyword">&amp;</span><span class="default">$level</span><span class="keyword">)==</span><span class="default">$level</span><span class="keyword">) </span><span class="default">$levels</span><span class="keyword">[]=</span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">implode</span><span class="keyword">(</span><span class="string">' | '</span><span class="keyword">,</span><span class="default">$levels</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">string2error</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$level_names </span><span class="keyword">= array( </span><span class="string">'E_ERROR'</span><span class="keyword">, </span><span class="string">'E_WARNING'</span><span class="keyword">, </span><span class="string">'E_PARSE'</span><span class="keyword">, </span><span class="string">'E_NOTICE'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'E_CORE_ERROR'</span><span class="keyword">, </span><span class="string">'E_CORE_WARNING'</span><span class="keyword">, </span><span class="string">'E_COMPILE_ERROR'</span><span class="keyword">, </span><span class="string">'E_COMPILE_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'E_USER_ERROR'</span><span class="keyword">, </span><span class="string">'E_USER_WARNING'</span><span class="keyword">, </span><span class="string">'E_USER_NOTICE'</span><span class="keyword">, </span><span class="string">'E_ALL' </span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">defined</span><span class="keyword">(</span><span class="string">'E_STRICT'</span><span class="keyword">)) </span><span class="default">$level_names</span><span class="keyword">[]=</span><span class="string">'E_STRICT'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$value</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$levels</span><span class="keyword">=</span><span class="default">explode</span><span class="keyword">(</span><span class="string">'|'</span><span class="keyword">,</span><span class="default">$string</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$levels </span><span class="keyword">as </span><span class="default">$level</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$level</span><span class="keyword">=</span><span class="default">trim</span><span class="keyword">(</span><span class="default">$level</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">defined</span><span class="keyword">(</span><span class="default">$level</span><span class="keyword">)) </span><span class="default">$value</span><span class="keyword">|=(int)</span><span class="default">constant</span><span class="keyword">(</span><span class="default">$level</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$value</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="65049""></a>
  <div class="note">
   <strong class="user">the_bug_the_bug at hotmail dot com</strong>
   <a href="#65049" class="date">24-Apr-2006 06:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to simon at firepages dot com dot au below:<br />
<br />
I wrote a shorter more efficient function which will return a string containing the names of the error levels set in the .ini file:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">error_level_tostring</span><span class="keyword">(</span><span class="default">$intval</span><span class="keyword">, </span><span class="default">$separator</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$errorlevels </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">2047 </span><span class="keyword">=&gt; </span><span class="string">'E_ALL'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">1024 </span><span class="keyword">=&gt; </span><span class="string">'E_USER_NOTICE'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">512 </span><span class="keyword">=&gt; </span><span class="string">'E_USER_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">256 </span><span class="keyword">=&gt; </span><span class="string">'E_USER_ERROR'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">128 </span><span class="keyword">=&gt; </span><span class="string">'E_COMPILE_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">64 </span><span class="keyword">=&gt; </span><span class="string">'E_COMPILE_ERROR'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">32 </span><span class="keyword">=&gt; </span><span class="string">'E_CORE_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">16 </span><span class="keyword">=&gt; </span><span class="string">'E_CORE_ERROR'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">8 </span><span class="keyword">=&gt; </span><span class="string">'E_NOTICE'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">4 </span><span class="keyword">=&gt; </span><span class="string">'E_PARSE'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">2 </span><span class="keyword">=&gt; </span><span class="string">'E_WARNING'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">1 </span><span class="keyword">=&gt; </span><span class="string">'E_ERROR'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; foreach(</span><span class="default">$errorlevels </span><span class="keyword">as </span><span class="default">$number </span><span class="keyword">=&gt; </span><span class="default">$name</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">$intval </span><span class="keyword">&amp; </span><span class="default">$number</span><span class="keyword">) == </span><span class="default">$number</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$result </span><span class="keyword">.= (</span><span class="default">$result </span><span class="keyword">!= </span><span class="string">'' </span><span class="keyword">? </span><span class="default">$separator </span><span class="keyword">: </span><span class="string">''</span><span class="keyword">).</span><span class="default">$name</span><span class="keyword">; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
P.S. With a little modification this function can be made to show the string values of any enumeration.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64060""></a>
  <div class="note">
   <strong class="user">dave at davidhbrown dot us</strong>
   <a href="#64060" class="date">06-Apr-2006 08:51</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The example of E_ALL ^ E_NOTICE is a 'bit' confusing for those of us not wholly conversant with bitwise operators.<br />
<br />
If you wish to remove notices from the current level, whatever that unknown level might be, use &amp; ~ instead:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//....<br />
</span><span class="default">$errorlevel</span><span class="keyword">=</span><span class="default">error_reporting</span><span class="keyword">();<br />
</span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">$errorlevel </span><span class="keyword">&amp; ~</span><span class="default">E_NOTICE</span><span class="keyword">);<br />
</span><span class="comment">//...code that generates notices<br />
</span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">$errorlevel</span><span class="keyword">);<br />
</span><span class="comment">//...<br />
</span><span class="default">?&gt;<br />
</span><br />
^ is the xor (bit flipping) operator and would actually turn notices *on* if they were previously off (in the error level on its left). It works in the example because E_ALL is guaranteed to have the bit for E_NOTICE set, so when ^ flips that bit, it is in fact turned off. &amp; ~ (and not) will always turn off the bits specified by the right-hand parameter, whether or not they were on or off.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55985""></a>
  <div class="note">
   <strong class="user">DarkGool</strong>
   <a href="#55985" class="date">19-Aug-2005 10:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In phpinfo() error reporting level display like a bit (such as 4095)<br />
<br />
Maybe it is a simply method to understand what a level set on your host<br />
if you are not have access to php.ini file<br />
<br />
<span class="default">&lt;?php<br />
$bit </span><span class="keyword">= </span><span class="default">ini_get</span><span class="keyword">(</span><span class="string">'error_reporting'</span><span class="keyword">);<br />
while (</span><span class="default">$bit </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$bit</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">1 </span><span class="keyword">* </span><span class="default">pow</span><span class="keyword">(</span><span class="default">2</span><span class="keyword">, </span><span class="default">$n</span><span class="keyword">), </span><span class="default">$n</span><span class="keyword">++) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">$i</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$res</span><span class="keyword">[] = </span><span class="default">$end</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bit </span><span class="keyword">= </span><span class="default">$bit </span><span class="keyword">- </span><span class="default">$end</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
In $res you will have all constants of error reporting<br />
$res[]=int(16) // E_CORE_ERROR <br />
$res[]=int(8)&nbsp; &nbsp; // E_NOTICE <br />
...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55035""></a>
  <div class="note">
   <strong class="user">fredrik at demomusic dot nu</strong>
   <a href="#55035" class="date">22-Jul-2005 04:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Remember that the error_reporting value is an integer, not a string ie "E_ALL &amp; ~E_NOTICE". <br />
<br />
This is very useful to remember when setting error_reporting levels in httpd.conf:<br />
<br />
Use the table above or: <br />
<br />
<span class="default">&lt;?php<br />
ini_set</span><span class="keyword">(</span><span class="string">"error_reporting"</span><span class="keyword">, </span><span class="default">E_YOUR_ERROR_LEVEL</span><span class="keyword">);<br />
echo </span><span class="default">ini_get</span><span class="keyword">(</span><span class="string">"error_reporting"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
To get the appropriate integer for your error-level. Then use:<br />
<br />
php_admin_value error_reporting YOUR_INT<br />
<br />
in httpd.conf<br />
<br />
I want to share this rather straightforward tip as it is rather annoying for new php users trying to understand why things are not working when the error-level is set to (int) "E_ALL" = 0...<br />
<br />
Maybe the PHP-developers should make ie error_reporting("E_ALL"); output a E_NOTICE informative message about the mistake?</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50237""></a>
  <div class="note">
   <strong class="user">phpfanat at yandex dot ru</strong>
   <a href="#50237" class="date">22-Feb-2005 09:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you get a weird mysql warnings like "Warning: mysql_query() [<a href="http://www.mysql.com/doc]: Your query requires a full tablescan..." rel="nofollow" target="_blank">http://www.mysql.com/doc]: Your query requires a full tablescan...</a>", don't look for error_reporting settings - it's set in php.ini.<br />
You can turn it off with<br />
ini_set("mysql.trace_mode","Off");<br />
in your script<br />
<br />
And, as of my opinion, it should be NOTICE, not WARNING level.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50228""></a>
  <div class="note">
   <strong class="user">vdephily at bluemetrix dot com</strong>
   <a href="#50228" class="date">22-Feb-2005 03:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that E_NOTICE will warn you about uninitialized variables, but assigning a key/value pair counts as initialization, and will not trigger any error :<br />
<span class="default">&lt;?php<br />
error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
<br />
</span><span class="default">$foo </span><span class="keyword">= </span><span class="default">$bar</span><span class="keyword">; </span><span class="comment">//notice : $bar uninitialized<br />
<br />
</span><span class="default">$bar</span><span class="keyword">[</span><span class="string">'foo'</span><span class="keyword">] = </span><span class="string">'hello'</span><span class="keyword">; </span><span class="comment">// no notice, although $bar itself has never been initialized (with "$bar = array()" for example)<br />
<br />
</span><span class="default">$bar </span><span class="keyword">= array(</span><span class="string">'foobar' </span><span class="keyword">=&gt; </span><span class="string">'barfoo'</span><span class="keyword">);<br />
</span><span class="default">$foo </span><span class="keyword">= </span><span class="default">$bar</span><span class="keyword">[</span><span class="string">'foobar'</span><span class="keyword">] </span><span class="comment">// ok<br />
<br />
</span><span class="default">$foo </span><span class="keyword">= </span><span class="default">$bar</span><span class="keyword">[</span><span class="string">'nope'</span><span class="keyword">] </span><span class="comment">// notice : no such index<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48147""></a>
  <div class="note">
   <strong class="user">Fernando Piancastelli</strong>
   <a href="#48147" class="date">13-Dec-2004 01:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The error_reporting() function won't be effective if your display_errors directive in php.ini is set to "Off", regardless of level reporting you set. I had to set<br />
<br />
display_errors = On<br />
error_reporting = ~E_ALL<br />
<br />
to keep no error reporting as default, but be able to change error reporting level in my scripts.<br />
I'm using PHP 4.3.9 and Apache 2.0.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45466""></a>
  <div class="note">
   <strong class="user">ferozzahid [at] usa [dot] com</strong>
   <a href="#45466" class="date">08-Sep-2004 04:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To be enable to switch between error_reporting during development and release phases, one can define say 'php_error_reporting' in the main configuration file (ini like file: no PHP) for the application as:<br />
<br />
# config.ini<br />
# PHP error reporting. supported values are given below.<br />
# 0 - Turn off all error reporting<br />
# 1 - Running errors<br />
# 2 - Running errors + notices<br />
# 3 - All errors except notices and warnings<br />
# 4 - All errors except notices<br />
# 5 - All errors<br />
<br />
php_error_reporting=4<br />
<br />
# config.ini ends<br />
<br />
Setting error_reporting in PHP files would be something like the code below, assuming the function getinivar() returns the variable value from the configuration file.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// setting PHP error reporting<br />
</span><span class="keyword">switch(</span><span class="default">getinivar</span><span class="keyword">(</span><span class="string">'php_error_reporting'</span><span class="keyword">)) {<br />
case </span><span class="default">0</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">); break;<br />
case </span><span class="default">1</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ERROR </span><span class="keyword">| </span><span class="default">E_WARNING </span><span class="keyword">| </span><span class="default">E_PARSE</span><span class="keyword">); break;<br />
case </span><span class="default">2</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ERROR </span><span class="keyword">| </span><span class="default">E_WARNING </span><span class="keyword">| </span><span class="default">E_PARSE </span><span class="keyword">| </span><span class="default">E_NOTICE</span><span class="keyword">); break;<br />
case </span><span class="default">3</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL </span><span class="keyword">^ (</span><span class="default">E_NOTICE </span><span class="keyword">| </span><span class="default">E_WARNING</span><span class="keyword">)); break;<br />
case </span><span class="default">4</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL </span><span class="keyword">^ </span><span class="default">E_NOTICE</span><span class="keyword">); break;<br />
case </span><span class="default">5</span><span class="keyword">: </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">); break;<br />
default:<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Feroz Zahid.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="29874""></a>
  <div class="note">
   <strong class="user">jernberg at fairytale dot se</strong>
   <a href="#29874" class="date">27-Feb-2003 03:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
tip: if you want your error_reporting()-setting to work with your own error handler you could simply check the error number against the current error bitmask.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">myErrorHandler</span><span class="keyword">( </span><span class="default">$errno</span><span class="keyword">, </span><span class="default">$errstr</span><span class="keyword">, </span><span class="default">$errfile</span><span class="keyword">, </span><span class="default">$errline </span><span class="keyword">)<br />
{<br />
&nbsp; </span><span class="default">$replevel </span><span class="keyword">= </span><span class="default">error_reporting</span><span class="keyword">();<br />
&nbsp; if( ( </span><span class="default">$errno </span><span class="keyword">&amp; </span><span class="default">$replevel </span><span class="keyword">) != </span><span class="default">$errno </span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// we shall remain quiet.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return;<br />
&nbsp; }<br />
&nbsp; echo( </span><span class="string">"error....." </span><span class="keyword">);<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="18923""></a>
  <div class="note">
   <strong class="user">rbt at zort.ca</strong>
   <a href="#18923" class="date">09-Feb-2002 08:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It should be noted that in apache.conf files the defined values (constants) don't work.&nbsp; For E_ALL logging, one would use:<br />
<br />
php_admin_value error_reporting 2047</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="8866""></a>
  <div class="note">
   <strong class="user">j dot schriver at vindiou dot com</strong>
   <a href="#8866" class="date">02-Oct-2000 11:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
error_reporting() has no effect if you have defined your own error handler with set_error_handler()<br />
<br />
[Editor's Note: This is not quite accurate.<br />
<br />
E_ERROR, E_PARSE, E_CORE_ERROR, E_CORE_WARNING, E_COMPILE_ERROR and E_COMPILE_WARNING error levels will be handled as per the error_reporting settings.<br />
<br />
All other levels of errors will be passed to the custom error handler defined by set_error_handler().<br />
<br />
Zeev Suraski suggests that a simple way to use the defined levels of error reporting with your custom error handlers is to add the following line to the top of your error handling function:<br />
<br />
if (!($type &amp; error_reporting())) return;<br />
<br />
&nbsp;-zak@php.net]</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="3572""></a>
  <div class="note">
   
   <a href="#3572" class="date">03-Feb-2000 11:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The E_NOTICE error reporting level reports the use of undefined variables as an error.<br />
<br />
For example:<br />
error_reporting(E_ALL); # Set error reporting to highest level<br />
if ($foo)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # This will generate an error<br />
&nbsp; print "bar";&nbsp; &nbsp; &nbsp;&nbsp; # because $foo is not defined<br />
<br />
To avoid this behavior, use isset to test if the given<br />
variable has been defined.<br />
<br />
For example:<br />
error_reporting(E_ALL);<br />
if (isset ($foo))<br />
&nbsp;&nbsp;&nbsp; print "bar";</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="881""></a>
  <div class="note">
   <strong class="user">webmaster at l-i-e dot com</strong>
   <a href="#881" class="date">21-May-1999 02:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
[Editor's Note: E_ALL will contain the result of OR'ing all of the applicable error constants together. For PHP 3, this will be the first 4 E_xxx constants.&nbsp; For PHP 4, this will be all constants. ]<br />
<br />
There is also an E_ALL which is the first 4 E_xxx added up for you...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.error-log.html">error_log</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.restore-error-handler.html">restore_error_handler</a></div>
 <div class="up"><a href="ref.errorfunc.html">Error Handling Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
