<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Comparison Operators</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.operators.bitwise.html">Bitwise Operators</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.operators.errorcontrol.html">Error Control Operators</a></div>
 <div class="up"><a href="language.operators.html">Operators</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.operators.comparison" class="sect1">
   <h2 class="title">Comparison Operators</h2>
   <p class="simpara">
    Comparison operators, as their name implies, allow you to compare
    two values.  You may also be interested in viewing
    <a href="types.comparisons.html" class="link">the type comparison tables</a>,
    as they show examples of various type related comparisons.
   </p>
   <table class="doctable table">
    <caption><b>Comparison Operators</b></caption>
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Example</th>
       <th>Name</th>
       <th>Result</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">$a == $b</td>
       <td align="left">Equal</td>
       <td align="left"><b><tt>TRUE</tt></b> if <var class="varname"><var class="varname">$a</var></var> is equal to <var class="varname"><var class="varname">$b</var></var> after type juggling.</td>
      </tr>

      <tr valign="middle">
       <td align="left">$a === $b</td>
       <td align="left">Identical</td>
       <td align="left">
        <b><tt>TRUE</tt></b> if <var class="varname"><var class="varname">$a</var></var> is equal to <var class="varname"><var class="varname">$b</var></var>, and they are of the same
        type.
       </td>
      </tr>

      <tr valign="middle">
       <td align="left">$a != $b</td>
       <td align="left">Not equal</td>
       <td align="left"><b><tt>TRUE</tt></b> if <var class="varname"><var class="varname">$a</var></var> is not equal to <var class="varname"><var class="varname">$b</var></var> after type juggling.</td>
      </tr>

      <tr valign="middle">
       <td align="left">$a &lt;&gt; $b</td>
       <td align="left">Not equal</td>
       <td align="left"><b><tt>TRUE</tt></b> if <var class="varname"><var class="varname">$a</var></var> is not equal to <var class="varname"><var class="varname">$b</var></var> after type juggling.</td>
      </tr>

      <tr valign="middle">
       <td align="left">$a !== $b</td>
       <td align="left">Not identical</td>
       <td align="left">
        <b><tt>TRUE</tt></b> if <var class="varname"><var class="varname">$a</var></var> is not equal to <var class="varname"><var class="varname">$b</var></var>, or they are not of the same
        type.
       </td>
      </tr>

      <tr valign="middle">
       <td align="left">$a &lt; $b</td>
       <td align="left">Less than</td>
       <td align="left"><b><tt>TRUE</tt></b> if <var class="varname"><var class="varname">$a</var></var> is strictly less than <var class="varname"><var class="varname">$b</var></var>.</td>
      </tr>

      <tr valign="middle">
       <td align="left">$a &gt; $b</td>
       <td align="left">Greater than</td>
       <td align="left"><b><tt>TRUE</tt></b> if <var class="varname"><var class="varname">$a</var></var> is strictly greater than <var class="varname"><var class="varname">$b</var></var>.</td>
      </tr>

      <tr valign="middle">
       <td align="left">$a &lt;= $b</td>
       <td align="left">Less than or equal to </td>
       <td align="left"><b><tt>TRUE</tt></b> if <var class="varname"><var class="varname">$a</var></var> is less than or equal to <var class="varname"><var class="varname">$b</var></var>.</td>
      </tr>

      <tr valign="middle">
       <td align="left">$a &gt;= $b</td>
       <td align="left">Greater than or equal to </td>
       <td align="left"><b><tt>TRUE</tt></b> if <var class="varname"><var class="varname">$a</var></var> is greater than or equal to <var class="varname"><var class="varname">$b</var></var>.</td>
      </tr>

     </tbody>
    
   </table>

   <p class="para">
    If you compare a number with a string or the comparison involves numerical
    strings, then each string is
    <a href="language.types.string.html#language.types.string.conversion" class="link">converted to a number</a>
    and the comparison performed numerically. These rules also apply to the
    <a href="control-structures.switch.html" class="link">switch</a> statement. The
    type conversion does not take place when the comparison is === or !== as
    this involves comparing the type as well as the value.
    <div class="informalexample">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">0&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">"a"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;0&nbsp;==&nbsp;0&nbsp;-&gt;&nbsp;true<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #DD0000">"1"&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">"01"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;1&nbsp;==&nbsp;1&nbsp;-&gt;&nbsp;true<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #DD0000">"10"&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">"1e1"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;10&nbsp;==&nbsp;10&nbsp;-&gt;&nbsp;true<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">100&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">"1e2"</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;100&nbsp;==&nbsp;100&nbsp;-&gt;&nbsp;true<br /><br /></span><span style="color: #007700">switch&nbsp;(</span><span style="color: #DD0000">"a"</span><span style="color: #007700">)&nbsp;{<br />case&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">:<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"0"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;break;<br />case&nbsp;</span><span style="color: #DD0000">"a"</span><span style="color: #007700">:&nbsp;</span><span style="color: #FF8000">//&nbsp;never&nbsp;reached&nbsp;because&nbsp;"a"&nbsp;is&nbsp;already&nbsp;matched&nbsp;with&nbsp;0<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"a"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;break;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>

   <p class="para">
    For various types, comparison is done according to the following
    table (in order).
   </p>
   <table id="language.operators.comparison.types" class="doctable table">
    <caption><b>Comparison with Various Types</b></caption>
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Type of Operand 1</th>
       <th>Type of Operand 2</th>
       <th>Result</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left"><span class="type"><a href="language.types.null.html" class="type null">null</a></span> or <span class="type"><a href="language.types.string.html" class="type string">string</a></span></td>
       <td align="left"><span class="type"><a href="language.types.string.html" class="type string">string</a></span></td>
       <td align="left">Convert <b><tt>NULL</tt></b> to &quot;&quot;, numerical or lexical comparison</td>
      </tr>

      <tr valign="middle">
       <td align="left"><span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span> or <span class="type"><a href="language.types.null.html" class="type null">null</a></span></td>
       <td align="left">anything</td>
       <td align="left">Convert to <span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span>, <b><tt>FALSE</tt></b> &lt; <b><tt>TRUE</tt></b></td>
      </tr>

      <tr valign="middle">
       <td align="left"><span class="type"><a href="language.types.object.html" class="type object">object</a></span></td>
       <td align="left"><span class="type"><a href="language.types.object.html" class="type object">object</a></span></td>
       <td align="left">Built-in classes can define its own comparison, different classes
        are uncomparable, same class - compare properties the same way as
        arrays (PHP 4), PHP 5 has its own <a href="language.oop5.object-comparison.html" class="link">explanation</a>
       </td>
      </tr>

      <tr valign="middle">
       <td align="left"><span class="type"><a href="language.types.string.html" class="type string">string</a></span>, <span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> or <span class="type"><a href="language.pseudo-types.html#language.types.number" class="type number">number</a></span></td>
       <td align="left"><span class="type"><a href="language.types.string.html" class="type string">string</a></span>, <span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> or <span class="type"><a href="language.pseudo-types.html#language.types.number" class="type number">number</a></span></td>
       <td align="left">Translate strings and resources to numbers, usual math</td>
      </tr>

      <tr valign="middle">
       <td align="left"><span class="type"><a href="language.types.array.html" class="type array">array</a></span></td>
       <td align="left"><span class="type"><a href="language.types.array.html" class="type array">array</a></span></td>
       <td align="left">Array with fewer members is smaller, if key from operand 1 is not
        found in operand 2 then arrays are uncomparable, otherwise - compare
        value by value (see following example)</td>
      </tr>

      <tr valign="middle">
       <td align="left"><span class="type"><a href="language.types.array.html" class="type array">array</a></span></td>
       <td align="left">anything</td>
       <td align="left"><span class="type"><a href="language.types.array.html" class="type array">array</a></span> is always greater</td>
      </tr>

      <tr valign="middle">
       <td align="left"><span class="type"><a href="language.types.object.html" class="type object">object</a></span></td>
       <td align="left">anything</td>
       <td align="left"><span class="type"><a href="language.types.object.html" class="type object">object</a></span> is always greater</td>
      </tr>

     </tbody>
    
   </table>

   <p class="para">
    <div class="example" id="example-109">
     <p><b>Example #1 Transcription of standard array comparison</b></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Arrays&nbsp;are&nbsp;compared&nbsp;like&nbsp;this&nbsp;with&nbsp;standard&nbsp;comparison&nbsp;operators<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">standard_array_compare</span><span style="color: #007700">(</span><span style="color: #0000BB">$op1</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$op2</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$op1</span><span style="color: #007700">)&nbsp;&lt;&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$op2</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$op1&nbsp;&lt;&nbsp;$op2<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$op1</span><span style="color: #007700">)&nbsp;&gt;&nbsp;</span><span style="color: #0000BB">count</span><span style="color: #007700">(</span><span style="color: #0000BB">$op2</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$op1&nbsp;&gt;&nbsp;$op2<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$op1&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$key&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!</span><span style="color: #0000BB">array_key_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$key</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$op2</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;uncomparable<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">&lt;&nbsp;</span><span style="color: #0000BB">$op2</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">])&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$val&nbsp;</span><span style="color: #007700">&gt;&nbsp;</span><span style="color: #0000BB">$op2</span><span style="color: #007700">[</span><span style="color: #0000BB">$key</span><span style="color: #007700">])&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$op1&nbsp;==&nbsp;$op2<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>

   <p class="para">
    See also <span class="function"><a href="function.strcasecmp.html" class="function">strcasecmp()</a></span>,
    <span class="function"><a href="function.strcmp.html" class="function">strcmp()</a></span>,
    <a href="language.operators.array.html" class="link">Array operators</a>,
    and the manual section on
    <a href="language.types.html" class="link">Types</a>.
   </p>

   <div class="warning"><b class="warning">Warning</b>
    <h1 class="title">Comparison of floating point numbers</h1>

    <p class="para">
     Because of the way <span class="type"><a href="language.types.float.html" class="type float">float</a></span>s are represented internally, you
     should not test two <span class="type"><a href="language.types.float.html" class="type float">float</a></span>s for equality.
    </p>

    <p class="para">
     See the documentation for <span class="type"><a href="language.types.float.html" class="type float">float</a></span> for more information.
    </p>
   </div>

   <div class="sect2" id="language.operators.comparison.ternary">
    <h3 class="title">Ternary Operator</h3>
    <p class="para">
     Another conditional operator is the &quot;?:&quot; (or ternary) operator.
     <div class="example" id="example-110">
      <p><b>Example #2 Assigning a default value</b></p>
      <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Example&nbsp;usage&nbsp;for:&nbsp;Ternary&nbsp;Operator<br /></span><span style="color: #0000BB">$action&nbsp;</span><span style="color: #007700">=&nbsp;(empty(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'action'</span><span style="color: #007700">]))&nbsp;?&nbsp;</span><span style="color: #DD0000">'default'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'action'</span><span style="color: #007700">];<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;above&nbsp;is&nbsp;identical&nbsp;to&nbsp;this&nbsp;if/else&nbsp;statement<br /></span><span style="color: #007700">if&nbsp;(empty(</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'action'</span><span style="color: #007700">]))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$action&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'default'</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$action&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$_POST</span><span style="color: #007700">[</span><span style="color: #DD0000">'action'</span><span style="color: #007700">];<br />}<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
      </div>

     </div>
     The expression <i>(expr1) ? (expr2) : (expr3)</i>
     evaluates to <span class="replaceable">expr2</span> if
     <span class="replaceable">expr1</span> evaluates to <b><tt>TRUE</tt></b>, and
     <span class="replaceable">expr3</span> if
     <span class="replaceable">expr1</span> evaluates to <b><tt>FALSE</tt></b>.
    </p>
    <p class="para">
     Since PHP 5.3, it is possible to leave out the middle part of the ternary
     operator. Expression <i>expr1 ?: expr3</i> returns
     <span class="replaceable">expr1</span> if <span class="replaceable">expr1</span>
     evaluates to <b><tt>TRUE</tt></b>, and <span class="replaceable">expr3</span> otherwise.
    </p>
    <blockquote class="note"><p><b class="note">Note</b>: 
     <span class="simpara">
      Please note that the ternary operator is a statement, and that it
      doesn&#039;t evaluate to a variable, but to the result of a statement. This
      is important to know if you want to return a variable by reference.
      The statement <i>return $var == 42 ? $a : $b;</i> in a
      return-by-reference function will therefore not work and a warning is
      issued in later PHP versions.
     </span>
    </p></blockquote>
    <blockquote class="note"><p><b class="note">Note</b>: 
     <p class="para">
      It is recommended that you avoid &quot;stacking&quot; ternary expressions. PHP&#039;s
      behaviour when using more than one ternary operator within a single
      statement is non-obvious:
      <div class="example" id="example-111">
       <p><b>Example #3 Non-obvious Ternary Behaviour</b></p>
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;on&nbsp;first&nbsp;glance,&nbsp;the&nbsp;following&nbsp;appears&nbsp;to&nbsp;output&nbsp;'true'<br /></span><span style="color: #007700">echo&nbsp;(</span><span style="color: #0000BB">true</span><span style="color: #007700">?</span><span style="color: #DD0000">'true'</span><span style="color: #007700">:</span><span style="color: #0000BB">false</span><span style="color: #007700">?</span><span style="color: #DD0000">'t'</span><span style="color: #007700">:</span><span style="color: #DD0000">'f'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;however,&nbsp;the&nbsp;actual&nbsp;output&nbsp;of&nbsp;the&nbsp;above&nbsp;is&nbsp;'t'<br />//&nbsp;this&nbsp;is&nbsp;because&nbsp;ternary&nbsp;expressions&nbsp;are&nbsp;evaluated&nbsp;from&nbsp;left&nbsp;to&nbsp;right<br /><br />//&nbsp;the&nbsp;following&nbsp;is&nbsp;a&nbsp;more&nbsp;obvious&nbsp;version&nbsp;of&nbsp;the&nbsp;same&nbsp;code&nbsp;as&nbsp;above<br /></span><span style="color: #007700">echo&nbsp;((</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">?&nbsp;</span><span style="color: #DD0000">'true'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;?&nbsp;</span><span style="color: #DD0000">'t'&nbsp;</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'f'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;here,&nbsp;you&nbsp;can&nbsp;see&nbsp;that&nbsp;the&nbsp;first&nbsp;expression&nbsp;is&nbsp;evaluated&nbsp;to&nbsp;'true',&nbsp;which<br />//&nbsp;in&nbsp;turn&nbsp;evaluates&nbsp;to&nbsp;(bool)true,&nbsp;thus&nbsp;returning&nbsp;the&nbsp;true&nbsp;branch&nbsp;of&nbsp;the<br />//&nbsp;second&nbsp;ternary&nbsp;expression.<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
       </div>

      </div>
     </p>
    </p></blockquote>
   </div>

  </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106983""></a>
  <div class="note">
   <strong class="user">lennartackermans at gmail dot com</strong>
   <a href="#106983" class="date">24-Dec-2011 05:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be cautious when using === and !== operators and be sure that you understand their meanings. ($a === TRUE) is not the same as ($a !== FALSE). When testing the return value of a function that may return boolean false or a value of another type (like strpos()), do not test for boolean true.<br />
<br />
The following script will only output "Not false":<br />
<br />
<span class="default">&lt;?php<br />
<br />
$a </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">;<br />
<br />
if (</span><span class="default">$a </span><span class="keyword">=== </span><span class="default">TRUE</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"True"</span><span class="keyword">;<br />
}&nbsp;&nbsp; <br />
<br />
if (</span><span class="default">$a </span><span class="keyword">!== </span><span class="default">FALSE</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Not false"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106131""></a>
  <div class="note">
   <strong class="user">j-a-n at gmx dot de</strong>
   <a href="#106131" class="date">13-Oct-2011 02:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please be careful when comparing strings with floats, especally when you are using the , as decimal.<br />
<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(</span><span class="default">$alt</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$neu</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$alt </span><span class="keyword">== </span><span class="default">$neu</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
string(9) "590217,73" <br />
float(590217,73) <br />
bool(false) <br />
<br />
not the float is cast to a string and then string-compared, but the string is cast to a float and then float-compared. <br />
<br />
to compare as strings use strval!<br />
<br />
<span class="default">&lt;?php<br />
var_dump</span><span class="keyword">(</span><span class="default">strval</span><span class="keyword">(</span><span class="default">$alt</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">strval</span><span class="keyword">(</span><span class="default">$neu</span><span class="keyword">));<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">strval</span><span class="keyword">(</span><span class="default">$alt</span><span class="keyword">) == </span><span class="default">strval</span><span class="keyword">(</span><span class="default">$neu</span><span class="keyword">));<br />
</span><span class="default">?&gt;<br />
</span><br />
string(9) "590217,73" <br />
string(9) "590217,73" <br />
bool(true)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104840""></a>
  <div class="note">
   <strong class="user">Cuong Huy To</strong>
   <a href="#104840" class="date">10-Jul-2011 07:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In the table "Comparison with Various Types", please move the last line about "Object" to be above the line about "Array", since Object is considered to be greater than Array (tested on 5.3.3)<br />
<br />
(Please remove my "Anonymous" post of the same content before. You could check IP to see that I forgot to type my name)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104838""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#104838" class="date">10-Jul-2011 06:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In the table "Comparison with Various Types", please move the last line about "Object" to be above the line about "Array", since Object is considered to be greater than Array (tested on 5.3.3)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104456""></a>
  <div class="note">
   <strong class="user">Mark Simon</strong>
   <a href="#104456" class="date">16-Jun-2011 02:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The use of 5.3’s shortened ternary operator allows PHP to coalesce a null or empty value to an alternative:<br />
<br />
$value = $planA ?: $planB;<br />
<br />
My own server doesn’t yet run 5.3. A nice alternative is to use the “or” operator:<br />
<br />
$value = $planA or $value = planB;</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103779""></a>
  <div class="note">
   <strong class="user">email at kleijn dot jp</strong>
   <a href="#103779" class="date">03-May-2011 07:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Maybe i am overlooking something but it seems to me that using unset(string) inside a ternary operator creates an error.<br />
<br />
(($var1==0 &amp;&amp; $var2==0)?unset($var3):$var3=$var1+$var2);<br />
<br />
result:<br />
Parse error: syntax error, unexpected T_UNSET<br />
<br />
using the traditional form of IF...ELSE works normal.<br />
<br />
if($var1==0 &amp;&amp; $var2==0) { unset($var3); }<br />
else { $var3=$var1+$var2; }<br />
<br />
result:<br />
This unsets var3 or creates a sum of var1+var2 for var3<br />
<br />
JP Kleijn<br />
Netherlands</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103597""></a>
  <div class="note">
   <strong class="user">zak at minion dot net</strong>
   <a href="#103597" class="date">21-Apr-2011 11:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
be careful when trying to concatenate the result of a ternary operator to a string<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">print </span><span class="string">'&lt;div&gt;'</span><span class="keyword">.(</span><span class="default">FALSE</span><span class="keyword">) ? </span><span class="string">'TRUE [bad ternary]' </span><span class="keyword">: </span><span class="string">'FALSE [bad ternary]'</span><span class="keyword">;<br />
print </span><span class="string">'&lt;br&gt;&lt;br&gt;'</span><span class="keyword">;<br />
print </span><span class="string">'&lt;div&gt;'</span><span class="keyword">.((</span><span class="default">FALSE</span><span class="keyword">) ? </span><span class="string">'TRUE [good ternary]' </span><span class="keyword">: </span><span class="string">'FALSE [good ternary]'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
yields:<br />
<br />
TRUE [bad ternary]<br />
<br />
FALSE [good ternary]<br />
<br />
this is because the ternary evaluates '&lt;div&gt;'.(FALSE) not (FALSE) - so the end result is TRUE</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="100082""></a>
  <div class="note">
   <strong class="user">me at lx dot sg</strong>
   <a href="#100082" class="date">23-Sep-2010 07:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Replying to the comment on Aug 6, 2010, the comparisons return TRUE because they are recognized as numerical strings and are converted to integers. If you try "abc" == " abc", it will return FALSE as expected. To avoid the type conversions, simply use the identity operator (===).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99254""></a>
  <div class="note">
   <strong class="user">arnaud at arnapou dot net</strong>
   <a href="#99254" class="date">06-Aug-2010 01:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I discover after 10 years of PHP development something awfull : even if you make a string comparison (both are strings), strings are tested like integers and leading "space" character (even \n, \r, \t) is ignored ....<br />
<br />
I spent hours because of leading \n in a string ... it hurts my developper sensibility to see two strings beeing compared like integers and not like strings ... I use strcmp now for string comparison ... so stupid ...<br />
<br />
Test code :<br />
<span class="default">&lt;?php<br />
<br />
test</span><span class="keyword">(</span><span class="string">"1234"</span><span class="keyword">, </span><span class="string">"1234"</span><span class="keyword">);<br />
</span><span class="default">test</span><span class="keyword">(</span><span class="string">"1234"</span><span class="keyword">, </span><span class="string">" 1234"</span><span class="keyword">);<br />
</span><span class="default">test</span><span class="keyword">(</span><span class="string">"1234"</span><span class="keyword">, </span><span class="string">"\n1234"</span><span class="keyword">);<br />
</span><span class="default">test</span><span class="keyword">(</span><span class="string">"1234"</span><span class="keyword">, </span><span class="string">"1234 "</span><span class="keyword">);<br />
</span><span class="default">test</span><span class="keyword">(</span><span class="string">"1234"</span><span class="keyword">, </span><span class="string">"1234\n"</span><span class="keyword">);<br />
<br />
function </span><span class="default">test</span><span class="keyword">(</span><span class="default">$v1</span><span class="keyword">, </span><span class="default">$v2</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"&lt;h1&gt;["</span><span class="keyword">.</span><span class="default">show_cr</span><span class="keyword">(</span><span class="default">$v1</span><span class="keyword">).</span><span class="string">"] vs ["</span><span class="keyword">.</span><span class="default">show_cr</span><span class="keyword">(</span><span class="default">$v2</span><span class="keyword">).</span><span class="string">"]&lt;/h1&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">my_var_dump</span><span class="keyword">(</span><span class="default">$v1</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">my_var_dump</span><span class="keyword">(</span><span class="default">$v2</span><span class="keyword">).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">$v1 </span><span class="keyword">== </span><span class="default">$v2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"EQUAL !"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"DIFFERENT !"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
function </span><span class="default">show_cr</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">"\n"</span><span class="keyword">, </span><span class="string">"\\n"</span><span class="keyword">, </span><span class="default">$var</span><span class="keyword">);<br />
}<br />
<br />
function </span><span class="default">my_var_dump</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_start</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$dump </span><span class="keyword">= </span><span class="default">show_cr</span><span class="keyword">(</span><span class="default">trim</span><span class="keyword">(</span><span class="default">ob_get_contents</span><span class="keyword">()));<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">ob_end_clean</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$dump</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Displays this -&gt;<br />
<br />
[1234] vs [1234]<br />
string(4) "1234"<br />
string(4) "1234"<br />
EQUAL !<br />
<br />
[1234] vs [ 1234]<br />
string(4) "1234"<br />
string(5) " 1234"<br />
EQUAL !<br />
<br />
[1234] vs [\n1234]<br />
string(4) "1234"<br />
string(5) "\n1234"<br />
EQUAL !<br />
<br />
[1234] vs [1234 ]<br />
string(4) "1234"<br />
string(5) "1234 "<br />
DIFFERENT !<br />
<br />
[1234] vs [1234\n]<br />
string(4) "1234"<br />
string(5) "1234\n"<br />
DIFFERENT !</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99216""></a>
  <div class="note">
   <strong class="user">mail at markuszeller dot com</strong>
   <a href="#99216" class="date">04-Aug-2010 01:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I prefer writing (!$a == 'hello') much more than ($a != 'hello'), but I wondered about the performance.<br />
<br />
So I did a benchmark:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for(</span><span class="default">$bench </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$bench </span><span class="keyword">&lt; </span><span class="default">3</span><span class="keyword">; </span><span class="default">$bench</span><span class="keyword">++)<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$start </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">100000000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++)<br />
&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">$a </span><span class="keyword">== </span><span class="string">'hello'</span><span class="keyword">) </span><span class="default">$b</span><span class="keyword">++;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Used time: " </span><span class="keyword">. (</span><span class="default">$end</span><span class="keyword">-</span><span class="default">$start</span><span class="keyword">) . </span><span class="string">"\n"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span>and it results with<br />
<br />
# if($a != 'hello')<br />
Used time: 12.552895069122<br />
Used time: 12.548940896988<br />
Used time: 12.470285177231<br />
<br />
# if(!$a == 'hello')<br />
Used time: 7.6532161235809<br />
Used time: 7.6426539421082<br />
Used time: 7.6452689170837</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98052""></a>
  <div class="note">
   <strong class="user">michal dot kocarek at brainbox dot cz</strong>
   <a href="#98052" class="date">23-May-2010 11:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I am posting another hint about formatting of conditional expression blocks. It does take more lines, but lines starting with "?" and ":" allow to distinguish ternary operator quite quickly.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// Single ternary operator<br />
</span><span class="default">$sentence </span><span class="keyword">= </span><span class="default">$value </span><span class="keyword">== </span><span class="default">1<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">? </span><span class="string">'You have one egg.'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">: </span><span class="string">'You have '</span><span class="keyword">.</span><span class="default">$value</span><span class="keyword">.</span><span class="string">' eggs.'</span><span class="keyword">;<br />
<br />
</span><span class="comment">// Nested ternary operators<br />
</span><span class="default">$sentence </span><span class="keyword">= </span><span class="default">$value </span><span class="keyword">== </span><span class="default">1<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">? </span><span class="string">'You have one egg.'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">: (</span><span class="default">$value </span><span class="keyword">== </span><span class="default">0<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">? </span><span class="string">'You have no eggs.'<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">(</span><span class="default">$value </span><span class="keyword">== </span><span class="default">2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">? </span><span class="string">'You have two eggs.'<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">: </span><span class="string">'You have '</span><span class="keyword">.</span><span class="default">$value</span><span class="keyword">.</span><span class="string">' eggs.'<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
PS: In case on wondering about concatenation "." operator inside the expression: concatenation has higher priority than ternary operator, so it is evaluated first.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97799""></a>
  <div class="note">
   <strong class="user">alan dot g at nospam dot net</strong>
   <a href="#97799" class="date">09-May-2010 12:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a function to help settings default values, it returns its own first non-empty argument :<br />
<br />
make your own eor combos !<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">/*<br />
&nbsp;* Either Or<br />
&nbsp;*<br />
&nbsp;* usage:&nbsp; $foo = eor(test1(),test2(),"default");<br />
&nbsp;* usage:&nbsp; $foo = eor($_GET['foo'], foogen(), $foo, "bar");<br />
&nbsp;*/<br />
<br />
</span><span class="keyword">function </span><span class="default">eor</span><span class="keyword">() {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$vars </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; while (!empty(</span><span class="default">$vars</span><span class="keyword">) &amp;&amp; empty(</span><span class="default">$defval</span><span class="keyword">))&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$defval </span><span class="keyword">= </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$vars</span><span class="keyword">);&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; return </span><span class="default">$defval</span><span class="keyword">;<br />
}<br />
<br />
&nbsp;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97080""></a>
  <div class="note">
   <strong class="user">taras dot bogach at gmail dot com</strong>
   <a href="#97080" class="date">31-Mar-2010 07:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Boolean switch usege<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">User_Exception </span><span class="keyword">extends </span><span class="default">Exception</span><span class="keyword">{}<br />
class </span><span class="default">User</span><span class="keyword">{<br />
&nbsp; public function </span><span class="default">register</span><span class="keyword">(</span><span class="default">$login</span><span class="keyword">,</span><span class="default">$pass</span><span class="keyword">,</span><span class="default">$passCheck</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; switch(</span><span class="default">false</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp;&nbsp; case(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$pass</span><span class="keyword">) &gt;= </span><span class="default">5</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">User_Exception</span><span class="keyword">(</span><span class="string">"Password must be at last 5 chars length"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; case(</span><span class="default">$pass </span><span class="keyword">== </span><span class="default">$passCheck</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">User_Exception</span><span class="keyword">(</span><span class="string">"Password is not confirmed!"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; case(</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$login</span><span class="keyword">) &gt;= </span><span class="default">5</span><span class="keyword">):<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">User_Exception</span><span class="keyword">(</span><span class="string">"Login must be at last 5 chars length"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="comment">//Do other checks<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">default:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Do registration<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
&nbsp; </span><span class="comment">//...<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95997""></a>
  <div class="note">
   <strong class="user">crazy888s at hotmail dot com</strong>
   <a href="#95997" class="date">01-Feb-2010 10:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I couldn't find much info on stacking the new ternary operator, so I ran some tests:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">0 </span><span class="keyword">?: </span><span class="default">1 </span><span class="keyword">?: </span><span class="default">2 </span><span class="keyword">?: </span><span class="default">3</span><span class="keyword">; </span><span class="comment">//1<br />
</span><span class="keyword">echo </span><span class="default">1 </span><span class="keyword">?: </span><span class="default">0 </span><span class="keyword">?: </span><span class="default">3 </span><span class="keyword">?: </span><span class="default">2</span><span class="keyword">; </span><span class="comment">//1<br />
</span><span class="keyword">echo </span><span class="default">2 </span><span class="keyword">?: </span><span class="default">1 </span><span class="keyword">?: </span><span class="default">0 </span><span class="keyword">?: </span><span class="default">3</span><span class="keyword">; </span><span class="comment">//2<br />
</span><span class="keyword">echo </span><span class="default">3 </span><span class="keyword">?: </span><span class="default">2 </span><span class="keyword">?: </span><span class="default">1 </span><span class="keyword">?: </span><span class="default">0</span><span class="keyword">; </span><span class="comment">//3<br />
<br />
</span><span class="keyword">echo </span><span class="default">0 </span><span class="keyword">?: </span><span class="default">1 </span><span class="keyword">?: </span><span class="default">2 </span><span class="keyword">?: </span><span class="default">3</span><span class="keyword">; </span><span class="comment">//1<br />
</span><span class="keyword">echo </span><span class="default">0 </span><span class="keyword">?: </span><span class="default">0 </span><span class="keyword">?: </span><span class="default">2 </span><span class="keyword">?: </span><span class="default">3</span><span class="keyword">; </span><span class="comment">//2<br />
</span><span class="keyword">echo </span><span class="default">0 </span><span class="keyword">?: </span><span class="default">0 </span><span class="keyword">?: </span><span class="default">0 </span><span class="keyword">?: </span><span class="default">3</span><span class="keyword">; </span><span class="comment">//3<br />
</span><span class="default">?&gt;<br />
</span><br />
It works just as expected, returning the first non-false value within a group of expressions.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="95952""></a>
  <div class="note">
   <strong class="user">ISAWHIM</strong>
   <a href="#95952" class="date">30-Jan-2010 10:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When it comes to formatting structure of the conditional statements, I found this to work best and retain logic in views...<br />
<br />
<span class="default">&lt;?php<br />
$z </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
</span><span class="default">$text </span><span class="keyword">= (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">1 </span><span class="keyword">? </span><span class="string">'ONE'<br />
&nbsp; </span><span class="keyword">: (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">2 </span><span class="keyword">? </span><span class="string">'TWO'<br />
&nbsp; </span><span class="keyword">: (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">3 </span><span class="keyword">? </span><span class="string">'THREE'<br />
&nbsp; </span><span class="keyword">: </span><span class="string">'MORE' </span><span class="keyword">)));<br />
echo(</span><span class="default">$text</span><span class="keyword">); </span><span class="comment">// RESULT='TWO'<br />
<br />
// LONGHAND<br />
<br />
</span><span class="default">$z </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
</span><span class="default">$text </span><span class="keyword">= (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">1</span><span class="keyword">?</span><span class="string">'ONE' </span><span class="keyword">: (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">2</span><span class="keyword">?</span><span class="string">'TWO' </span><span class="keyword">: (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">3</span><span class="keyword">?</span><span class="string">'THREE' </span><span class="keyword">: </span><span class="string">'MORE'</span><span class="keyword">)));<br />
echo(</span><span class="default">$text</span><span class="keyword">); </span><span class="comment">// RESULT='TWO'<br />
</span><span class="default">?&gt;<br />
</span><br />
Since this is expected to test logic, and nothing more, only use it to test logic.<br />
<br />
To test order, if you ever forget...<br />
<br />
<span class="default">&lt;?php<br />
$z </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
</span><span class="default">$text </span><span class="keyword">= (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">1 </span><span class="keyword">? </span><span class="string">'FIRST : OUTTER'<br />
&nbsp; </span><span class="keyword">: (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">1 </span><span class="keyword">? </span><span class="string">'SECOND : INNER'<br />
&nbsp; </span><span class="keyword">: (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">1 </span><span class="keyword">? </span><span class="string">'THIRD : LAST'<br />
&nbsp; </span><span class="keyword">: </span><span class="string">'FAIL EVAL DEFAULT' </span><span class="keyword">)));<br />
echo(</span><span class="default">$text</span><span class="keyword">); </span><span class="comment">// RETURN='FIRST : OUTTER'<br />
<br />
</span><span class="default">$z </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br />
</span><span class="default">$text </span><span class="keyword">= (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">1 </span><span class="keyword">? </span><span class="string">'FIRST : OUTTER'<br />
&nbsp; </span><span class="keyword">: (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">1 </span><span class="keyword">? </span><span class="string">'SECOND : INNER'<br />
&nbsp; </span><span class="keyword">: (</span><span class="default">$z</span><span class="keyword">===</span><span class="default">1 </span><span class="keyword">? </span><span class="string">'THIRD : LAST'<br />
&nbsp; </span><span class="keyword">: </span><span class="string">'FAIL EVAL DEFAULT' </span><span class="keyword">)));<br />
echo(</span><span class="default">$text</span><span class="keyword">); </span><span class="comment">// RETURN='FAIL EVAL DEFAULT'<br />
</span><span class="default">?&gt;<br />
</span><br />
(IF ? THEN : ELSE)<br />
(IF ? THEN : ELSE(IF ? THEN : ELSE(IF ? THEN : ELSE))<br />
<br />
That can't be read from inside to out, unlike a math formula, because the logic in comparison is not the same. In math nesting, you need the solution to the deepest nested element first. In logic comparison, you always start outside before you compare inside. (Logically, IF there is no door THEN you need something ELSE to get inside. Oh, there is a window... We are inside, now IF there is a fridge THEN open it or ELSE you starve.)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="94039""></a>
  <div class="note">
   <strong class="user">kapoor_rajiv at hotmail dot com</strong>
   <a href="#94039" class="date">13-Oct-2009 06:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A quick way to do mysql bit comparison in php is to use the special character it stores . e.g<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$AvailableRequests</span><span class="keyword">[</span><span class="string">'OngoingService'</span><span class="keyword">] == </span><span class="string">''</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'&lt;td&gt;Yes&lt;/td&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'&lt;td&gt;No&lt;/td&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93614""></a>
  <div class="note">
   <strong class="user">pinkgothic at gmail dot com</strong>
   <a href="#93614" class="date">18-Sep-2009 04:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"Array with fewer members is smaller, if key from operand 1 is not found in operand 2 then arrays are uncomparable, otherwise - compare value by value (see following example)."<br />
<br />
The example covers this behaviour, but it isn't immediately obvious, so:<br />
<br />
If you're doing loose comparisons in PHP, note that they differ from checking each value individually like $value1==$value2 by adding what amounts to an empty($value1)==empty($value2) check into the mix. I found this out by investigating some (to me) bizarre behaviour.<br />
[Note that the example contains no ==, just &gt; and &lt;. It's its absence that perceivedly 'causes empty() to fire'.]<br />
<br />
I was also pleasantly surprised to see PHP recurse. Also clear if you keep in mind that the example implies another function call to itself with &gt; and &lt; if both operands are arrays, but IMO definitely worth stating.<br />
<br />
It might also be worth noting that the order of array keys doesn't matter, even if a foreach() would see a 'different' array. Again, covered by the example, but might be worth stressing.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92685""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#92685" class="date">03-Aug-2009 10:44</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note: The ternary shortcut currently seems to be of no use in dealing with unexisting keys in an array, as PHP will throw an error. Take the following example.<br />
<br />
<span class="default">&lt;?php<br />
$_POST</span><span class="keyword">[</span><span class="string">'Unexisting'</span><span class="keyword">] = </span><span class="default">$_POST</span><span class="keyword">[</span><span class="string">'Unexisting'</span><span class="keyword">] ?: </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
PHP will throw an error that the "Unexisting" key does not exist. The @ operator does not work here to suppress this error.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="92511""></a>
  <div class="note">
   <strong class="user">monkuar at gmail dot com</strong>
   <a href="#92511" class="date">27-Jul-2009 04:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
U can even add a variable on that if u wish:<br />
<br />
($Profile['skinstyle']=='0')? $lol = "selected":"";<br />
<br />
then call it out.. alot faster. if u use EOF.. and such like on ibp :(</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88791""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#88791" class="date">07-Feb-2009 06:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here is some ternary trick I like to use for selecting a default value in a set of radio buttons. This example assumes that a prior value was known and that we are offering a user the chance to edit that prior value. If no prior value was actually known, no default value will be set.<br />
<br />
&lt;form&gt;<br />
&lt;input type='radio' name='gender' value='m' &lt;?=($gender=='m')?"checked":""?&gt;&gt;Male<br />
&lt;input type='radio' name='gender' value='f' &lt;?=($gender=='f')?"checked":""?&gt;&gt;Female<br />
&lt;/form&gt;<br />
<br />
When a "=" directly follows a "&lt;?" (no space allowed in between -- the trick does not work with "&lt;?php"), the right side of the operand (here, the result of the ternary operation) is printed out as text into the surrounding HTML code. If using "&lt;?php" form, you will need to do "<span class="default">&lt;?php </span><span class="keyword">echo </span><span class="default">exp1</span><span class="keyword">?</span><span class="default">exp2</span><span class="keyword">:</span><span class="default">exp3 ?&gt;</span>" instead.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87775""></a>
  <div class="note">
   <strong class="user">mruivo at gmail dot com</strong>
   <a href="#87775" class="date">20-Dec-2008 07:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that an expression where a boolean variable and a string are compared with the equal operator, will always come out true as a string is technically true. For example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
$variable </span><span class="keyword">= </span><span class="default">true</span><span class="keyword">;<br />
if (</span><span class="default">$variable </span><span class="keyword">== </span><span class="string">"something"</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; </span><span class="comment">//This code will be excecuted<br />
<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
To get around this use the identical operator ===, as the types are not the same.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="86627""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#86627" class="date">26-Oct-2008 08:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The cast from null to boolean is documented (on the page describing the boolean type: null-&gt;false), and so is the cast from boolean to integer (on the page describing the integer type: false-&gt;0), but the cast from null to integer is undefined and the fact that it is currently implemented by casting from null to boolean and then from boolean to integer is explicitly documented (on the page describing the integer type) as something that should not be relied on (so null==0 is true only by accident, but ((int)(bool)null)==0 is true per specification).<br />
<br />
Perhaps as well as a "Converting to integer" section on the integer type page there should also be a "Converting from integer" section; similarly for the other types.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82302""></a>
  <div class="note">
   <strong class="user">jescribens at urbangolem dot com</strong>
   <a href="#82302" class="date">04-Apr-2008 09:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi all:<br />
<br />
I found this and maybe it can help you, i didn't found it documented anywhere :<br />
<br />
Assuming you have a function that returns an array or a null value in failure and you do something like this<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">myfunction</span><span class="keyword">()<br />
{<br />
&nbsp;&nbsp; &nbsp; if(</span><span class="default">$something</span><span class="keyword">==</span><span class="default">$other</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return array(</span><span class="default">0</span><span class="keyword">=&gt;array(</span><span class="default">0</span><span class="keyword">=&gt;array(</span><span class="string">'valor'</span><span class="keyword">=&gt;</span><span class="default">$other</span><span class="keyword">)));<br />
&nbsp;&nbsp; &nbsp; }else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; }<br />
}<br />
<br />
</span><span class="default">$x </span><span class="keyword">= </span><span class="default">myfunction</span><span class="keyword">();<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">//can be null<br />
<br />
</span><span class="keyword">if(</span><span class="default">$x</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">][</span><span class="string">'value'</span><span class="keyword">] &lt; </span><span class="default">1</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"nok"</span><span class="keyword">;<br />
}else{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"ok"</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
If the function returns null then you get "nok" printed.<br />
As far as I see NULL values are always less than 1, and the fact that I request a sub array ([0][0]['value']) doesn't give me any notice nor warning.<br />
<br />
Hope this helps anybody.<br />
<br />
Greetings</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81370""></a>
  <div class="note">
   <strong class="user">Amaroq</strong>
   <a href="#81370" class="date">25-Feb-2008 03:13</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Most of the time, you may be content with your conditionals evaluating to true if they are evaluating a non-false, non-zero value. You may also like it when they evaluate to false when you use the number 0.<br />
<br />
However, there may be times where you want to make a distinction between a non-false value and a boolean true. You may also wish to make a distinction between a boolean false and a zero.<br />
<br />
The identity operator can make this distinction for you.<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= </span><span class="string">'some string'</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= </span><span class="default">123</span><span class="keyword">;<br />
</span><span class="default">$c </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
<br />
if(</span><span class="default">$a </span><span class="keyword">&amp;&amp; </span><span class="default">$b </span><span class="keyword">&amp;&amp; (!</span><span class="default">$c</span><span class="keyword">))<br />
{ echo </span><span class="string">"True.\n"</span><span class="keyword">; } else { echo </span><span class="string">"False.\n"</span><span class="keyword">; }<br />
<br />
if(</span><span class="default">$a </span><span class="keyword">== </span><span class="default">true </span><span class="keyword">&amp;&amp; </span><span class="default">$b </span><span class="keyword">== </span><span class="default">true </span><span class="keyword">&amp;&amp; </span><span class="default">$c </span><span class="keyword">== </span><span class="default">false</span><span class="keyword">)<br />
{ echo </span><span class="string">"True.\n"</span><span class="keyword">; } else { echo </span><span class="string">"False.\n"</span><span class="keyword">; }<br />
<br />
if(</span><span class="default">$a </span><span class="keyword">=== </span><span class="default">true </span><span class="keyword">|| </span><span class="default">$b </span><span class="keyword">=== </span><span class="default">true </span><span class="keyword">|| </span><span class="default">$c </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">)<br />
{ echo </span><span class="string">"True.\n"</span><span class="keyword">; } else { echo </span><span class="string">"False.\n"</span><span class="keyword">; }<br />
</span><span class="default">?&gt;<br />
</span><br />
The above code outputs the following:<br />
True.<br />
True.<br />
False.<br />
<br />
As you can see, in the first two cases, $a and $b are considered true, while $c is considered false. If this wasn't the case, neither of the first two conditionals would have echoed "True."<br />
<br />
In the last case, I've cleverly used the || operator to demonstrate that both $a and $b do not evaluate to true with the identity operator, nor does $c evaluate to false.<br />
<br />
The === operator can be used to distinguish boolean from non-boolean values.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79205""></a>
  <div class="note">
   <strong class="user">ken at smallboxsoftware net</strong>
   <a href="#79205" class="date">15-Nov-2007 08:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This seems a bit odd to me, but PHP can convert two strings into integers during comparison.&nbsp; For example: "700" == "+700" return true even though they are totally different strings. <br />
<br />
Use === or strcmp when comparing two strings to ensure that they remain as strings during comparison.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74399""></a>
  <div class="note">
   <strong class="user">Hayley Watson</strong>
   <a href="#74399" class="date">09-Apr-2007 10:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that the "ternary operator" is better described as the "conditional operator". The former name merely notes that it has three arguments without saying anything about what it does. Needless to say, if PHP picked up any more ternary operators, this will be a problem.<br />
<br />
"Conditional Operator" is actually descriptive of the semantics, and is the name historically given to it in, e.g., C.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73519""></a>
  <div class="note">
   <strong class="user">thomas dot oldbury at tgohome dot com</strong>
   <a href="#73519" class="date">27-Feb-2007 09:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful when using the ternary operator!<br />
<br />
The following will not evaluate to the expected result:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">"a string that has a " </span><span class="keyword">. (</span><span class="default">true</span><span class="keyword">) ? </span><span class="string">'true' </span><span class="keyword">: </span><span class="string">'false' </span><span class="keyword">. </span><span class="string">" condition in. "</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Will print true.<br />
<br />
Instead, use this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">"a string that has a " </span><span class="keyword">. ((</span><span class="default">true</span><span class="keyword">) ? </span><span class="string">'true' </span><span class="keyword">: </span><span class="string">'false'</span><span class="keyword">) . </span><span class="string">" condition in. "</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
This will evaluate to the expected result: "a string that has a true condition in. "<br />
<br />
I hope this helps.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72894""></a>
  <div class="note">
   <strong class="user">fernandoleal at dragoncs dot com</strong>
   <a href="#72894" class="date">03-Feb-2007 11:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need nested ifs on I var its important to group the if so it works.<br />
Example:<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//Dont Works<br />
//Parse error: parse error, unexpected ':' <br />
&nbsp;</span><span class="default">$var</span><span class="keyword">=</span><span class="string">'&lt;option value="1" '</span><span class="keyword">.</span><span class="default">$status </span><span class="keyword">== </span><span class="string">"1" </span><span class="keyword">? </span><span class="string">'selected="selected"' </span><span class="keyword">:</span><span class="string">''</span><span class="keyword">.</span><span class="string">'&gt;Value 1&lt;/option&gt;'</span><span class="keyword">;<br />
&nbsp;</span><span class="comment">//Works:<br />
&nbsp;</span><span class="default">$var</span><span class="keyword">=</span><span class="string">'&lt;option value="1" '</span><span class="keyword">.(</span><span class="default">$status </span><span class="keyword">== </span><span class="string">"1" </span><span class="keyword">? </span><span class="string">'selected="selected"' </span><span class="keyword">:</span><span class="string">''</span><span class="keyword">).</span><span class="string">'&gt;Value 1&lt;/option&gt;'</span><span class="keyword">;<br />
<br />
echo </span><span class="default">$var</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72199""></a>
  <div class="note">
   <strong class="user">stepheneliotdewey at gmail [period] com</strong>
   <a href="#72199" class="date">07-Jan-2007 06:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that typecasting will NOT prevent the default behavior for converting two numeric strings to numbers when comparing them.<br />
<br />
e.g.:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if ((string) </span><span class="string">'0123' </span><span class="keyword">== (string) </span><span class="string">'123'</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">'equals'</span><span class="keyword">;<br />
else<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">'doesn\'t equal'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Still prints 'equals'<br />
<br />
As far as I can tell the only way to avoid this is to use the identity comparison operators (=== and !==).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72144""></a>
  <div class="note">
   
   <a href="#72144" class="date">04-Jan-2007 07:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since php 5.2 the operator == for object vs object is not recursion safe, it will cause a fatal error if one of the objects contains a refernce to it self (indirect refferences also counts here).<br />
If you are just checking if two object pointers points to the same object use === instead and aviod this issue (you might get a minimal speed bost too).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="70762""></a>
  <div class="note">
   <strong class="user">bishop</strong>
   <a href="#70762" class="date">26-Oct-2006 03:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When you want to know if two arrays contain the same values, regardless of the values' order, you cannot use "==" or "===".&nbsp; In other words:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">(array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">) == array(</span><span class="default">2</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)) === </span><span class="default">false</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
To answer that question, use:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_equal</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">) &amp;&amp; </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) === </span><span class="default">array_diff</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
A related, but more strict problem, is if you need to ensure that two arrays contain the same key=&gt;value pairs, regardless of the order of the pairs.&nbsp; In that case, use:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">array_identical</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">) &amp;&amp; </span><span class="default">array_diff_assoc</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) === </span><span class="default">array_diff_assoc</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">));<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Example:<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= array (</span><span class="default">2</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">$b </span><span class="keyword">= array (</span><span class="default">1</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
</span><span class="comment">// true === array_equal($a, $b);<br />
// false === array_identical($a, $b);<br />
<br />
</span><span class="default">$a </span><span class="keyword">= array (</span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">, </span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">);<br />
</span><span class="default">$b </span><span class="keyword">= array (</span><span class="string">'b' </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">, </span><span class="string">'a' </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">);<br />
</span><span class="comment">// true === array_identical($a, $b)<br />
// true === array_equal($a, $b)<br />
</span><span class="default">?&gt;<br />
</span><br />
(See also the solution "rshawiii at yahoo dot com" posted)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68782""></a>
  <div class="note">
   <strong class="user">pcdinh at phpvietnam dot net</strong>
   <a href="#68782" class="date">10-Aug-2006 09:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You should be very careful when using == with an result set returned from a query that can be an empty array, multi-dimensional array or a boolean false value (if the query failed to execute). In PHP, an empty array is equivalent to true.<br />
<br />
<span class="default">&lt;?php<br />
$myArray </span><span class="keyword">= array();<br />
<br />
</span><span class="comment">// check if there is any error with the query<br />
</span><span class="keyword">if (</span><span class="default">$myArray </span><span class="keyword">== </span><span class="default">false</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Yes"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
return Yes<br />
<br />
Use === instead.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="66245""></a>
  <div class="note">
   <strong class="user">Alex</strong>
   <a href="#66245" class="date">17-May-2006 07:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think everybody should read carefully what "jeronimo at DELETE_THIS dot transartmedia dot com" wrote. It's a great pitfall even for seasoned programmers and should be looked upon with a great attention.<br />
For example, comparing passwords with == may result in a very large security hole.<br />
<br />
I would add some more to it:<br />
<br />
The workaround is to use strcmp() or ===.<br />
<br />
Note on ===:<br />
<br />
While the php documentation says that, basically,<br />
($a===$b)&nbsp; is the same as&nbsp; ($a==$b &amp;&amp; gettype($a) == gettype($b)),<br />
this is not true.<br />
<br />
The difference between == and === is that === never does any type conversion. So, while, according to documentation, ("+0.1" === ".1") should return true (because both are strings and == returns true), === actually returns false (which is good).</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="65863""></a>
  <div class="note">
   <strong class="user">adam at caucho dot com</strong>
   <a href="#65863" class="date">08-May-2006 10:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note: according to the spec, PHP's comparison operators are not transitive.&nbsp; For example, the following are all true in PHP5:<br />
<br />
"11" &lt; "a" &lt; 2 &lt; "11"<br />
<br />
As a result, the outcome of sorting an array depends on the order the elements appear in the pre-sort array.&nbsp; The following code will dump out two arrays with *different* orderings:<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= array(</span><span class="default">2</span><span class="keyword">,&nbsp; &nbsp; </span><span class="string">"a"</span><span class="keyword">,&nbsp; </span><span class="string">"11"</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">$b </span><span class="keyword">= array(</span><span class="default">2</span><span class="keyword">,&nbsp; &nbsp; </span><span class="string">"11"</span><span class="keyword">, </span><span class="string">"a"</span><span class="keyword">,&nbsp; </span><span class="default">2</span><span class="keyword">);<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br />
</span><span class="default">sort</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
This is not a bug report -- given the spec on this documentation page, what PHP does is "correct".&nbsp; But that may not be what was intended...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60866""></a>
  <div class="note">
   <strong class="user">rshawiii at yahoo dot com</strong>
   <a href="#60866" class="date">18-Jan-2006 11:36</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can't just compare two arrays with the === operator<br />
like you would think to find out if they are equal or not.&nbsp; This is more complicated when you have multi-dimensional arrays.&nbsp; Here is a recursive comparison function.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">/**<br />
&nbsp;* Compares two arrays to see if they contain the same values.&nbsp; Returns TRUE or FALSE.<br />
&nbsp;* usefull for determining if a record or block of data was modified (perhaps by user input)<br />
&nbsp;* prior to setting a "date_last_updated" or skipping updating the db in the case of no change.<br />
&nbsp;*<br />
&nbsp;* @param array $a1<br />
&nbsp;* @param array $a2<br />
&nbsp;* @return boolean<br />
&nbsp;*/<br />
</span><span class="keyword">function </span><span class="default">array_compare_recursive</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">, </span><span class="default">$a2</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp; if (!(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">) and (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$a2</span><span class="keyword">)))) { return </span><span class="default">FALSE</span><span class="keyword">;}&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; if (!</span><span class="default">count</span><span class="keyword">(</span><span class="default">$a1</span><span class="keyword">) == </span><span class="default">count</span><span class="keyword">(</span><span class="default">$a2</span><span class="keyword">)) <br />
&nbsp;&nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; return </span><span class="default">FALSE</span><span class="keyword">; </span><span class="comment">// arrays don't have same number of entries<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; foreach (</span><span class="default">$a1 </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$val</span><span class="keyword">) <br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; if (!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$a2</span><span class="keyword">)) <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {return </span><span class="default">FALSE</span><span class="keyword">; </span><span class="comment">// uncomparable array keys don't match<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">} <br />
&nbsp;&nbsp; &nbsp; &nbsp; elseif (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">) and </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">]))&nbsp; </span><span class="comment">// if both entries are arrays then compare recursive <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">{if (!</span><span class="default">array_compare_recursive</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">,</span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">])) return </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } <br />
&nbsp;&nbsp; &nbsp; &nbsp; elseif (!(</span><span class="default">$val </span><span class="keyword">=== </span><span class="default">$a2</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">])) </span><span class="comment">// compare entries must be of same type.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">{return </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return </span><span class="default">TRUE</span><span class="keyword">; </span><span class="comment">// $a1 === $a2<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58351""></a>
  <div class="note">
   <strong class="user">sam at liddicott dot com</strong>
   <a href="#58351" class="date">01-Nov-2005 07:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Don't be deceived into thinking that === compares objects for identity, it does not. It does a recusrive comparison which fails if there are recusrive object references involved, and will report as identical two different object instances that happen to merely have the same value.<br />
You can see the stated problem at: <a href="http://bugs.php.net/bug.php?id=35053" rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=35053</a><br />
<br />
My workaround is php::CompareObjects($a,$b)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment"># static class to hold methods to encapsulate php deficiencies in various versions<br />
</span><span class="keyword">class </span><span class="default">php </span><span class="keyword">{<br />
&nbsp; </span><span class="comment"># in === on objects in php4 does a dumb recusrive check instead<br />
&nbsp; </span><span class="keyword">function </span><span class="default">CompareObject</span><span class="keyword">(&amp;</span><span class="default">$a</span><span class="keyword">,&amp;</span><span class="default">$b</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$value</span><span class="keyword">=</span><span class="string">'Bah! Stupid==='</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$key</span><span class="keyword">=</span><span class="string">"bah"</span><span class="keyword">.</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">1000</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; while(isset(</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">$key</span><span class="keyword">)) </span><span class="default">$key</span><span class="keyword">.=</span><span class="default">rand</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; if (isset(</span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">$key</span><span class="keyword">)) return </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">$key</span><span class="keyword">=</span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$result</span><span class="keyword">=(</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">$key</span><span class="keyword">===</span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">$key</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; unset(</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">$key</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$result</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56572""></a>
  <div class="note">
   
   <a href="#56572" class="date">07-Sep-2005 01:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The following contrasts the trinary operator associativity in PHP and Java.&nbsp; The first test would work as expected in Java (evaluates left-to-right, associates right-to-left, like if stmnt), the second in PHP (evaluates and associates left-to-right)<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">echo </span><span class="string">"\n\n######----------- trinary operator associativity\n\n"</span><span class="keyword">;<br />
<br />
function </span><span class="default">trinaryTest</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">){<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bar&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$foo </span><span class="keyword">&gt; </span><span class="default">20<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">? </span><span class="string">"greater than 20"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">: </span><span class="default">$foo </span><span class="keyword">&gt; </span><span class="default">10<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">? </span><span class="string">"greater than 10"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">: </span><span class="default">$foo </span><span class="keyword">&gt; </span><span class="default">5<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">? </span><span class="string">"greater than 5"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">: </span><span class="string">"not worthy of consideration"</span><span class="keyword">;&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$foo</span><span class="keyword">.</span><span class="string">" =&gt;&nbsp; "</span><span class="keyword">.</span><span class="default">$bar</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="string">"----trinaryTest\n\n"</span><span class="keyword">;<br />
</span><span class="default">trinaryTest</span><span class="keyword">(</span><span class="default">21</span><span class="keyword">);<br />
</span><span class="default">trinaryTest</span><span class="keyword">(</span><span class="default">11</span><span class="keyword">);<br />
</span><span class="default">trinaryTest</span><span class="keyword">(</span><span class="default">6</span><span class="keyword">);<br />
</span><span class="default">trinaryTest</span><span class="keyword">(</span><span class="default">4</span><span class="keyword">);<br />
<br />
function </span><span class="default">trinaryTestParens</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$bar&nbsp; &nbsp; </span><span class="keyword">= </span><span class="default">$foo </span><span class="keyword">&gt; </span><span class="default">20<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">? </span><span class="string">"greater than 20"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">: (</span><span class="default">$foo </span><span class="keyword">&gt; </span><span class="default">10<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">? </span><span class="string">"greater than 10"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">: (</span><span class="default">$foo </span><span class="keyword">&gt; </span><span class="default">5<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">? </span><span class="string">"greater than 5"<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">: </span><span class="string">"not worthy of consideration"</span><span class="keyword">));&nbsp; &nbsp; <br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$foo</span><span class="keyword">.</span><span class="string">" =&gt;&nbsp; "</span><span class="keyword">.</span><span class="default">$bar</span><span class="keyword">.</span><span class="string">"\n"</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="string">"----trinaryTestParens\n\n"</span><span class="keyword">;<br />
</span><span class="default">trinaryTestParens</span><span class="keyword">(</span><span class="default">21</span><span class="keyword">);<br />
</span><span class="default">trinaryTestParens</span><span class="keyword">(</span><span class="default">11</span><span class="keyword">);<br />
</span><span class="default">trinaryTest</span><span class="keyword">(</span><span class="default">6</span><span class="keyword">);<br />
</span><span class="default">trinaryTestParens</span><span class="keyword">(</span><span class="default">4</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Output:<br />
<br />
######----------- trinary operator associativity <br />
<br />
----trinaryTest<br />
<br />
21 =&gt;&nbsp; greater than 5<br />
11 =&gt;&nbsp; greater than 5<br />
6 =&gt;&nbsp; greater than 5<br />
4 =&gt;&nbsp; not worthy of consideration<br />
<br />
----trinaryTestParens<br />
<br />
21 =&gt;&nbsp; greater than 20<br />
11 =&gt;&nbsp; greater than 10<br />
6 =&gt;&nbsp; greater than 5<br />
4 =&gt;&nbsp; not worthy of consideration</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47911""></a>
  <div class="note">
   <strong class="user">sven dot heyll at web dot de</strong>
   <a href="#47911" class="date">05-Dec-2004 01:19</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Hi folks,<br />
to the float comparison problem... <br />
<br />
This worked for me:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//! compare two floating point values, return true if they are equal <br />
//! (enough) or false otherwise<br />
</span><span class="keyword">function </span><span class="default">float_equal</span><span class="keyword">(</span><span class="default">$f1</span><span class="keyword">, </span><span class="default">$f2</span><span class="keyword">)<br />
{<br />
&nbsp;&nbsp;&nbsp; return (</span><span class="default">$f1 </span><span class="keyword">&gt; </span><span class="default">$f2</span><span class="keyword">) ? (</span><span class="default">false</span><span class="keyword">) : (!(</span><span class="default">$f1 </span><span class="keyword">&lt; </span><span class="default">$f2</span><span class="keyword">));<br />
}<br />
<br />
</span><span class="comment">// compare floats<br />
</span><span class="default">$f1 </span><span class="keyword">= </span><span class="default">0.037</span><span class="keyword">;<br />
</span><span class="default">$f2 </span><span class="keyword">= </span><span class="default">1000387.978</span><span class="keyword">;<br />
echo </span><span class="string">"</span><span class="default">$f1</span><span class="string"> and </span><span class="default">$f2</span><span class="string"> are "</span><span class="keyword">.(</span><span class="default">float_equal</span><span class="keyword">(</span><span class="default">$f1</span><span class="keyword">,</span><span class="default">$f2</span><span class="keyword">)?(</span><span class="string">"equal"</span><span class="keyword">):(</span><span class="string">"not equal"</span><span class="keyword">)).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
</span><span class="default">$f1 </span><span class="keyword">= </span><span class="default">0.3</span><span class="keyword">;<br />
</span><span class="default">$f2 </span><span class="keyword">= </span><span class="default">0.3</span><span class="keyword">;&nbsp; &nbsp; <br />
echo </span><span class="string">"</span><span class="default">$f1</span><span class="string"> and </span><span class="default">$f2</span><span class="string"> are "</span><span class="keyword">.(</span><span class="default">float_equal</span><span class="keyword">(</span><span class="default">$f1</span><span class="keyword">,</span><span class="default">$f2</span><span class="keyword">)?(</span><span class="string">"equal"</span><span class="keyword">):(</span><span class="string">"not equal"</span><span class="keyword">)).</span><span class="string">"&lt;br /&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47841""></a>
  <div class="note">
   
   <a href="#47841" class="date">02-Dec-2004 03:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Concerning floats: It is simply pointless to compare a float with the value "0.3". The number 0.3 is not exactly representable in binary. Period. So is the number 0.1, and an infinite number of others numbers. Just like 1/3 is not exactly representable in decimal. How would you code the test for your float to be one third? Maybe $myFloat == 0.33333333333&nbsp;&nbsp; Hmm: you see: Everyone would agree that this test is not accurate.<br />
<br />
The test $myFloat == 0.3 is making exactly the same mistake.<br />
<br />
So the float which you think should be 0.3 is really something very close to it; if you print it in decimal, the conversion will end up with the closest decimal representation, which may well be "0.3". But "0.3" is also the "right display decimal" for hundreds of float values.<br />
<br />
The correct way to "compare" floats is: ( $myFloat - 0.3 ) &lt; $EPSILON where $EPSILON is something like 1e-10, depending on your application. Approximate algorithms are the only right way to treat floats, which are only approximate by themselves.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46721""></a>
  <div class="note">
   <strong class="user">darkcryst at gmail dot com</strong>
   <a href="#46721" class="date">21-Oct-2004 03:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
be REALLY careful when comparing float values. PHP, like most languages, is vunerable to he problems of floating point precision.<br />
<br />
Do NOT compare floats directly, and this also means any decimal value at all.<br />
<br />
The headaches finding out if $var = 0.3 caused me are unbelievable. even though the stored variable WAS 0.3 it was still ignoring it - this was to do with the internal float not recognising it as 0.3 even though it *displayed* it as 0.3 when echo'd or printed... basically it was stored imprecisly, but not able to display it as such.<br />
<br />
I ended up having to compare after multiplying by 10, rounding, and then dividing by 10... rediculous, but sadly the only way I could find to reliably do it. The round seemed to remove the break in the float...<br />
<br />
jesus that took me ages to find...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46666""></a>
  <div class="note">
   <strong class="user">hiroh2k at yahoo dot com</strong>
   <a href="#46666" class="date">19-Oct-2004 11:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
if you want to use the ?: operator, you should be careful with the precedence.<br />
<br />
Here's an example of the priority of operators:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">'Hello, ' </span><span class="keyword">. isset(</span><span class="default">$i</span><span class="keyword">) ? </span><span class="string">'my friend: ' </span><span class="keyword">. </span><span class="default">$username </span><span class="keyword">. </span><span class="string">', how are you doing?' </span><span class="keyword">: </span><span class="string">'my guest, ' </span><span class="keyword">. </span><span class="default">$guestusername </span><span class="keyword">. </span><span class="string">', please register'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
This make "'Hello, ' . isset($i)" the sentence to evaluate. So, if you think to mix more sentences with the ?: operator, please use always parentheses to force the proper evaluation of the sentence.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="string">'Hello, ' </span><span class="keyword">. (isset(</span><span class="default">$i</span><span class="keyword">) ? </span><span class="string">'my friend: ' </span><span class="keyword">. </span><span class="default">$username </span><span class="keyword">. </span><span class="string">', how are you doing?' </span><span class="keyword">: </span><span class="string">'my guest, ' </span><span class="keyword">. </span><span class="default">$guestusername </span><span class="keyword">. </span><span class="string">', please register'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
for general rule, if you mix ?: with other sentences, always close it with parentheses.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="43754""></a>
  <div class="note">
   <strong class="user">jeronimo at DELETE_THIS dot transartmedia dot com</strong>
   <a href="#43754" class="date">02-Jul-2004 04:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For converted Perl programmers: use strict comparison operators (===, !==) in place of string comparison operators (eq, ne). Don't use the simple equality operators (==, !=), because ($a == $b) will return TRUE in many situations where ($a eq $b) would return FALSE.<br />
<br />
For instance...<br />
"mary" == "fred" is FALSE, but<br />
"+010" == "10.0" is TRUE (!)<br />
<br />
In the following examples, none of the strings being compared are identical, but because PHP *can* evaluate them as numbers, it does so, and therefore finds them equal...<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">echo (</span><span class="string">"007" </span><span class="keyword">== </span><span class="string">"7" </span><span class="keyword">? </span><span class="string">"EQUAL" </span><span class="keyword">: </span><span class="string">"not equal"</span><span class="keyword">);<br />
</span><span class="comment">// Prints: EQUAL<br />
<br />
// Surrounding the strings with single quotes (') instead of double<br />
// quotes (") to ensure the contents aren't evaluated, and forcing<br />
// string types has no effect.<br />
</span><span class="keyword">echo ( (string)</span><span class="string">'0001' </span><span class="keyword">== (string)</span><span class="string">'+1.' </span><span class="keyword">? </span><span class="string">"EQUAL" </span><span class="keyword">: </span><span class="string">"not equal"</span><span class="keyword">);<br />
</span><span class="comment">// Prints: EQUAL<br />
<br />
// Including non-digit characters (like leading spaces, "e", the plus<br />
// or minus sign, period, ...) can still result in this behavior, if<br />
// a string happens to be valid scientific notation.<br />
</span><span class="keyword">echo (</span><span class="string">'&nbsp; 131e-2' </span><span class="keyword">== </span><span class="string">'001.3100' </span><span class="keyword">? </span><span class="string">"EQUAL" </span><span class="keyword">: </span><span class="string">"not equal"</span><span class="keyword">);<br />
</span><span class="comment">// Prints: EQUAL<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
If you're comparing passwords (or anything else for which "near" precision isn't good enough) this confusion could be detrimental. Stick with strict comparisons...<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Same examples as above, using === instead of ==<br />
<br />
</span><span class="keyword">echo (</span><span class="string">"007" </span><span class="keyword">=== </span><span class="string">"7" </span><span class="keyword">? </span><span class="string">"EQUAL" </span><span class="keyword">: </span><span class="string">"not equal"</span><span class="keyword">);<br />
</span><span class="comment">// Prints: not equal<br />
<br />
</span><span class="keyword">echo ( (string)</span><span class="string">'0001' </span><span class="keyword">=== (string)</span><span class="string">'+1.' </span><span class="keyword">? </span><span class="string">"EQUAL" </span><span class="keyword">: </span><span class="string">"not equal"</span><span class="keyword">);<br />
</span><span class="comment">// Prints: not equal<br />
<br />
</span><span class="keyword">echo (</span><span class="string">'&nbsp; 131e-2' </span><span class="keyword">=== </span><span class="string">'001.3100' </span><span class="keyword">? </span><span class="string">"EQUAL" </span><span class="keyword">: </span><span class="string">"not equal"</span><span class="keyword">);<br />
</span><span class="comment">// Prints: not equal<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41534""></a>
  <div class="note">
   <strong class="user">webmaster __AT__ digitalanime __DOT__ nl</strong>
   <a href="#41534" class="date">13-Apr-2004 03:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
WARNING!!!!<br />
<br />
Let's say, we have this little script:<br />
<br />
<span class="default">&lt;?php<br />
$username </span><span class="keyword">= </span><span class="string">'Me'</span><span class="keyword">;<br />
</span><span class="default">$guestusername </span><span class="keyword">= </span><span class="string">'Guest'</span><span class="keyword">;<br />
<br />
echo </span><span class="string">'Hello, ' </span><span class="keyword">. isset(</span><span class="default">$i</span><span class="keyword">) ? </span><span class="string">'my friend: ' </span><span class="keyword">. </span><span class="default">$username </span><span class="keyword">. </span><span class="string">', how are you doing?' </span><span class="keyword">: </span><span class="string">'my guest, ' </span><span class="keyword">. </span><span class="default">$guestusername </span><span class="keyword">. </span><span class="string">', please register'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
What you want:<br />
If $i is set, display:<br />
Hello, my friend: Me, how are you doing?<br />
If not, display:<br />
Hello, my guest, Guest, please register<br />
<br />
BUT, you DON'T get that result!<br />
<br />
If $i is set, you get this:<br />
my friend: Me, how are you doing? (so, there's not "Hello, " before it)<br />
If $i is NOT set, you get this:<br />
my friend: Me, how are you doing?<br />
<br />
So... That's the same!<br />
<br />
You can solve this by using the "(" and ")" to give priority to the ternary operator:<br />
<br />
<span class="default">&lt;?php<br />
$username </span><span class="keyword">= </span><span class="string">'Me'</span><span class="keyword">;<br />
</span><span class="default">$guestusername </span><span class="keyword">= </span><span class="string">'Guest'</span><span class="keyword">;<br />
<br />
echo </span><span class="string">'Hello, ' </span><span class="keyword">. (isset(</span><span class="default">$i</span><span class="keyword">) ? </span><span class="string">'my friend: ' </span><span class="keyword">. </span><span class="default">$username </span><span class="keyword">. </span><span class="string">', how are you doing?' </span><span class="keyword">: </span><span class="string">'my guest, ' </span><span class="keyword">. </span><span class="default">$guestusername </span><span class="keyword">. </span><span class="string">', please register'</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
When $i is set, you get this:<br />
Hello, my friend: Me, how are you doing? (expected)<br />
When $i is NOT set, you get this:<br />
Hello, my guest, Guest, please register (expected too)<br />
<br />
So.. Please, don't be dumb and ALWAYS use the priority-signs (or.. How do you call them?), ( and ).<br />
By using them, you won't get unneeded trouble and always know for sure your code is doing what you want: The right thing.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="41251""></a>
  <div class="note">
   <strong class="user">user@example</strong>
   <a href="#41251" class="date">04-Apr-2004 03:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
With Nested ternary Operators you have to set the logical&nbsp; parentheses to get the correct result.<br />
<br />
<span class="default">&lt;?php<br />
$test</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">;<br />
</span><span class="default">$test2</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">;<br />
<br />
(</span><span class="default">$test</span><span class="keyword">) ? </span><span class="string">"TEST1 true" </span><span class="keyword">:&nbsp; (</span><span class="default">$test2</span><span class="keyword">) ? </span><span class="string">"TEST2 true" </span><span class="keyword">: </span><span class="string">"false"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span>This will output: TEST2 true;<br />
<br />
correct:<br />
<br />
<span class="default">&lt;?php<br />
$test</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">;<br />
</span><span class="default">$test2</span><span class="keyword">=</span><span class="default">true</span><span class="keyword">;<br />
<br />
(</span><span class="default">$test</span><span class="keyword">) ? </span><span class="string">"TEST1 true" </span><span class="keyword">: ((</span><span class="default">$test2</span><span class="keyword">) ? </span><span class="string">"TEST2 true" </span><span class="keyword">: </span><span class="string">"false"</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Anyway don't nest them to much....!!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="38139""></a>
  <div class="note">
   <strong class="user">jwhiting at hampshire dot edu</strong>
   <a href="#38139" class="date">09-Dec-2003 03:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
note: the behavior below is documented in the appendix K about type comparisons, but since it is somewhat buried i thought i should raise it here for people since it threw me for a loop until i figured it out completely.<br />
<br />
just to clarify a tricky point about the == comparison operator when dealing with strings and numbers:<br />
<br />
('some string' == 0) returns TRUE<br />
<br />
however, ('123' == 0) returns FALSE<br />
<br />
also note that ((int) 'some string') returns 0<br />
<br />
and ((int) '123') returns 123<br />
<br />
the behavior makes senes but you must be careful when comparing strings to numbers, e.g. when you're comparing a request variable which you expect to be numeric. its easy to fall into the trap of:<br />
<br />
if ($_GET['myvar']==0) dosomething();<br />
<br />
as this will dosomething() even when $_GET['myvar'] is 'some string' and clearly not the value 0<br />
<br />
i was getting lazy with my types since php vars are so flexible, so be warned to pay attention to the details...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.operators.bitwise.html">Bitwise Operators</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.operators.errorcontrol.html">Error Control Operators</a></div>
 <div class="up"><a href="language.operators.html">Operators</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
