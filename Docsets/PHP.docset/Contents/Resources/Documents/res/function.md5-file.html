<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Calculates the md5 hash of a given file</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.ltrim.html">ltrim</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.md5.html">md5</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.md5-file" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">md5_file</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5)</p><p class="refpurpose"><span class="refname">md5_file</span> &mdash; <span class="dc-title">Calculates the md5 hash of a given file</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.md5-file-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>md5_file</b></span>
    ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$filename</tt></span>
   [, <span class="methodparam"><span class="type">bool</span> <tt class="parameter">$raw_output</tt><span class="initializer"> = false</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Calculates the MD5 hash of the file specified by the
   <i><tt class="parameter">filename</tt></i> parameter using the
   <a href="http://www.faqs.org/rfcs/rfc1321" class="link external" title="Link : http://www.faqs.org/rfcs/rfc1321">&raquo;&nbsp;RSA Data Security, Inc. 
   MD5 Message-Digest Algorithm</a>, and returns that hash.
   The hash is a 32-character hexadecimal number.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.md5-file-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">filename</tt></i></span>
     <dd>

      <p class="para">
       The filename
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">raw_output</tt></i></span>
     <dd>

      <p class="para">
       When <b><tt>TRUE</tt></b>, returns the digest in raw binary format with a length of
       16.
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.md5-file-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns a string on success, <b><tt>FALSE</tt></b> otherwise.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.md5-file-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead valign="middle">
      <tr valign="middle">
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody valign="middle" class="tbody">
      <tr valign="middle">
       <td align="left">5.0.0</td>
       <td align="left">
        Added the <i><tt class="parameter">raw_output</tt></i> parameter
       </td>
      </tr>

      <tr valign="middle">
       <td align="left">5.1.0</td>
       <td align="left">
        Changed the function to use the streams API. It means that you can use
        it with wrappers, like <i>md5_file(&#039;http://example.com/..&#039;)</i>
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.md5-file-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-4392">
    <p><b>Example #1 Usage example of <span class="function"><b>md5_file()</b></span></b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$file&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'php-5.3.0alpha2-Win32-VC9-x64.zip'</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">'MD5&nbsp;file&nbsp;hash&nbsp;of&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$file&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">':&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">md5_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.md5-file-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.md5.html" class="function" rel="rdfs-seeAlso">md5()</a> - Calculate the md5 hash of a string</span></li>
    <li class="member"><span class="function"><a href="function.sha1-file.html" class="function" rel="rdfs-seeAlso">sha1_file()</a> - Calculate the sha1 hash of a file</span></li>
    <li class="member"><span class="function"><a href="function.crc32.html" class="function" rel="rdfs-seeAlso">crc32()</a> - Calculates the crc32 polynomial of a string</span></li>
   </ul>
  </p>
 </div>

</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="94494""></a>
  <div class="note">
   <strong class="user">Chris</strong>
   <a href="#94494" class="date">08-Nov-2009 07:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you just need to find out if two files are identical, comparing file hashes can be inefficient, especially on large files.&nbsp; There's no reason to read two whole files and do all the math if the second byte of each file is different.&nbsp; If you don't need to store the hash value for later use, there may not be a need to calculate the hash value just to compare files.&nbsp; This can be much faster:<br />
<br />
<span class="default">&lt;?php<br />
define</span><span class="keyword">(</span><span class="string">'READ_LEN'</span><span class="keyword">, </span><span class="default">4096</span><span class="keyword">);<br />
<br />
if(</span><span class="default">files_identical</span><span class="keyword">(</span><span class="string">'file1.txt'</span><span class="keyword">, </span><span class="string">'file2.txt'</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'files identical'</span><span class="keyword">;<br />
else<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">'files not identical'</span><span class="keyword">;<br />
<br />
</span><span class="comment">//&nbsp;&nbsp; pass two file names<br />
//&nbsp;&nbsp; returns TRUE if files are the same, FALSE otherwise<br />
</span><span class="keyword">function </span><span class="default">files_identical</span><span class="keyword">(</span><span class="default">$fn1</span><span class="keyword">, </span><span class="default">$fn2</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">filetype</span><span class="keyword">(</span><span class="default">$fn1</span><span class="keyword">) !== </span><span class="default">filetype</span><span class="keyword">(</span><span class="default">$fn2</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">filesize</span><span class="keyword">(</span><span class="default">$fn1</span><span class="keyword">) !== </span><span class="default">filesize</span><span class="keyword">(</span><span class="default">$fn2</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">$fp1 </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$fn1</span><span class="keyword">, </span><span class="string">'rb'</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; if(!</span><span class="default">$fp2 </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$fn2</span><span class="keyword">, </span><span class="string">'rb'</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp1</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$same </span><span class="keyword">= </span><span class="default">TRUE</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; while (!</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$fp1</span><span class="keyword">) and !</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$fp2</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">fread</span><span class="keyword">(</span><span class="default">$fp1</span><span class="keyword">, </span><span class="default">READ_LEN</span><span class="keyword">) !== </span><span class="default">fread</span><span class="keyword">(</span><span class="default">$fp2</span><span class="keyword">, </span><span class="default">READ_LEN</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$same </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">feof</span><span class="keyword">(</span><span class="default">$fp1</span><span class="keyword">) !== </span><span class="default">feof</span><span class="keyword">(</span><span class="default">$fp2</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$same </span><span class="keyword">= </span><span class="default">FALSE</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp1</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp2</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$same</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85864""></a>
  <div class="note">
   <strong class="user">Sebastian Zavadschi (php.box.md)</strong>
   <a href="#85864" class="date">22-Sep-2008 01:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I need to parse a big file after it was changed (a shared XLS file). I've fond a good idea to check once a minute the checksum of the file, in order to track if it was changed or not. Here is my code, hope will help some one. Any improvements are welcome!<br />
<br />
<span class="default">&lt;?php<br />
$file_xls </span><span class="keyword">= </span><span class="string">"test.xls"</span><span class="keyword">;<br />
</span><span class="default">$file_md5 </span><span class="keyword">= </span><span class="string">"test.xls.md5"</span><span class="keyword">; </span><span class="comment">// Must exists and must be writable for PHP<br />
</span><span class="default">$md5_new_file </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">md5_file</span><span class="keyword">(</span><span class="default">$file_xls</span><span class="keyword">));<br />
</span><span class="default">$md5_old_file </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="default">$file_md5</span><span class="keyword">));<br />
<br />
if(</span><span class="default">$md5_new_file </span><span class="keyword">&lt;&gt; </span><span class="default">$md5_old_file</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"file is out of date, updating now..."</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">rename</span><span class="keyword">(</span><span class="default">$file_md5</span><span class="keyword">, </span><span class="default">$file_md5</span><span class="keyword">.</span><span class="string">".bak"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$fp </span><span class="keyword">= </span><span class="default">fopen</span><span class="keyword">(</span><span class="default">$file_md5</span><span class="keyword">, </span><span class="string">'w'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fwrite</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">, </span><span class="default">$md5_new_file</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br />
</span><span class="comment">/*<br />
Here we do some job...<br />
In my case - dealing with "Spreadsheet Excel Reader"<br />
*/<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">unlink</span><span class="keyword">(</span><span class="default">$file_md5</span><span class="keyword">.</span><span class="string">".bak"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="comment">// "Not for crontab" - Remove the following section if you are intending to run it in crontab<br />
</span><span class="keyword">else<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"file is up to date, nothing to do..."</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="comment">// End "Not for crontab";<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81751""></a>
  <div class="note">
   <strong class="user">smartin</strong>
   <a href="#81751" class="date">12-Mar-2008 04:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
In response to using exec instead for performance (Nov 13 2007 post), It looks like the performance depends on the size of the file.&nbsp; See the results below using the same script from the original post.&nbsp; The first hash is with md5_file and the second is with openssl md5.<br />
<br />
With a 1MB file:<br />
Hash = df1555ec0c2d7fcad3a03770f9aa238a; time = 0.005006<br />
Hash = df1555ec0c2d7fcad3a03770f9aa238a; time = 0.01498<br />
<br />
With a 2MB file:<br />
<br />
Hash = 4387904830a4245a8ab767e5937d722c; time = 0.010393<br />
Hash = 4387904830a4245a8ab767e5937d722c; time = 0.016691<br />
<br />
With a 10MB file:<br />
<br />
Hash = b89f948e98f3a113dc13fdbd3bdb17ef; time = 0.241907<br />
Hash = b89f948e98f3a113dc13fdbd3bdb17ef; time = 0.037597<br />
<br />
Performance seems to change proportionally with the file size.&nbsp; Judging from the previous post's default file name (.mov) he/she was probably dealing with a large file.&nbsp; These are just quick tests and far from a perfect benchmark, but you might want to test your own files before assuming that the openssl solution is faster (ie, if working with small text files vs. movies, etc)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79265""></a>
  <div class="note">
   <strong class="user">toby at globaloptima dot co dot uk</strong>
   <a href="#79265" class="date">18-Nov-2007 12:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I'm wondering about the MD5_DIR function posted by potsed, what happens if the file listing is returned in a different order?<br />
<br />
From what I can tell you get different MD5's based on the order, a minor addition sorts this:<br />
<br />
&nbsp;&nbsp;&nbsp; ...<br />
&nbsp;&nbsp;&nbsp; asort($filemd5s); //sort the md5s before concat<br />
&nbsp;&nbsp;&nbsp; return md5(implode('', $filemd5s));<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79161""></a>
  <div class="note">
   <strong class="user">glau dot stuff at N0_SPAM dot ridiculousprods dot com</strong>
   <a href="#79161" class="date">13-Nov-2007 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's much faster to call an 'exec' command to openssl md5 than to use md5_file.<br />
<br />
<span class="default">&lt;?php<br />
<br />
$file_path </span><span class="keyword">= </span><span class="string">'/path/to/large/video_file.mov'</span><span class="keyword">;<br />
<br />
</span><span class="default">$begin </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
<br />
</span><span class="default">$hash </span><span class="keyword">= </span><span class="default">md5_file</span><span class="keyword">(</span><span class="default">$file_path</span><span class="keyword">);<br />
<br />
</span><span class="default">$end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$begin</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"Hash = </span><span class="default">$hash</span><span class="string">; time = </span><span class="default">$end</span><span class="string">&lt;br&gt;"</span><span class="keyword">;<br />
</span><span class="comment"># Hash = eac425a6f5b90f69e74710b015228640; time = 2.5333859920502<br />
<br />
</span><span class="default">$begin </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
<br />
</span><span class="default">$result </span><span class="keyword">= </span><span class="default">split</span><span class="keyword">(</span><span class="string">'='</span><span class="keyword">,</span><span class="default">exec</span><span class="keyword">(</span><span class="string">"openssl md5 </span><span class="default">$file_path</span><span class="string">"</span><span class="keyword">));<br />
<br />
</span><span class="default">$end </span><span class="keyword">= </span><span class="default">microtime</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">) - </span><span class="default">$begin</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"Hash = "</span><span class="keyword">.</span><span class="default">$result</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">].</span><span class="string">"; time = </span><span class="default">$end</span><span class="string">"</span><span class="keyword">;<br />
</span><span class="comment">#Hash = eac425a6f5b90f69e74710b015228640; time = 0.79528999328613<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
I consistently see about a 3x improvement in speed.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="75393""></a>
  <div class="note">
   <strong class="user">potsed [at] gmail [dot] com</strong>
   <a href="#75393" class="date">27-May-2007 04:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Heres a function to give an md5 for an entire directory..<br />
<br />
function MD5_DIR($dir)<br />
{<br />
&nbsp;&nbsp;&nbsp; if (!is_dir($dir))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return false;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; $filemd5s = array();<br />
&nbsp;&nbsp;&nbsp; $d = dir($dir);<br />
<br />
&nbsp;&nbsp;&nbsp; while (false !== ($entry = $d-&gt;read()))<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ($entry != '.' &amp;&amp; $entry != '..')<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (is_dir($dir.'/'.$entry))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $filemd5s[] = MD5_DIR($dir.'/'.$entry);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $filemd5s[] = md5_file($dir.'/'.$entry);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; $d-&gt;close();<br />
&nbsp;&nbsp;&nbsp; return md5(implode('', $filemd5s));<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51385""></a>
  <div class="note">
   <strong class="user">bubba at revbubba dot com</strong>
   <a href="#51385" class="date">29-Mar-2005 04:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
a working example of the usage of this function, to confirm a specific file has not been modified (replace all instances of "myfile.xxx" with your filename):<br />
<br />
<span class="default">&lt;?php<br />
$chkfilename </span><span class="keyword">= </span><span class="string">"myfile.xxx"</span><span class="keyword">;<br />
</span><span class="default">$chkmd5return </span><span class="keyword">= </span><span class="default">md5_file</span><span class="keyword">(</span><span class="default">$chkfilename</span><span class="keyword">);<br />
if (</span><span class="default">$chkmd5return </span><span class="keyword">!= </span><span class="string">"myfile.xxx's md5 value"</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; echo </span><span class="string">"You have replaced myfile.xxx with an unknown version of the file, please replace the original file."</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp; &nbsp; (</span><span class="default">your code to be executed</span><span class="keyword">, </span><span class="default">now that it has confirmed your myfile</span><span class="keyword">.</span><span class="default">xxx has been unmodified</span><span class="keyword">)<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
To find out the file's md5 value, create a new .php doc, and put this code in it:<br />
<br />
<span class="default">&lt;?php<br />
$chkfilename </span><span class="keyword">= </span><span class="string">"myfile.xxx"</span><span class="keyword">;<br />
</span><span class="default">$chkmd5return </span><span class="keyword">= </span><span class="default">md5_file</span><span class="keyword">(</span><span class="default">$chkfilename</span><span class="keyword">);<br />
echo </span><span class="default">$chkmd5return</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Then upload the new .php doc to your webserver and navigate to it.&nbsp; Be sure to delete the new .php doc once you have plugged in the value it spits out, into the "myfile.xxx's md5 value" in the first example above.<br />
<br />
I just thought this example might be helpful to someone somewhere...&nbsp; if you php.net people feel it needs editing or deletion, I leave it to your discretion.&nbsp; ;)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47429""></a>
  <div class="note">
   <strong class="user">richard at interlink dot com dot au</strong>
   <a href="#47429" class="date">16-Nov-2004 12:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For those of you with PHP 4 that want to output the "raw" 128 bit hash, all you need to do is send it to pack to convert the hex string into the raw output.<br />
<br />
ie:<br />
$filename="checkthisfile.bin";<br />
$rawhash=pack("H*",md5_file($filename));</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.ltrim.html">ltrim</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.md5.html">md5</a></div>
 <div class="up"><a href="ref.strings.html">String Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
