<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Overloading</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.oop5.traits.html">Traits</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.oop5.iterations.html">Object Iteration</a></div>
 <div class="up"><a href="language.oop5.html">Classes and Objects</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="language.oop5.overloading" class="sect1">
  <h2 class="title">Overloading</h2>

  <p class="para">
   Overloading in PHP provides means to dynamically
   "<span class="quote">create</span>" properties and methods.
   These dynamic entities are processed via magic methods
   one can establish in a class for various action types.
  </p>

  <p class="para">
   The overloading methods are invoked when interacting with
   properties or methods that have not been declared or are not
   <a href="language.oop5.visibility.html" class="link">visible</a> in
   the current scope. The rest of this section will use the terms
   "<span class="quote">inaccessible properties</span>" and "<span class="quote">inaccessible
   methods</span>" to refer to this combination of declaration
   and visibility.
  </p>

  <p class="para">
   All overloading methods must be defined as <i>public</i>.
  </p>

  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    None of the arguments of these magic methods can be
    <a href="functions.arguments.html#functions.arguments.by-reference" class="link">passed by
    reference</a>.
   </p>
  </p></blockquote>

  <blockquote class="note"><p><b class="note">Note</b>: 
   <p class="para">
    PHP&#039;s interpretation of "<span class="quote">overloading</span>" is
    different than most object oriented languages. Overloading
    traditionally provides the ability to have multiple methods
    with the same name but different quantities and types of
    arguments.
   </p>
  </p></blockquote>


  <div class="sect2" id="language.oop5.overloading.changelog">
   <h3 class="title">Changelog</h3>
   <p class="para">
    <table class="doctable informaltable">
     
      <thead valign="middle">
       <tr valign="middle">
        <th>Version</th>
        <th>Description</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left">5.3.0</td>
        <td align="left">
         Added <a href="language.oop5.overloading.html#object.callstatic" class="link">__callStatic()</a>.
         Added warning to enforce public visibility and non-static declaration.
        </td>
       </tr>

       <tr valign="middle">
        <td align="left">5.1.0</td>
        <td align="left">
         Added <a href="language.oop5.overloading.html#object.isset" class="link">__isset()</a> and <a href="language.oop5.overloading.html#object.unset" class="link">__unset()</a>.
        </td>
       </tr>

      </tbody>
     
    </table>

   </p>
  </div>


  <div class="sect2" id="language.oop5.overloading.members">
   <h3 class="title">Property overloading</h3>

   <div class="methodsynopsis dc-description" id="object.set">
    <span class="modifier">public</span> <span class="type"><span class="type void">void</span></span> <span class="methodname"><b>__set</b></span>
     ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$name</tt></span>
    , <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$value</tt></span>
    )</div>

   <div class="methodsynopsis dc-description" id="object.get">
    <span class="modifier">public</span> <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><b>__get</b></span>
     ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$name</tt></span>
    )</div>

   <div class="methodsynopsis dc-description" id="object.isset">
    <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><b>__isset</b></span>
     ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$name</tt></span>
    )</div>

   <div class="methodsynopsis dc-description" id="object.unset">
    <span class="modifier">public</span> <span class="type"><span class="type void">void</span></span> <span class="methodname"><b>__unset</b></span>
     ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$name</tt></span>
    )</div>


   <p class="para">
    <a href="language.oop5.overloading.html#object.set" class="link">__set()</a> is run when writing data to
    inaccessible properties.
   </p>

   <p class="para">
    <a href="language.oop5.overloading.html#object.get" class="link">__get()</a> is utilized for reading data from
    inaccessible properties.
   </p>

   <p class="para">
    <a href="language.oop5.overloading.html#object.isset" class="link">__isset()</a> is triggered by calling
    <span class="function"><a href="function.isset.html" class="function">isset()</a></span> or <span class="function"><a href="function.empty.html" class="function">empty()</a></span>
    on inaccessible properties.
   </p>

   <p class="para">
    <a href="language.oop5.overloading.html#object.unset" class="link">__unset()</a> is invoked when
    <span class="function"><a href="function.unset.html" class="function">unset()</a></span> is used on inaccessible properties.
   </p>

   <p class="para">
    The <var class="varname"><var class="varname">$name</var></var> argument is the name of the
    property being interacted with. The <a href="language.oop5.overloading.html#object.set" class="link">__set()</a>
    method&#039;s <var class="varname"><var class="varname">$value</var></var> argument specifies the
    value the <var class="varname"><var class="varname">$name</var></var>&#039;ed property should be set
    to.
   </p>

   <p class="para">
    Property overloading only works in object context. These magic
    methods will not be triggered in static context. Therefore
    these methods should not be declared
    <a href="language.oop5.static.html" class="link">static</a>. As of PHP 
    5.3.0, a warning is issued if one of the magic overloading 
    methods is declared <i>static</i>.
   </p>

   <blockquote class="note"><p><b class="note">Note</b>: 
    <p class="para">
     The return value of <a href="language.oop5.overloading.html#object.set" class="link">__set()</a> is ignored
     because of the way PHP processes the assignment operator.
     Similarly, <a href="language.oop5.overloading.html#object.get" class="link">__get()</a> is never called when
     chaining assignments together like this:
     <i><div class="cdata"><pre> $a = $obj-&gt;b = 8; </pre></div></i>
    </p>
   </p></blockquote>

   <blockquote class="note"><p><b class="note">Note</b>: 
    <p class="para">
     It is not possible to use overloaded properties in other 
     language constructs than <span class="function"><a href="function.isset.html" class="function">isset()</a></span>. This 
     means if <span class="function"><a href="function.empty.html" class="function">empty()</a></span> is called on an overloaded 
     property, the overloaded method is not called.
    </p>
    <p class="para">
     To workaround that limitation, the overloaded property must 
     be copied into a local variable in the scope and then be 
     handed to <span class="function"><a href="function.empty.html" class="function">empty()</a></span>.
    </p>
   </p></blockquote>

   <div class="example" id="example-198">
    <p><b>Example #1 
     Overloading properties via the <a href="language.oop5.overloading.html#object.get" class="link">__get()</a>,
     <a href="language.oop5.overloading.html#object.set" class="link">__set()</a>, <a href="language.oop5.overloading.html#object.isset" class="link">__isset()</a>
     and <a href="language.oop5.overloading.html#object.unset" class="link">__unset()</a> methods
    </b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">PropertyTest<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;Location&nbsp;for&nbsp;overloaded&nbsp;data.&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;Overloading&nbsp;not&nbsp;used&nbsp;on&nbsp;declared&nbsp;properties.&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$declared&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;Overloading&nbsp;only&nbsp;used&nbsp;on&nbsp;this&nbsp;when&nbsp;accessed&nbsp;outside&nbsp;the&nbsp;class.&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;</span><span style="color: #0000BB">$hidden&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__set</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Setting&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'&nbsp;to&nbsp;'</span><span style="color: #0000BB">$value</span><span style="color: #DD0000">'\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__get</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Getting&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">array_key_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$trace&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">debug_backtrace</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Undefined&nbsp;property&nbsp;via&nbsp;__get():&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'&nbsp;in&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">][</span><span style="color: #DD0000">'file'</span><span style="color: #007700">]&nbsp;.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'&nbsp;on&nbsp;line&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">][</span><span style="color: #DD0000">'line'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">E_USER_NOTICE</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;As&nbsp;of&nbsp;PHP&nbsp;5.1.0&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">__isset</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Is&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'&nbsp;set?\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;As&nbsp;of&nbsp;PHP&nbsp;5.1.0&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">__unset</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Unsetting&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;Not&nbsp;a&nbsp;magic&nbsp;method,&nbsp;just&nbsp;here&nbsp;for&nbsp;example.&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">getHidden</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hidden</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /><br />echo&nbsp;</span><span style="color: #DD0000">"&lt;pre&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">PropertyTest</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(isset(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">));<br />unset(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(isset(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">declared&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Let's&nbsp;experiment&nbsp;with&nbsp;the&nbsp;private&nbsp;property&nbsp;named&nbsp;'hidden':\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"Privates&nbsp;are&nbsp;visible&nbsp;inside&nbsp;the&nbsp;class,&nbsp;so&nbsp;__get()&nbsp;not&nbsp;used...\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getHidden</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"Privates&nbsp;not&nbsp;visible&nbsp;outside&nbsp;of&nbsp;class,&nbsp;so&nbsp;__get()&nbsp;is&nbsp;used...\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hidden&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Setting &#039;a&#039; to &#039;1&#039;
Getting &#039;a&#039;
1

Is &#039;a&#039; set?
bool(true)
Unsetting &#039;a&#039;
Is &#039;a&#039; set?
bool(false)

1

Let&#039;s experiment with the private property named &#039;hidden&#039;:
Privates are visible inside the class, so __get() not used...
2
Privates not visible outside of class, so __get() is used...
Getting &#039;hidden&#039;


Notice:  Undefined property via __get(): hidden in &lt;file&gt; on line 70 in &lt;file&gt; on line 29
</pre></div>
    </div>

   </div>
  </div>

  <div class="sect2" id="language.oop5.overloading.methods">
   <h3 class="title">Method overloading</h3>

   <div class="methodsynopsis dc-description" id="object.call">
    <span class="modifier">public</span> <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><b>__call</b></span>
     ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$name</tt></span>
    , <span class="methodparam"><span class="type">array</span> <tt class="parameter">$arguments</tt></span>
    )</div>

   <div class="methodsynopsis dc-description" id="object.callstatic">
    <span class="modifier">public static</span> <span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><b>__callStatic</b></span>
     ( <span class="methodparam"><span class="type">string</span> <tt class="parameter">$name</tt></span>
    , <span class="methodparam"><span class="type">array</span> <tt class="parameter">$arguments</tt></span>
    )</div>


   <p class="para">
    <a href="language.oop5.overloading.html#object.call" class="link">__call()</a> is triggered when invoking
    inaccessible methods in an object context.
   </p>

   <p class="para">
    <a href="language.oop5.overloading.html#object.callstatic" class="link">__callStatic()</a> is triggered when invoking
    inaccessible methods in a static context.
   </p>

   <p class="para">
    The <var class="varname"><var class="varname">$name</var></var> argument is the name of the
    method being called. The <var class="varname"><var class="varname">$arguments</var></var>
    argument is an enumerated array containing the parameters
    passed to the <var class="varname"><var class="varname">$name</var></var>&#039;ed method.
   </p>

   <div class="example" id="example-199">
    <p><b>Example #2 
     Overloading methods via the <a href="language.oop5.overloading.html#object.call" class="link">__call()</a>
     and <a href="language.oop5.overloading.html#object.callstatic" class="link">__callStatic()</a> methods
    </b></p>
    <div class="example-contents">
  <div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MethodTest<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__call</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arguments</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Note:&nbsp;value&nbsp;of&nbsp;$name&nbsp;is&nbsp;case&nbsp;sensitive.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Calling&nbsp;object&nbsp;method&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'&nbsp;"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">',&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arguments</span><span style="color: #007700">).&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;As&nbsp;of&nbsp;PHP&nbsp;5.3.0&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">__callStatic</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arguments</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Note:&nbsp;value&nbsp;of&nbsp;$name&nbsp;is&nbsp;case&nbsp;sensitive.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Calling&nbsp;static&nbsp;method&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'&nbsp;"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">',&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arguments</span><span style="color: #007700">).&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MethodTest</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">runTest</span><span style="color: #007700">(</span><span style="color: #DD0000">'in&nbsp;object&nbsp;context'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">MethodTest</span><span style="color: #007700">::</span><span style="color: #0000BB">runTest</span><span style="color: #007700">(</span><span style="color: #DD0000">'in&nbsp;static&nbsp;context'</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;As&nbsp;of&nbsp;PHP&nbsp;5.3.0<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Calling object method &#039;runTest&#039; in object context
Calling static method &#039;runTest&#039; in static context
</pre></div>
    </div>
   </div>

  </div>

 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106382""></a>
  <div class="note">
   <strong class="user">Voitcus at wp dot pl</strong>
   <a href="#106382" class="date">02-Nov-2011 12:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If a class is being extended by another class, its __get and __set methods (and others) can also be overloaded themselves:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; switch(</span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp;&nbsp; case </span><span class="string">"a1"</span><span class="keyword">: return </span><span class="default">1</span><span class="keyword">; break;<br />
&nbsp;&nbsp; &nbsp;&nbsp; case </span><span class="string">"a2"</span><span class="keyword">: return </span><span class="default">2</span><span class="keyword">; break;<br />
&nbsp;&nbsp;&nbsp; default: </span><span class="comment">// error handler goes here<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="string">"number out of range"</span><span class="keyword">; </span><span class="comment">// or NULL or anything else<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp; } </span><span class="comment">// end of method __get<br />
&nbsp;&nbsp; </span><span class="keyword">} </span><span class="comment">// end of class A<br />
<br />
</span><span class="keyword">class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{<br />
&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; switch(</span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; case </span><span class="string">"a1"</span><span class="keyword">: return </span><span class="default">11</span><span class="keyword">; break; </span><span class="comment">// we overload value of 1<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="keyword">case </span><span class="string">"b3"</span><span class="keyword">: return </span><span class="default">3</span><span class="keyword">; break; </span><span class="comment">// we add these new properties<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="keyword">case </span><span class="string">"b4"</span><span class="keyword">: return </span><span class="default">4</span><span class="keyword">; break;<br />
&nbsp;&nbsp; &nbsp; default: </span><span class="comment">// check ancestor's properties<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="keyword">return </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__get</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; } </span><span class="comment">// end of method __get<br />
&nbsp;&nbsp; </span><span class="keyword">} </span><span class="comment">//end of class B<br />
<br />
</span><span class="default">$a</span><span class="keyword">=new </span><span class="default">A</span><span class="keyword">();<br />
</span><span class="default">$b</span><span class="keyword">=new </span><span class="default">B</span><span class="keyword">();<br />
<br />
echo </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">a1</span><span class="keyword">; </span><span class="comment">// produces 1<br />
</span><span class="keyword">echo </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">a2</span><span class="keyword">; </span><span class="comment">// produces 2<br />
</span><span class="keyword">echo </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">b3</span><span class="keyword">; </span><span class="comment">// produces number out of range<br />
<br />
</span><span class="keyword">echo </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">a1</span><span class="keyword">; </span><span class="comment">// produces 11<br />
</span><span class="keyword">echo </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">a2</span><span class="keyword">; </span><span class="comment">// produces 2<br />
</span><span class="keyword">echo </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">b3</span><span class="keyword">; </span><span class="comment">// produces 3<br />
</span><span class="keyword">echo </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">b4</span><span class="keyword">; </span><span class="comment">// produces 4<br />
</span><span class="keyword">echo </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">b5</span><span class="keyword">; </span><span class="comment">// produces number out of range<br />
</span><span class="default">?&gt;<br />
</span><br />
If class B's default switch option is reached, the class A's getter is called. So the extending class B overloads property "a1", adds its own properties "b3" and "b4", and inherits property "a2". This solution can't, however, overload class A's error handler (the line with "number out of range").<br />
Should it be needed, consider the following error handler of the class B:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp; &nbsp; </span><span class="keyword">default: </span><span class="comment">// error handler goes here<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$p</span><span class="keyword">=</span><span class="default">parent</span><span class="keyword">::</span><span class="default">__get</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; if(!</span><span class="default">is_numeric</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"no value"</span><span class="keyword">; </span><span class="comment">// overload class A's error message<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp; &nbsp; &nbsp; else{<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$p</span><span class="keyword">; </span><span class="comment">// return class A's base properties<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="keyword">}<br />
</span><span class="default">?&gt;<br />
</span>So we have new "error handler"<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">echo </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">b5</span><span class="keyword">; </span><span class="comment">// produces no value<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106362""></a>
  <div class="note">
   <strong class="user">ari at asu dot edu</strong>
   <a href="#106362" class="date">31-Oct-2011 01:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It may be important to note that when __set($name, $value) is called, $name gets entered into the symbol table for that call stack. This means that if a property is set within __set, it will only work if that property's name appears in the call stack (ie if it matches $name). If not, __set will be called again on the new property recursively.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">test<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"__set(</span><span class="default">$name</span><span class="string">, </span><span class="default">$value</span><span class="string">);\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">prop3 </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">; </span><span class="comment">// This will call __set(prop3, value)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">prop2 </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">; </span><span class="comment">// This will call __set(prop2, value)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">prop1 </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">; </span><span class="comment">// This will NOT call __set(prop1, value) because $name == prop1.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
</span><span class="default">$test </span><span class="keyword">= new </span><span class="default">test</span><span class="keyword">;<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">prop1 </span><span class="keyword">= </span><span class="string">'value'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
It could be thought of like this: within the function __set($name, $value), $this-&gt;[property name] = [value] will recurse unless property name == $name. Within the call stack of __set, __set will never recurse on the same name twice. Once you leave __set (without actually creating the property), the call stack ends and all bets are off. <br />
<br />
What this means:<br />
You cannot do things like setting an (uppercase) property to lowercase within __set without expecting __set to be called twice. If you were to add an underscore to the property name, you can expect an infinite recursion loop.<br />
<br />
I hope someone finds this useful. It drove me nuts for a few hours.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="106136""></a>
  <div class="note">
   <strong class="user">matt at mcmcms dot com</strong>
   <a href="#106136" class="date">13-Oct-2011 05:31</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you need to try and imitate the functionality of the __get() and __set() magic methods whilst outside of the object-scope (i.e. using a static method) this small __callStatic() implementation may help you out.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">config<br />
</span><span class="keyword">{<br />
<br />
private static </span><span class="default">$_propertyArray </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public static function </span><span class="default">__callStatic</span><span class="keyword">( </span><span class="default">$method</span><span class="keyword">, </span><span class="default">$args </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$property </span><span class="keyword">= </span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; switch( </span><span class="default">$method </span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'set'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// set property<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$_propertyArray</span><span class="keyword">[ </span><span class="default">$property </span><span class="keyword">] = </span><span class="default">$args</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'get'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// get property<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if( isset( </span><span class="default">self</span><span class="keyword">::</span><span class="default">$_propertyArray</span><span class="keyword">[ </span><span class="default">$property </span><span class="keyword">] ) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$_propertyArray</span><span class="keyword">[ </span><span class="default">$property </span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">Exception</span><span class="keyword">( </span><span class="string">"Property (</span><span class="keyword">{</span><span class="default">$property</span><span class="keyword">}</span><span class="string">) does not exist"</span><span class="keyword">, </span><span class="default">0 </span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// do nothing..<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">config</span><span class="keyword">::</span><span class="default">set</span><span class="keyword">( </span><span class="string">'my_property'</span><span class="keyword">, </span><span class="string">'someValue' </span><span class="keyword">);<br />
<br />
print </span><span class="string">"The value of 'my_property' is: " </span><span class="keyword">. </span><span class="default">config</span><span class="keyword">::</span><span class="default">get</span><span class="keyword">( </span><span class="string">'my_property' </span><span class="keyword">);<br />
<br />
</span><span class="comment">// Will output: The value of 'my_property' is: someValue<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105176""></a>
  <div class="note">
   <strong class="user">dans at dansheps dot com</strong>
   <a href="#105176" class="date">01-Aug-2011 08:38</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since this was getting me for a little bit, I figure I better pipe in here...<br />
<br />
For nested calls to private/protected variables(probably functions too) what it does is call a __get()&nbsp; on the first object, and if you return the nested object, it then calls a __get() on the nested object because, well it is protected as well.<br />
<br />
EG:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A<br />
</span><span class="keyword">{<br />
protected </span><span class="default">$B<br />
<br />
</span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">()<br />
{<br />
</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">B </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">();<br />
}<br />
<br />
public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$variable</span><span class="keyword">)<br />
{<br />
echo </span><span class="string">"Class A::Variable " </span><span class="keyword">. </span><span class="default">$variable </span><span class="keyword">. </span><span class="string">"\n\r"</span><span class="keyword">;<br />
</span><span class="default">$retval </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;{</span><span class="default">$variable</span><span class="keyword">};<br />
return </span><span class="default">$retval</span><span class="keyword">;<br />
}<br />
}<br />
<br />
class </span><span class="default">B<br />
</span><span class="keyword">{<br />
protected </span><span class="default">$val<br />
<br />
</span><span class="keyword">public function </span><span class="default">__construct</span><span class="keyword">()<br />
{<br />
</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">val </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
}<br />
<br />
public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$variable</span><span class="keyword">)<br />
{<br />
echo </span><span class="string">"Class B::Variable " </span><span class="keyword">. </span><span class="default">$variable </span><span class="keyword">. </span><span class="string">"\n\r"</span><span class="keyword">;<br />
</span><span class="default">$retval </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;{</span><span class="default">$variable</span><span class="keyword">};<br />
return </span><span class="default">$retval</span><span class="keyword">;<br />
}<br />
}<br />
<br />
</span><span class="default">$A </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">();<br />
<br />
echo </span><span class="string">"Final Value: " </span><span class="keyword">. </span><span class="default">$A</span><span class="keyword">-&gt;</span><span class="default">B</span><span class="keyword">-&gt;</span><span class="default">val</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
That will return something like...<br />
<br />
Class A::Variable B<br />
Class B::Variable val<br />
Final Value: 1<br />
<br />
It seperates the calls into $A-&gt;B and $B-&gt;val<br />
<br />
Hope this helps someone</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104296""></a>
  <div class="note">
   <strong class="user">jk at jankriedner dot de</strong>
   <a href="#104296" class="date">07-Jun-2011 03:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You should take care when using properties retrieved via __get() in functions that expect arguments to be passed by reference (e.g. mysqli_stmt_bind_param). The reference is NOT set to the property itself, but to the value returned by __get().<br />
Thus, binding a property retrieved via __get() to a statement will let the statement be executed always with the value the property had when calling bind_param, not with the current value it has when calling execute().<br />
E.g.:<br />
<span class="default">&lt;?php<br />
error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br />
class </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$bar</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">bar </span><span class="keyword">= </span><span class="string">"Hello World!"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">factory</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return new </span><span class="default">self</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$property</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!</span><span class="default">property_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">,</span><span class="default">$property</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">InvalidArgumentException</span><span class="keyword">(</span><span class="string">"Property </span><span class="keyword">{</span><span class="default">$property</span><span class="keyword">}</span><span class="string"> doesn't exist"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$property</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">setBar</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">bar </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">foo</span><span class="keyword">();<br />
echo </span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// Ouputs: Hello World!<br />
</span><span class="default">$db </span><span class="keyword">= new </span><span class="default">mysqli</span><span class="keyword">(</span><span class="string">"localhost"</span><span class="keyword">,</span><span class="string">"root"</span><span class="keyword">,</span><span class="string">""</span><span class="keyword">,</span><span class="string">"tests"</span><span class="keyword">);<br />
</span><span class="default">$sql </span><span class="keyword">= </span><span class="string">"INSERT INTO foo SET bar=?"</span><span class="keyword">;<br />
</span><span class="default">$res </span><span class="keyword">= </span><span class="default">$db</span><span class="keyword">-&gt;</span><span class="default">prepare</span><span class="keyword">(</span><span class="default">$sql</span><span class="keyword">);<br />
</span><span class="default">$res</span><span class="keyword">-&gt;</span><span class="default">bind_param</span><span class="keyword">(</span><span class="string">"s"</span><span class="keyword">,</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">);&nbsp; </span><span class="comment">// Notice: Indirect modification of overloaded property foo::$bar has no effect in /var/www/overload.php on line 24<br />
</span><span class="default">$res</span><span class="keyword">-&gt;</span><span class="default">execute</span><span class="keyword">();&nbsp; </span><span class="comment">// Writes "Hello World!" to database<br />
</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">setBar</span><span class="keyword">(</span><span class="string">"Goodbye"</span><span class="keyword">);<br />
echo </span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">;&nbsp;&nbsp; </span><span class="comment">// Outputs: Goodbye<br />
</span><span class="default">$res</span><span class="keyword">-&gt;</span><span class="default">execute</span><span class="keyword">();&nbsp; </span><span class="comment">// Writes "Hello World!" to database<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="104110""></a>
  <div class="note">
   <strong class="user">Daniel Smith</strong>
   <a href="#104110" class="date">23-May-2011 04:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be careful of __call in case you have a protected/private method. Doing this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">TestMagicCallMethod </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">foo</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">__METHOD__</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$method</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">__METHOD__</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">method_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$method</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$method</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; protected function </span><span class="default">bar</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">__METHOD__</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">baz</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">__METHOD__</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$test&nbsp; &nbsp; </span><span class="keyword">=&nbsp; &nbsp; new </span><span class="default">TestMagicCallMethod</span><span class="keyword">();<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">foo</span><span class="keyword">();<br />
</span><span class="comment">/**<br />
&nbsp;* Outputs: <br />
&nbsp;* TestMagicCallMethod::foo<br />
&nbsp;*/<br />
<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">();<br />
</span><span class="comment">/**<br />
&nbsp;* Outputs: <br />
&nbsp;* TestMagicCallMethod::__call<br />
&nbsp;* TestMagicCallMethod::bar<br />
&nbsp;*/<br />
<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">baz</span><span class="keyword">();<br />
</span><span class="comment">/**<br />
&nbsp;* Outputs:<br />
&nbsp;* TestMagicCallMethod::__call<br />
&nbsp;* TestMagicCallMethod::baz<br />
&nbsp;*/<br />
</span><span class="default">?&gt;<br />
</span><br />
..is probably not what you should be doing. Always make sure that the methods you call in __call are allowed as you probably dont want all the private/protected methods to be accessed by a typo or something.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103478""></a>
  <div class="note">
   <strong class="user">jan dot machala at email dot cz</strong>
   <a href="#103478" class="date">15-Apr-2011 03:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Example of usage __call() to have implicit getters and setters<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Entity </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$methodName</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'~^(set|get)([A-Z])(.*)$~'</span><span class="keyword">, </span><span class="default">$methodName</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$property </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]) . </span><span class="default">$matches</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">property_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$property</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">MemberAccessException</span><span class="keyword">(</span><span class="string">'Property ' </span><span class="keyword">. </span><span class="default">$property </span><span class="keyword">. </span><span class="string">' not exists'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; switch(</span><span class="default">$matches</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'set'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">checkArguments</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">$methodName</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">set</span><span class="keyword">(</span><span class="default">$property</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'get'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">checkArguments</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$methodName</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">get</span><span class="keyword">(</span><span class="default">$property</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'default'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">MemberAccessException</span><span class="keyword">(</span><span class="string">'Method ' </span><span class="keyword">. </span><span class="default">$methodName </span><span class="keyword">. </span><span class="string">' not exists'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">get</span><span class="keyword">(</span><span class="default">$property</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$property</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">set</span><span class="keyword">(</span><span class="default">$property</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$property </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; protected function </span><span class="default">checkArguments</span><span class="keyword">(array </span><span class="default">$args</span><span class="keyword">, </span><span class="default">$min</span><span class="keyword">, </span><span class="default">$max</span><span class="keyword">, </span><span class="default">$methodName</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$argc </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$argc </span><span class="keyword">&lt; </span><span class="default">$min </span><span class="keyword">|| </span><span class="default">$argc </span><span class="keyword">&gt; </span><span class="default">$max</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">MemberAccessException</span><span class="keyword">(</span><span class="string">'Method ' </span><span class="keyword">. </span><span class="default">$methodName </span><span class="keyword">. </span><span class="string">' needs minimaly ' </span><span class="keyword">. </span><span class="default">$min </span><span class="keyword">. </span><span class="string">' and maximaly ' </span><span class="keyword">. </span><span class="default">$max </span><span class="keyword">. </span><span class="string">' arguments. ' </span><span class="keyword">. </span><span class="default">$argc </span><span class="keyword">. </span><span class="string">' arguments given.'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">MemberAccessException </span><span class="keyword">extends </span><span class="default">Exception</span><span class="keyword">{}<br />
<br />
class </span><span class="default">Foo </span><span class="keyword">extends </span><span class="default">Entity </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$a</span><span class="keyword">;<br />
}<br />
<br />
</span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">();<br />
</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">setA</span><span class="keyword">(</span><span class="string">'some'</span><span class="keyword">); </span><span class="comment">// outputs some<br />
</span><span class="keyword">echo </span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">getA</span><span class="keyword">();<br />
<br />
class </span><span class="default">Bar </span><span class="keyword">extends </span><span class="default">Entity </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Custom setter.<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">setA</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (!</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'~^[0-9a-z]+$~i'</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">MemberAccessException</span><span class="keyword">(</span><span class="string">'A can be only alphanumerical'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">= </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$bar </span><span class="keyword">= new </span><span class="default">Bar</span><span class="keyword">();<br />
</span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">setA</span><span class="keyword">(</span><span class="string">'abc123'</span><span class="keyword">); </span><span class="comment">// ok<br />
</span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">setA</span><span class="keyword">(</span><span class="string">'[]/*@...'</span><span class="keyword">); </span><span class="comment">// throws exception<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103175""></a>
  <div class="note">
   <strong class="user">dvessel</strong>
   <a href="#103175" class="date">29-Mar-2011 05:46</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A controlled way to chain the results of a method call onto a new property. I thought it was impossible to do cleanly but I finally found a decent way of handling it.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">main </span><span class="keyword">{<br />
&nbsp; public function </span><span class="default">newMember</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return new </span><span class="default">sub</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">);<br />
&nbsp; }<br />
}<br />
<br />
class </span><span class="default">sub </span><span class="keyword">{<br />
&nbsp; protected </span><span class="default">$parent</span><span class="keyword">;<br />
&nbsp; protected </span><span class="default">$value</span><span class="keyword">;<br />
<br />
&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$parent</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">parent </span><span class="keyword">= </span><span class="default">$parent</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">value&nbsp; </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">parent</span><span class="keyword">-&gt;</span><span class="default">$name </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Invoke parent class.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">parent</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">), </span><span class="default">$args</span><span class="keyword">);<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">$object </span><span class="keyword">= new </span><span class="default">main</span><span class="keyword">();<br />
<br />
</span><span class="default">$object</span><span class="keyword">-&gt;</span><span class="default">newMember</span><span class="keyword">(</span><span class="string">'value for foo'</span><span class="keyword">)-&gt;</span><span class="default">foo</span><span class="keyword">-&gt;</span><span class="default">newMember</span><span class="keyword">(</span><span class="string">'value for bar'</span><span class="keyword">)-&gt;</span><span class="default">bar</span><span class="keyword">;<br />
<br />
print </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">-&gt;</span><span class="default">foo</span><span class="keyword">);<br />
print </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">);<br />
<br />
</span><span class="comment">// prints out "value for foo" and "value for bar".<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Without the secondary 'sub' class, the chaining can be unpredictable since it doesn't carry over any state information. This way you can encapsulate the results into the supporting class and let it do the work.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101476""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#101476" class="date">19-Dec-2010 03:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using anon functions, you can allow your class methods to be declared after your class is already set.&nbsp; Though you cannot use a class property as a function in any way (including for properties that are objects with their own __invoke() method) without triggering a fatal error, there is a workaround using an array property to store all these anon functions...<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Test </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// generic class allowing dynamic addition of methods<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public </span><span class="default">$anon_list </span><span class="keyword">= array(); </span><span class="comment">// list of all custom added methods<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$fnc</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">) {return </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">anon_list</span><span class="keyword">[</span><span class="default">$fnc</span><span class="keyword">], </span><span class="default">$args</span><span class="keyword">);}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) {</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">anon_list</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;}<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="comment">// Example adding a new custom method<br />
</span><span class="default">$test </span><span class="keyword">= new </span><span class="default">Test</span><span class="keyword">;<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">do_something </span><span class="keyword">= function (</span><span class="default">$var1</span><span class="keyword">, </span><span class="default">$var2</span><span class="keyword">) {echo </span><span class="string">"custom called with </span><span class="default">$var1</span><span class="string"> and </span><span class="default">$var2</span><span class="string">\n"</span><span class="keyword">;};<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">do_something</span><span class="keyword">(</span><span class="string">'asdf'</span><span class="keyword">, </span><span class="string">'test'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Unfortunately, without access to $this within the anon functions, it's not really useful.&nbsp; You can "use ($test)" in your anon function, but that just makes it more complicated.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="98402""></a>
  <div class="note">
   <strong class="user">php at lanar dot com dot au</strong>
   <a href="#98402" class="date">12-Jun-2010 05:39</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Note that __isset is not called on chained checks. <br />
If isset( $x-&gt;a-&gt;b ) is executed where $x is a class with __isset() declared, __isset() is not called.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">demo<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; var </span><span class="default">$id </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__construct</span><span class="keyword">( </span><span class="default">$id </span><span class="keyword">= </span><span class="string">'who knows' </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">id </span><span class="keyword">= </span><span class="default">$id </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__get</span><span class="keyword">( </span><span class="default">$prop </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">__FILE__</span><span class="keyword">, </span><span class="string">':'</span><span class="keyword">, </span><span class="default">__LINE__</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="default">__METHOD__</span><span class="keyword">, </span><span class="string">'('</span><span class="keyword">, </span><span class="default">$prop</span><span class="keyword">, </span><span class="string">') instance '</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">id </span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return new </span><span class="default">demo</span><span class="keyword">( </span><span class="string">'autocreated' </span><span class="keyword">) ; </span><span class="comment">// return a class anyway for the demo<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__isset</span><span class="keyword">( </span><span class="default">$prop </span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"\n"</span><span class="keyword">, </span><span class="default">__FILE__</span><span class="keyword">, </span><span class="string">':'</span><span class="keyword">, </span><span class="default">__LINE__</span><span class="keyword">, </span><span class="string">' '</span><span class="keyword">, </span><span class="default">__METHOD__</span><span class="keyword">, </span><span class="string">'('</span><span class="keyword">, </span><span class="default">$prop</span><span class="keyword">, </span><span class="string">') instance '</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">id </span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">FALSE </span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$x </span><span class="keyword">= new </span><span class="default">demo</span><span class="keyword">( </span><span class="string">'demo' </span><span class="keyword">) ;<br />
echo </span><span class="string">"\n"</span><span class="keyword">, </span><span class="string">'Calls __isset() on demo as expected when executing isset( $x-&gt;a )' </span><span class="keyword">;<br />
</span><span class="default">$ret </span><span class="keyword">= isset( </span><span class="default">$x</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">) ;<br />
echo </span><span class="string">"\n"</span><span class="keyword">, </span><span class="string">'Calls __get() on demo without call to __isset()&nbsp; when executing isset( $x-&gt;a-&gt;b )' </span><span class="keyword">;<br />
</span><span class="default">$ret </span><span class="keyword">= isset( </span><span class="default">$x</span><span class="keyword">-&gt;</span><span class="default">a</span><span class="keyword">-&gt;</span><span class="default">b </span><span class="keyword">) ;<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs<br />
<br />
Calls __isset() on demo as expected when executing isset( $x-&gt;a )<br />
C:\htdocs\test.php:31 demo::__isset(a) instance demo<br />
Calls __get() on demo without call to __isset()&nbsp; when executing isset( $x-&gt;a-&gt;b )<br />
C:\htdocs\test.php:26 demo::__get(a) instance demo<br />
C:\htdocs\test.php:31 demo::__isset(b) instance autocreated</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97918""></a>
  <div class="note">
   <strong class="user">navarr at gtaero dot net</strong>
   <a href="#97918" class="date">15-May-2010 01:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to make it work more naturally for arrays $obj-&gt;variable[] etc you'll need to return __get by reference.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Variables<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">session_id</span><span class="keyword">() === </span><span class="string">""</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">session_start</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">,</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"Variables"</span><span class="keyword">][</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function &amp;</span><span class="default">__get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"Variables"</span><span class="keyword">][</span><span class="default">$name</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">__isset</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return isset(</span><span class="default">$_SESSION</span><span class="keyword">[</span><span class="string">"Variables"</span><span class="keyword">][</span><span class="default">$name</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97599""></a>
  <div class="note">
   <strong class="user">~A!</strong>
   <a href="#97599" class="date">27-Apr-2010 09:03</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Dynamic getting-setting using __call and __callStatic<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; private </span><span class="default">$fields</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (empty(</span><span class="default">$args</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">fields</span><span class="keyword">[</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$fields</span><span class="keyword">[</span><span class="default">$func</span><span class="keyword">] = </span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Or statically:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; static </span><span class="default">$vals</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public static function </span><span class="default">__callStatic</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (!empty(</span><span class="default">$args</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$vals</span><span class="keyword">[</span><span class="default">$func</span><span class="keyword">] = </span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$vals</span><span class="keyword">[</span><span class="default">$func</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;<br />
</span><br />
Which would allow you to say:<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; Foo</span><span class="keyword">::</span><span class="default">username</span><span class="keyword">(</span><span class="string">'john'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; print </span><span class="default">Foo</span><span class="keyword">::</span><span class="default">username</span><span class="keyword">(); </span><span class="comment">// prints 'john'<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97571""></a>
  <div class="note">
   <strong class="user">zzzzbov</strong>
   <a href="#97571" class="date">26-Apr-2010 12:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I've written a brief, generic function for __get() and __set() that works well implementing accessor and mutator functions.<br />
<br />
This allows the programmer to use implicit accessor and mutator methods when working with attribute data.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">MyClass<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$degrees<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fn_name </span><span class="keyword">= </span><span class="string">'get_' </span><span class="keyword">. </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">method_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$fn_name</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$fn_name</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$fn_name </span><span class="keyword">= </span><span class="string">'set_' </span><span class="keyword">. </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">method_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$fn_name</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$fn_name</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">get_degrees</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">degrees</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">set_degrees</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">degrees </span><span class="keyword">= </span><span class="default">$value </span><span class="keyword">% </span><span class="default">360</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$degrees </span><span class="keyword">&lt; </span><span class="default">0</span><span class="keyword">) </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">degrees </span><span class="keyword">+= </span><span class="default">360</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="97110""></a>
  <div class="note">
   <strong class="user">f4bi0_ at hotmail dot com</strong>
   <a href="#97110" class="date">01-Apr-2010 01:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
TRICKY CHALLENGE: is there a way to check if $object-&gt;variable exists without automatically triggering the functionality of __get in case the variable doesn't exist?<br />
<br />
TRADITIONAL WAY:<br />
<span class="default">&lt;?php<br />
<br />
$object </span><span class="keyword">= new </span><span class="default">someClass</span><span class="keyword">(); </span><span class="comment">// imagine someClass uses the Magic Method "__get"<br />
<br />
</span><span class="keyword">if(</span><span class="default">$object</span><span class="keyword">-&gt;</span><span class="default">variable</span><span class="keyword">){<br />
&nbsp;</span><span class="comment">// do something<br />
<br />
</span><span class="keyword">} else {<br />
<br />
&nbsp;</span><span class="comment">// "__get" has inevitably been triggered :-(<br />
<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Ok, above we have the conventional way to check if a variable exists inside the object, the problem is that sometimes we DON'T WANT TO TRIGGER __GET in case the statement returns false!<br />
<br />
ALTERNATIVE WAY:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">if(</span><span class="default">array_key_exists</span><span class="keyword">( </span><span class="string">'variable'</span><span class="keyword">, </span><span class="default">get_object_vars</span><span class="keyword">(</span><span class="default">$object</span><span class="keyword">) ) ){<br />
<br />
&nbsp;</span><span class="comment">// do something<br />
<br />
</span><span class="keyword">} else {<br />
<br />
&nbsp;</span><span class="comment">// "__get" has no idea what is going on, i think it is still asleep :-)<br />
<br />
</span><span class="keyword">}<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
you can even turn this into a function or something</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93939""></a>
  <div class="note">
   <strong class="user">strata_ranger at hotmail dot com</strong>
   <a href="#93939" class="date">07-Oct-2009 09:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Combining two things noted previously:<br />
<br />
1 - Unsetting an object member removes it from the object completely, subsequent uses of that member will be handled by magic methods.<br />
2 - PHP will not recursively call one magic method from within itself (at least for the same $name).<br />
<br />
This means that if an object member has been unset(), it IS possible to re-declare that object member (as public) by creating it within your object's __set() method, like this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo<br />
</span><span class="keyword">{<br />
&nbsp; function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Add a new (public) member to this object.<br />
&nbsp;&nbsp;&nbsp; // This works because __set() will not recursively call itself.<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$name</span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">();<br />
<br />
</span><span class="comment">// $foo has zero members at this point<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">);<br />
<br />
</span><span class="comment">// __set() will be called here<br />
</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar </span><span class="keyword">= </span><span class="string">'something'</span><span class="keyword">; </span><span class="comment">// Calls __set()<br />
<br />
// $foo now contains one member<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$foo</span><span class="keyword">);<br />
<br />
</span><span class="comment">// Won't call __set() because 'bar' is now declared<br />
</span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar </span><span class="keyword">= </span><span class="string">'other thing'</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Also be mindful that if you want to break a reference involving an object member without triggering magic functionality, DO NOT unset() the object member directly.&nbsp; Instead use =&amp; to bind the object member to any convenient null variable.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93890""></a>
  <div class="note">
   <strong class="user">Franz</strong>
   <a href="#93890" class="date">05-Oct-2009 10:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It says in the documentation that assignment chaining does not work with the __set() function like this:<br />
<br />
<span class="default">&lt;?php<br />
$a </span><span class="keyword">= </span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">b </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
If you still want to make it work, I suppose you can just turn the variables around:<br />
<br />
<span class="default">&lt;?php<br />
$foo</span><span class="keyword">-&gt;</span><span class="default">b </span><span class="keyword">= </span><span class="default">$a </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="93072""></a>
  <div class="note">
   <strong class="user">kexianbin at diyism dot com</strong>
   <a href="#93072" class="date">21-Aug-2009 11:29</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
By using __call, we can use php as using jQuery:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">//SoWork PHP Framework<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'this'</span><span class="keyword">, </span><span class="default">mt_rand</span><span class="keyword">());<br />
</span><span class="default">$o</span><span class="keyword">=</span><span class="string">'so_work'</span><span class="keyword">;<br />
class </span><span class="default">cls_so_work<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="keyword">{function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$fun</span><span class="keyword">, </span><span class="default">$pars</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {foreach (</span><span class="default">$pars </span><span class="keyword">as &amp;</span><span class="default">$v</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {if (</span><span class="default">$v</span><span class="keyword">===</span><span class="default">this</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span><span class="default">$v</span><span class="keyword">=</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">val</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$tmp</span><span class="keyword">=eval(</span><span class="string">'return defined("'</span><span class="keyword">.</span><span class="default">$fun</span><span class="keyword">.</span><span class="string">'")?constant("'</span><span class="keyword">.</span><span class="default">$fun</span><span class="keyword">.</span><span class="string">'"):"'</span><span class="keyword">.</span><span class="default">$fun</span><span class="keyword">.</span><span class="string">'";'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">val</span><span class="keyword">=</span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">, </span><span class="default">$pars</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; function </span><span class="default">cls_so_work</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">val</span><span class="keyword">=isset(</span><span class="default">$obj</span><span class="keyword">)?</span><span class="default">$obj</span><span class="keyword">:</span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp;&nbsp; }<br />
function </span><span class="default">so_work</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; {if (isset(</span><span class="default">$obj</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {return new </span><span class="default">cls_so_work</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {if (!isset(</span><span class="default">$GLOABALS</span><span class="keyword">[</span><span class="string">'so_work'</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {</span><span class="default">$GLOABALS</span><span class="keyword">[</span><span class="string">'so_work'</span><span class="keyword">]=new </span><span class="default">cls_so_work</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {</span><span class="default">$GLOABALS</span><span class="keyword">[</span><span class="string">'so_work'</span><span class="keyword">]-&gt;</span><span class="default">val</span><span class="keyword">=</span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return </span><span class="default">$GLOABALS</span><span class="keyword">[</span><span class="string">'so_work'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
</span><span class="default">define</span><span class="keyword">(</span><span class="string">'echo'</span><span class="keyword">, </span><span class="string">'my_echo'</span><span class="keyword">);<br />
function </span><span class="default">my_echo</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; {echo </span><span class="default">$obj</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$obj</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; }<br />
<br />
</span><span class="default">$o</span><span class="keyword">(</span><span class="string">'abcd'</span><span class="keyword">)-&gt;</span><span class="default">substr</span><span class="keyword">(</span><span class="default">this</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">)-&gt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">this</span><span class="keyword">)-&gt;</span><span class="default">echo</span><span class="keyword">(</span><span class="default">this</span><span class="keyword">);<br />
</span><span class="default">$o</span><span class="keyword">()-&gt;</span><span class="default">substr</span><span class="keyword">(</span><span class="string">'abcd'</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">)-&gt;</span><span class="default">strlen</span><span class="keyword">(</span><span class="default">this</span><span class="keyword">)-&gt;</span><span class="default">echo</span><span class="keyword">(</span><span class="default">this</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91927""></a>
  <div class="note">
   <strong class="user">eric dot druid+php dot net at gmail dot com</strong>
   <a href="#91927" class="date">01-Jul-2009 04:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I needed to know from where a member variable was set from to determine visibility. <br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp; private </span><span class="default">$data</span><span class="keyword">;<br />
&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$trace </span><span class="keyword">= </span><span class="default">debug_backtrace</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; if(!isset(</span><span class="default">$trace</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]) || </span><span class="default">$trace</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">] != </span><span class="default">$trace</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">'object'</span><span class="keyword">]) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; die(</span><span class="string">"Trying to set protected member '</span><span class="default">$name</span><span class="string">' from public scope."</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$data</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="91326""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#91326" class="date">05-Jun-2009 03:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It is possible to accomplish method polymorphism via PHP's __call method:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Example</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$arguments</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch(</span><span class="default">$name</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'foo'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; switch(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$arguments</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">2</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'You called "foo" with two arguments.&lt;br&gt;' </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">3</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'You called "foo" with three arguments.&lt;br&gt;' </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'Error: Invalid number of arguments to "foo."&lt;br&gt;' </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; default:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Error: Call to undefined function \"</span><span class="default">$name</span><span class="string">.\"&lt;br&gt;" </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$test </span><span class="keyword">= new </span><span class="default">Example</span><span class="keyword">;<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">foo</span><span class="keyword">(</span><span class="string">'bar'</span><span class="keyword">, </span><span class="string">'baz'</span><span class="keyword">);<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">foo</span><span class="keyword">(</span><span class="string">'bar'</span><span class="keyword">, </span><span class="string">'baz'</span><span class="keyword">, </span><span class="string">'fez'</span><span class="keyword">, </span><span class="string">'fap'</span><span class="keyword">);<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">();<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90985""></a>
  <div class="note">
   <strong class="user">troggy dot brains at gmx dot de</strong>
   <a href="#90985" class="date">19-May-2009 12:17</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just another note about using __get() &amp; __set() on array properties with PHP v5.2.0.<br />
Took me quite a while to find out why I couldn't write an array property that was created via __set(). Now a few notes earlier someone described a working solution using the ArrayObject-class. This does work, but has a big downside, you cannot expect other programmers to know that they will be getting an instance of ArrayObject instead of a native array, and trying to do an implode() on an ArrayObject will just not work. So, here is my solution to the problem:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp; private </span><span class="default">$properties </span><span class="keyword">= array();<br />
<br />
&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$key </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">properties</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp; }<br />
<br />
&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">properties</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">properties</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">null</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
The idea behind this is, that you can register new properties at any time from within a class without getting a warning or some of that kind. Now, if you try to set a property from outside the class, the __set() method will be called and decides whether to place the new property in the properties array or declare it as a new "native" property. When trying to get that property, the __get() method will only be called if the property is not "native", which won't be the case for an array.<br />
<br />
HTH</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="90896""></a>
  <div class="note">
   <strong class="user">daevid at daevid dot com</strong>
   <a href="#90896" class="date">14-May-2009 09:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a handy little routine to suggest properties you're trying to set that don't exist. For example:<br />
<br />
Attempted to __get() non-existant property/variable 'operator_id' in class 'User'.<br />
<br />
checking for operator and suggesting the following:<br />
<br />
&nbsp;&nbsp;&nbsp; * id_operator<br />
&nbsp;&nbsp;&nbsp; * operator_name<br />
&nbsp;&nbsp;&nbsp; * operator_code<br />
<br />
enjoy.<br />
<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">/**<br />
&nbsp;&nbsp; &nbsp; * Suggests alternative properties should a __get() or __set() fail<br />
&nbsp;&nbsp; &nbsp; *<br />
&nbsp;&nbsp; &nbsp; * @param&nbsp; &nbsp;&nbsp; string $property<br />
&nbsp;&nbsp; &nbsp; * @return string<br />
&nbsp;&nbsp; &nbsp; * @author Daevid Vincent [daevid@daevid.com]<br />
&nbsp;&nbsp; &nbsp; * @date&nbsp; &nbsp; 05/12/09<br />
&nbsp;&nbsp; &nbsp; * @see&nbsp; &nbsp; &nbsp; &nbsp; __get(), __set(), __call()<br />
&nbsp;&nbsp; &nbsp; */<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">suggest_alternative</span><span class="keyword">(</span><span class="default">$property</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$parts </span><span class="keyword">= </span><span class="default">explode</span><span class="keyword">(</span><span class="string">'_'</span><span class="keyword">,</span><span class="default">$property</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$parts </span><span class="keyword">as </span><span class="default">$i </span><span class="keyword">=&gt; </span><span class="default">$p</span><span class="keyword">) if (</span><span class="default">$p </span><span class="keyword">== </span><span class="string">'_' </span><span class="keyword">|| </span><span class="default">$p </span><span class="keyword">== </span><span class="string">'id'</span><span class="keyword">) unset(</span><span class="default">$parts</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">]);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'checking for &lt;b&gt;'</span><span class="keyword">.</span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">,</span><span class="default">$parts</span><span class="keyword">).</span><span class="string">"&lt;/b&gt; and suggesting the following:&lt;br/&gt;\n"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;ul&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$this </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; foreach(</span><span class="default">$parts </span><span class="keyword">as </span><span class="default">$p</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">stripos</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$p</span><span class="keyword">) !== </span><span class="default">false</span><span class="keyword">) print </span><span class="string">'&lt;li&gt;'</span><span class="keyword">.</span><span class="default">$key</span><span class="keyword">.</span><span class="string">"&lt;/li&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;/ul&gt;"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">just put it in your __get</span><span class="keyword">() or </span><span class="default">__set</span><span class="keyword">() </span><span class="default">like so</span><span class="keyword">:<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$property</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"&lt;p&gt;&lt;font color='#ff0000'&gt;Attempted to __get() non-existant property/variable '"</span><span class="keyword">.</span><span class="default">$property</span><span class="keyword">.</span><span class="string">"' in class '"</span><span class="keyword">.</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">get_class_name</span><span class="keyword">().</span><span class="string">"'.&lt;/font&gt;&lt;p&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">suggest_alternative</span><span class="keyword">(</span><span class="default">$property</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; exit;<br />
&nbsp;&nbsp;&nbsp; }<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="88949""></a>
  <div class="note">
   <strong class="user">niehztog</strong>
   <a href="#88949" class="date">14-Feb-2009 10:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you got a parent class agregating(not inheriting) a number of child classes in an array, you can use the following to allow calling methods of the parent object on agregated child objects:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">child </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$holder </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$arguments</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">holder </span><span class="keyword">instanceof </span><span class="default">parentClass </span><span class="keyword">&amp;&amp; </span><span class="default">method_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">holder</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">holder</span><span class="keyword">, </span><span class="default">$name</span><span class="keyword">), </span><span class="default">$arguments</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">parentClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$children </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__construct</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">children</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">] = new </span><span class="default">child</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">children</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]-&gt;</span><span class="default">holder </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">getChild</span><span class="keyword">(</span><span class="default">$number</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">children</span><span class="keyword">[</span><span class="default">$number</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">children</span><span class="keyword">[</span><span class="default">$number</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">test</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">'it works'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$parent </span><span class="keyword">= new </span><span class="default">parentClass</span><span class="keyword">();<br />
</span><span class="default">$firstChild </span><span class="keyword">= </span><span class="default">$parent</span><span class="keyword">-&gt;</span><span class="default">getChild</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">);<br />
echo </span><span class="default">$firstChild</span><span class="keyword">-&gt;</span><span class="default">test</span><span class="keyword">(); </span><span class="comment">//should output 'it works'<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87818""></a>
  <div class="note">
   <strong class="user">jorge dot hebrard at gmail dot com</strong>
   <a href="#87818" class="date">23-Dec-2008 04:55</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a great way to give different permissions to parent classes.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">A</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$b</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">foo</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">b </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">b</span><span class="keyword">-&gt;</span><span class="default">protvar</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$protvar</span><span class="keyword">=</span><span class="string">"protected var"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$nm</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; echo </span><span class="string">"Default </span><span class="default">$nm</span><span class="string"> value"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$a </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">;<br />
</span><span class="default">$b </span><span class="keyword">= new </span><span class="default">B</span><span class="keyword">;<br />
</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">foo</span><span class="keyword">(); </span><span class="comment">// prints "protected var"<br />
</span><span class="keyword">echo </span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">protvar</span><span class="keyword">; </span><span class="comment">// prints "Default protvar value"<br />
</span><span class="default">?&gt;<br />
</span>This way, you can help parent classes to have more power with protected members.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87785""></a>
  <div class="note">
   <strong class="user">Ant P.</strong>
   <a href="#87785" class="date">21-Dec-2008 08:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Be extra careful when using __call():&nbsp; if you typo a function call somewhere it won't trigger an undefined function error, but get passed to __call() instead, possibly causing all sorts of bizarre side effects.<br />
In versions before 5.3 without __callStatic, static calls to nonexistent functions also fall through to __call!<br />
This caused me hours of confusion, hopefully this comment will save someone else from the same.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87009""></a>
  <div class="note">
   <strong class="user">erick2711 at gmail dot com</strong>
   <a href="#87009" class="date">14-Nov-2008 07:33</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/***********************************************<br />
&nbsp;*And here follows a child class which implements a menu based in the 'nodoMenu' class (previous note).<br />
&nbsp;*<br />
&nbsp;*[]s<br />
&nbsp;*<br />
&nbsp;*erick2711 at gmail dot com<br />
&nbsp;************************************************/<br />
</span><span class="keyword">class </span><span class="default">menu </span><span class="keyword">extends </span><span class="default">nodoMenu</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$cssc </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__toString</span><span class="keyword">(){&nbsp; </span><span class="comment">//Just to show, replace with something better.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$stringMenu </span><span class="keyword">= </span><span class="string">"&lt;pre&gt;\n"</span><span class="keyword">;</span><span class="default">$stringMenu </span><span class="keyword">.= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">strPrint</span><span class="keyword">();</span><span class="default">$stringMenu </span><span class="keyword">.= </span><span class="string">"&lt;/pre&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$stringMenu</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$cssn </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">parent</span><span class="keyword">::</span><span class="default">__construct</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (isset(</span><span class="default">$cssn</span><span class="keyword">) &amp;&amp; </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$cssn</span><span class="keyword">)){</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">cssc </span><span class="keyword">= </span><span class="default">$cssn</span><span class="keyword">;}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">buildMenu</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">buildMenu</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(</span><span class="string">'server'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'Server'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'server.php'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">server</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(</span><span class="string">'personalD'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'Personal Data'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'server/personal.php'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">server</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(</span><span class="string">'personalI'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'Personal Interviews'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="string">'server/personalI.php'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">server</span><span class="keyword">-&gt;</span><span class="default">personalI</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(</span><span class="string">'detailsByIer'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'Detalis by Interviewer'</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">'server/personalI.php?tab=detailsByIer'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//(...)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">//Testing<br />
</span><span class="default">$meuMenu </span><span class="keyword">= new </span><span class="default">menu</span><span class="keyword">;<br />
echo </span><span class="default">$meuMenu</span><span class="keyword">;<br />
</span><span class="comment">/***********************************************<br />
&nbsp;*Will output (to the browser):<br />
&nbsp;*<br />
&nbsp;*&lt;pre&gt;<br />
&nbsp;*1 Server&lt;br&gt;<br />
&nbsp;*1.1 Personal Data&lt;br&gt;<br />
&nbsp;*1.2 Personal Interviews&lt;br&gt;<br />
&nbsp;*1.2.1 Details by Interviewer&lt;br&gt;<br />
&nbsp;*&lt;/pre&gt;<br />
&nbsp;*<br />
&nbsp;*Which shows:<br />
&nbsp;*<br />
&nbsp;*1 Server<br />
&nbsp;*&nbsp; 1.1 Personal Data<br />
&nbsp;*&nbsp; 1.2 Personal Interviews<br />
&nbsp;*&nbsp; &nbsp; &nbsp; 1.2.1 Details by Interviewer<br />
&nbsp;************************************************/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="87008""></a>
  <div class="note">
   <strong class="user">erick2711 at gmail dot com</strong>
   <a href="#87008" class="date">14-Nov-2008 07:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
</span><span class="comment">/*<br />
&nbsp;&nbsp;&nbsp; Here folows a little improvement of the 'strafvollzugsbeamter at gmx dot de' code, allowing each node to hold both 'parameters' and 'child nodes', and differentiate $s-&gt;A-&gt;B-&gt;C ('FOO') from $s-&gt;A (same 'FOO', but shouldn't exist) and from $s-A-&gt;B (idem).<br />
&nbsp;&nbsp;&nbsp; This allows the class, using the interesting suggested syntax ($root-&gt;dad-&gt;child-&gt;attribute, in which 'dad's and 'child's names are dynamically generated), to do something actually useful, like implementing a n-tree data structure (a menu, for instance).<br />
&nbsp;&nbsp;&nbsp; It was tested under PHP 5.2.6 / Windows.<br />
&nbsp;&nbsp;&nbsp; I know that must there be something better which already do this (probably in the DOM Model classes, or something like), but it was fun to develop this one, for the sake of studying the "magic" methods.<br />
&nbsp;&nbsp;&nbsp; Its a compressed version of the code (no comments, too short variable names, almost no identation). I had to compress it in order to add the note. If anyone cares about the full version, just email me.<br />
&nbsp;&nbsp;&nbsp; []s<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; erick2711 at gmail dot com<br />
*/<br />
</span><span class="keyword">class </span><span class="default">nodoMenu</span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$p&nbsp; </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$c </span><span class="keyword">= array();<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$t </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">, </span><span class="default">$uri </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">, </span><span class="default">$css </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, </span><span class="default">$n </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'t'</span><span class="keyword">] = </span><span class="default">$t</span><span class="keyword">;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'uri'</span><span class="keyword">] = </span><span class="default">$uri</span><span class="keyword">;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'css'</span><span class="keyword">] = </span><span class="default">$css</span><span class="keyword">;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'n'</span><span class="keyword">] = </span><span class="default">$n</span><span class="keyword">;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'i'</span><span class="keyword">] = </span><span class="default">$i</span><span class="keyword">;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'q'</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">add</span><span class="keyword">(</span><span class="default">$cn</span><span class="keyword">, </span><span class="default">$ct </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">, </span><span class="default">$cl </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">, </span><span class="default">$css </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$nc </span><span class="keyword">= new </span><span class="default">nodoMenu</span><span class="keyword">(</span><span class="default">$ct</span><span class="keyword">, </span><span class="default">$cl</span><span class="keyword">, </span><span class="default">$css</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'n'</span><span class="keyword">] + </span><span class="default">1</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'q'</span><span class="keyword">]);</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">[</span><span class="default">$cn</span><span class="keyword">] = </span><span class="default">$nc</span><span class="keyword">;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'q'</span><span class="keyword">] += </span><span class="default">1</span><span class="keyword">;return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">[</span><span class="default">$cn</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">isParameter</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__isset</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">isParameter</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">)){return(!</span><span class="default">is_null</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="default">$pn</span><span class="keyword">]));}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else{return(</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">));}<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">remove</span><span class="keyword">(</span><span class="default">$cn</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$cn</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">)){</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'q'</span><span class="keyword">] -= </span><span class="default">1</span><span class="keyword">;unset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">[</span><span class="default">$cn</span><span class="keyword">]);}<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__unset</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">isParameter</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">)){</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="default">$pn</span><span class="keyword">] = </span><span class="default">null</span><span class="keyword">;}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else{</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">remove</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">);}<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">isParameter</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">)){</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="default">$pn</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;</span><span class="default">$r </span><span class="keyword">= </span><span class="default">$v</span><span class="keyword">;}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else{if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">)){</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">[</span><span class="default">$pn</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;</span><span class="default">$r </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">[</span><span class="default">$pn</span><span class="keyword">];}<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else{</span><span class="default">$r </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">);}}&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$r</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; &nbsp; &nbsp; <br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">isParameter</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">)){</span><span class="default">$v </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="default">$pn</span><span class="keyword">];}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else{if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">)){</span><span class="default">$v </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">[</span><span class="default">$pn</span><span class="keyword">];}<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else{</span><span class="default">$v </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(</span><span class="default">$pn</span><span class="keyword">);}}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">hasChilds</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return(isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]));<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">child</span><span class="keyword">(</span><span class="default">$i</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">strPrint</span><span class="keyword">(</span><span class="default">$bm </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">){&nbsp;&nbsp; </span><span class="comment">//Just to show, replace with something better.<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$m </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;</span><span class="default">$r </span><span class="keyword">= </span><span class="string">''</span><span class="keyword">;</span><span class="default">$n </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'n'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$n </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">){switch(</span><span class="default">$n</span><span class="keyword">){case </span><span class="default">0</span><span class="keyword">:case </span><span class="default">1</span><span class="keyword">: </span><span class="default">$qs </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; break;case </span><span class="default">2</span><span class="keyword">: </span><span class="default">$qs </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">; break;case </span><span class="default">3</span><span class="keyword">: </span><span class="default">$qs </span><span class="keyword">= </span><span class="default">6</span><span class="keyword">; break;case </span><span class="default">4</span><span class="keyword">: </span><span class="default">$qs </span><span class="keyword">= </span><span class="default">12</span><span class="keyword">; break;case </span><span class="default">5</span><span class="keyword">: </span><span class="default">$qs </span><span class="keyword">= </span><span class="default">20</span><span class="keyword">; break;case </span><span class="default">6</span><span class="keyword">: </span><span class="default">$qs </span><span class="keyword">= </span><span class="default">30</span><span class="keyword">; break;case </span><span class="default">7</span><span class="keyword">: </span><span class="default">$qs </span><span class="keyword">= </span><span class="default">42</span><span class="keyword">; break;case </span><span class="default">8</span><span class="keyword">: </span><span class="default">$qs </span><span class="keyword">= </span><span class="default">56</span><span class="keyword">; break;}<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$tab </span><span class="keyword">= </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="string">'&amp;nbsp;'</span><span class="keyword">, </span><span class="default">$qs</span><span class="keyword">);</span><span class="default">$r </span><span class="keyword">.= </span><span class="default">$tab</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$bm </span><span class="keyword">&lt;&gt; </span><span class="string">''</span><span class="keyword">){</span><span class="default">$m </span><span class="keyword">= </span><span class="default">$bm</span><span class="keyword">.</span><span class="string">'.'</span><span class="keyword">;}<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$im </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'i'</span><span class="keyword">] + </span><span class="default">1</span><span class="keyword">;</span><span class="default">$m </span><span class="keyword">.= </span><span class="default">$im</span><span class="keyword">;</span><span class="default">$r </span><span class="keyword">.= </span><span class="default">$m</span><span class="keyword">.</span><span class="string">' '</span><span class="keyword">;</span><span class="default">$r </span><span class="keyword">.= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">[</span><span class="string">'t'</span><span class="keyword">].</span><span class="string">"&lt;br&gt;\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">c </span><span class="keyword">as </span><span class="default">$child</span><span class="keyword">){</span><span class="default">$r </span><span class="keyword">.= </span><span class="default">$child</span><span class="keyword">-&gt;</span><span class="default">strPrint</span><span class="keyword">(</span><span class="default">$m</span><span class="keyword">);}<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$r</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__toString</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">strPrint</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="85436""></a>
  <div class="note">
   <strong class="user">Ant P.</strong>
   <a href="#85436" class="date">30-Aug-2008 07:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There's nothing wrong with calling these functions as normal functions:<br />
<br />
If you end up in a situation where you need to know the return value of your __set function, just write <span class="default">&lt;?php $a </span><span class="keyword">= </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">__set</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">); </span><span class="default">?&gt;</span> instead of <span class="default">&lt;?php $a </span><span class="keyword">= </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">$var </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">; </span><span class="default">?&gt;</span>.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="84500""></a>
  <div class="note">
   <strong class="user">strafvollzugsbeamter at gmx dot de</strong>
   <a href="#84500" class="date">16-Jul-2008 12:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The following works on my installation (5.2.6 / Windows):<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">G<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$_p </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__isset</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_p</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_p</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_p</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$v </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;{</span><span class="default">$k</span><span class="keyword">} = </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">, </span><span class="default">$v</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_p</span><span class="keyword">[</span><span class="default">$k</span><span class="keyword">] = </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
}<br />
<br />
</span><span class="default">$s </span><span class="keyword">= new </span><span class="default">G</span><span class="keyword">();<br />
</span><span class="default">$s</span><span class="keyword">-&gt;</span><span class="default">A</span><span class="keyword">-&gt;</span><span class="default">B</span><span class="keyword">-&gt;</span><span class="default">C </span><span class="keyword">= </span><span class="string">'FOO'</span><span class="keyword">;<br />
</span><span class="default">$s</span><span class="keyword">-&gt;</span><span class="default">X</span><span class="keyword">-&gt;</span><span class="default">Y</span><span class="keyword">-&gt;</span><span class="default">Z </span><span class="keyword">= array (</span><span class="string">'BAR'</span><span class="keyword">);<br />
<br />
if (isset(</span><span class="default">$s</span><span class="keyword">-&gt;</span><span class="default">A</span><span class="keyword">-&gt;</span><span class="default">B</span><span class="keyword">-&gt;</span><span class="default">C</span><span class="keyword">))<br />
{<br />
&nbsp;&nbsp;&nbsp; print(</span><span class="default">$s</span><span class="keyword">-&gt;</span><span class="default">A</span><span class="keyword">-&gt;</span><span class="default">B</span><span class="keyword">-&gt;</span><span class="default">C</span><span class="keyword">);<br />
}<br />
else<br />
{<br />
&nbsp;&nbsp;&nbsp; print(</span><span class="string">'A-&gt;B-&gt;C is NOT set'</span><span class="keyword">);<br />
}<br />
<br />
if (isset(</span><span class="default">$s</span><span class="keyword">-&gt;</span><span class="default">X</span><span class="keyword">-&gt;</span><span class="default">Y</span><span class="keyword">-&gt;</span><span class="default">Z</span><span class="keyword">))<br />
{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">-&gt;</span><span class="default">X</span><span class="keyword">-&gt;</span><span class="default">Y</span><span class="keyword">-&gt;</span><span class="default">Z</span><span class="keyword">);<br />
}<br />
else<br />
{<br />
&nbsp;&nbsp;&nbsp; print(</span><span class="string">'X-&gt;Y-&gt;Z is NOT set'</span><span class="keyword">);<br />
}<br />
<br />
</span><span class="comment">// prints: FOOArray ( [0] =&gt; BAR )<br />
</span><span class="default">?&gt;<br />
</span><br />
... have fun and&nbsp; ...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82896""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#82896" class="date">30-Apr-2008 01:02</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a generic implementation to use getter, setter, issetter and unsetter for your own classes.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">abstract class </span><span class="default">properties<br />
</span><span class="keyword">{<br />
&nbsp; public function </span><span class="default">__get</span><span class="keyword">( </span><span class="default">$property </span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if( ! </span><span class="default">is_callable</span><span class="keyword">( array(</span><span class="default">$this</span><span class="keyword">,</span><span class="string">'get_'</span><span class="keyword">.(string)</span><span class="default">$property</span><span class="keyword">) ) )<br />
&nbsp;&nbsp; &nbsp;&nbsp; throw new </span><span class="default">BadPropertyException</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, (string)</span><span class="default">$property</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">call_user_func</span><span class="keyword">( array(</span><span class="default">$this</span><span class="keyword">,</span><span class="string">'get_'</span><span class="keyword">.(string)</span><span class="default">$property</span><span class="keyword">) );<br />
&nbsp; }<br />
<br />
&nbsp; public function </span><span class="default">__set</span><span class="keyword">( </span><span class="default">$property</span><span class="keyword">, </span><span class="default">$value </span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if( ! </span><span class="default">is_callable</span><span class="keyword">( array(</span><span class="default">$this</span><span class="keyword">,</span><span class="string">'set_'</span><span class="keyword">.(string)</span><span class="default">$property</span><span class="keyword">) ) )<br />
&nbsp;&nbsp; &nbsp;&nbsp; throw new </span><span class="default">BadPropertyException</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, (string)</span><span class="default">$property</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">call_user_func</span><span class="keyword">( array(</span><span class="default">$this</span><span class="keyword">,</span><span class="string">'set_'</span><span class="keyword">.(string)</span><span class="default">$property</span><span class="keyword">), </span><span class="default">$value </span><span class="keyword">);<br />
&nbsp; }<br />
&nbsp; <br />
&nbsp; public function </span><span class="default">__isset</span><span class="keyword">( </span><span class="default">$property </span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if( ! </span><span class="default">is_callable</span><span class="keyword">( array(</span><span class="default">$this</span><span class="keyword">,</span><span class="string">'isset_'</span><span class="keyword">.(string)</span><span class="default">$property</span><span class="keyword">) ) )<br />
&nbsp;&nbsp; &nbsp;&nbsp; throw new </span><span class="default">BadPropertyException</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, (string)</span><span class="default">$property</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">call_user_func</span><span class="keyword">( array(</span><span class="default">$this</span><span class="keyword">,</span><span class="string">'isset_'</span><span class="keyword">.(string)</span><span class="default">$property</span><span class="keyword">) );<br />
&nbsp; }<br />
<br />
&nbsp; public function </span><span class="default">__unset</span><span class="keyword">( </span><span class="default">$property </span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; if( ! </span><span class="default">is_callable</span><span class="keyword">( array(</span><span class="default">$this</span><span class="keyword">,</span><span class="string">'unset_'</span><span class="keyword">.(string)</span><span class="default">$property</span><span class="keyword">) ) )<br />
&nbsp;&nbsp; &nbsp;&nbsp; throw new </span><span class="default">BadPropertyException</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, (string)</span><span class="default">$property</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">call_user_func</span><span class="keyword">( array(</span><span class="default">$this</span><span class="keyword">,</span><span class="string">'unset_'</span><span class="keyword">.(string)</span><span class="default">$property</span><span class="keyword">) );<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="82220""></a>
  <div class="note">
   <strong class="user">nospam michael AT netkey DOT at nospam</strong>
   <a href="#82220" class="date">01-Apr-2008 10:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
you CAN write into ARRAYS by using __set and __get magic functions. <br />
<br />
as has been mentioned before $obj-&gt;var['key'] = 'test'; does call the __get method of $obj, and there is no way to find out, if the method has been called for setting purposes.<br />
<br />
the solution is quite simple: use __get to return the array by reference. then you can write into it:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">setter</span><span class="keyword">{<br />
&nbsp; private </span><span class="default">$_arr </span><span class="keyword">= array();<br />
<br />
&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_arr</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; public function &amp;</span><span class="default">__get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">){<br />
&nbsp;&nbsp;&nbsp; if (isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_arr</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">])){<br />
&nbsp;&nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_arr</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; } else return </span><span class="default">null</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81471""></a>
  <div class="note">
   <strong class="user">Matt Creenan</strong>
   <a href="#81471" class="date">29-Feb-2008 08:34</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP4 supports using __call but with a twist that I did not see mentioned anywhere on this page.<br />
<br />
In 4, you must make the __call method signature with 3 parameters, the 3rd of which is the return value and must be declared by-reference.&nbsp; Instead of using "return $value;" you would assign the 3rd argument to $value.<br />
<br />
Example (both implementations below have the same result when run in the respective PHP versions:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// Will only work in PHP4<br />
</span><span class="keyword">class </span><span class="default">Foo<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$method_name</span><span class="keyword">, </span><span class="default">$parameters</span><span class="keyword">, &amp;</span><span class="default">$return_value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$return_value </span><span class="keyword">= </span><span class="string">"Method </span><span class="default">$method_name</span><span class="string"> was called with " </span><span class="keyword">. </span><span class="default">count</span><span class="keyword">(</span><span class="default">$parameters</span><span class="keyword">) . </span><span class="string">" parameters"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">// Will only work in PHP5<br />
</span><span class="keyword">class </span><span class="default">Foo<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$method_name</span><span class="keyword">, </span><span class="default">$parameters</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="string">"Method </span><span class="default">$method_name</span><span class="string"> was called with " </span><span class="keyword">. </span><span class="default">count</span><span class="keyword">(</span><span class="default">$parameters</span><span class="keyword">) . </span><span class="string">" parameters"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="81006""></a>
  <div class="note">
   <strong class="user">dave at mozaiq dot org</strong>
   <a href="#81006" class="date">10-Feb-2008 03:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Several users have mentioned ways to allow setting of array properties via magic methods. In particular, PHP calls the __get() method instead of the __set() method when you try to do: $obj-&gt;prop['offset'] = $val.<br />
<br />
The suggestions that I've read below all work, except that they do not allow you make properties read-only. After a bit of struggling, I have found a solution. Essentially, if the property is supposed to be a read-only array, create an new ArrayObject() out of it, then clone it and return the clone.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">read_only_props</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$ret </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">read_only_props</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return clone new </span><span class="default">ArrayObject</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">read_only_props</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else if (</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">read_only_props</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return clone </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">read_only_props</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">read_only_props</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; else if (!isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writeable_props</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">])) <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writeable_props</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">] = </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writeable_props</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">];<br />
}<br />
<br />
public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">read_only_props</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">]))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'tried to set a read only property on the event object'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">writeable_props</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Note that __get() does not explicitly return by reference as many examples have suggested. Also, I have not found a way to detect when __get() is being called for setting purposes, thus my code can not throw an exception when necessary in these cases.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80686""></a>
  <div class="note">
   <strong class="user">timshaw at mail dot NOSPAMusa dot com</strong>
   <a href="#80686" class="date">28-Jan-2008 09:47</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The __get overload method will be called on a declared public member of an object if that member has been unset.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">c </span><span class="keyword">{<br />
&nbsp; public </span><span class="default">$p </span><span class="keyword">;<br />
&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) { return </span><span class="string">"__get of </span><span class="default">$name</span><span class="string">" </span><span class="keyword">; }<br />
}<br />
<br />
</span><span class="default">$c </span><span class="keyword">= new </span><span class="default">c </span><span class="keyword">;<br />
echo </span><span class="default">$c</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">, </span><span class="string">"\n" </span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// declared public member value is empty<br />
</span><span class="default">$c</span><span class="keyword">-&gt;</span><span class="default">p </span><span class="keyword">= </span><span class="default">5 </span><span class="keyword">;<br />
echo </span><span class="default">$c</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">, </span><span class="string">"\n" </span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// declared public member value is 5<br />
</span><span class="keyword">unset(</span><span class="default">$c</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">) ;<br />
echo </span><span class="default">$c</span><span class="keyword">-&gt;</span><span class="default">p</span><span class="keyword">, </span><span class="string">"\n" </span><span class="keyword">;&nbsp; &nbsp; </span><span class="comment">// after unset, value is "__get of p"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80619""></a>
  <div class="note">
   <strong class="user">jj dhoT maturana aht gmail dhot com</strong>
   <a href="#80619" class="date">25-Jan-2008 04:16</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
There isn't some way to overload a method when it's called as a reflection method:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">TestClass </span><span class="keyword">{<br />
&nbsp; function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$method</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Method </span><span class="keyword">{</span><span class="default">$method</span><span class="keyword">}</span><span class="string"> called with args: " </span><span class="keyword">. </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">);<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">$class </span><span class="keyword">= new </span><span class="default">ReflectionClass</span><span class="keyword">(</span><span class="string">"TestClass"</span><span class="keyword">);<br />
</span><span class="default">$method </span><span class="keyword">= </span><span class="default">$class</span><span class="keyword">-&gt;</span><span class="default">getMethod</span><span class="keyword">(</span><span class="string">"myMehtod"</span><span class="keyword">);<br />
<br />
</span><span class="comment">//Fatal error:&nbsp; Uncaught exception 'ReflectionException' with message 'Method myMethod' does not exist'<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Juan.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80368""></a>
  <div class="note">
   <strong class="user">v dot umang at gmail dot com</strong>
   <a href="#80368" class="date">11-Jan-2008 09:20</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you want to be able to overload a variable from within a class and this is your code:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">myClass<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$data</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
There is a problem if you want to call these variables from within the class, as you you want to access data['data'] then you can't say $this-&gt;data as it will return the array $data. Therefore a simple solution is to name the array $_data. So in your __get and __set you will say $this-&gt;_data ... rather than $this-&gt;data. I.E:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">myClass<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$_data</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_data</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_data</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">] = </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Umang</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80337""></a>
  <div class="note">
   <strong class="user">soldair at NOSPAM gmail.com</strong>
   <a href="#80337" class="date">10-Jan-2008 09:21</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
the documentation states a falsehood:<br />
&nbsp;"All overloading methods must be defined as public."<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">test</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">#################<br />
&nbsp;&nbsp;&nbsp; #public use methods#<br />
&nbsp;&nbsp;&nbsp; #################<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public static function </span><span class="default">echoData</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$obj </span><span class="keyword">= </span><span class="default">self</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">find</span><span class="keyword">(</span><span class="string">'data'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">######################<br />
&nbsp;&nbsp;&nbsp; #only use a single instance#<br />
&nbsp;&nbsp;&nbsp; ######################<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">private static </span><span class="default">$instance</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; private static function </span><span class="default">getInstance</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(!isset(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$instance</span><span class="keyword">)){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$instance </span><span class="keyword">= new </span><span class="default">test</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$instance</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">#################<br />
&nbsp;&nbsp;&nbsp; #private instantiation#<br />
&nbsp;&nbsp;&nbsp; #################<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">private </span><span class="default">$data </span><span class="keyword">= array(</span><span class="string">'data'</span><span class="keyword">=&gt;</span><span class="string">'i am data'</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">__construct</span><span class="keyword">(){}<br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$nm</span><span class="keyword">,</span><span class="default">$args</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">[</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]])){<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">[</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">test</span><span class="keyword">::</span><span class="default">echoData</span><span class="keyword">();<br />
</span><span class="default">?&gt;<br />
</span>--------------OUTPUT---------------<br />
i am data<br />
-----------------------------------<br />
<br />
this test was run using PHP Version 5.2.4</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="80310""></a>
  <div class="note">
   <strong class="user">Anonymous</strong>
   <a href="#80310" class="date">09-Jan-2008 07:45</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
it should be noted that __call will trigger only for method calls on an instantiated object, and cannot be used to 'overload' static methods.&nbsp; for example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">TestClass </span><span class="keyword">{<br />
&nbsp; function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$method</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Method </span><span class="keyword">{</span><span class="default">$method</span><span class="keyword">}</span><span class="string"> called with args: " </span><span class="keyword">. </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">);<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="comment">// this will succeed<br />
</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">TestClass</span><span class="keyword">();<br />
</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">method_doesnt_exist</span><span class="keyword">();<br />
<br />
</span><span class="comment">// this will not<br />
</span><span class="default">TestClass</span><span class="keyword">::</span><span class="default">method_doesnt_exist</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
It would be useful if the PHP devs would include this in a future release, but in the meantime, just be aware of that pitfall.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79960""></a>
  <div class="note">
   <strong class="user">egingell at sisna dot com</strong>
   <a href="#79960" class="date">20-Dec-2007 07:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
The PHP devs aren't going to implement true overloading because: PHP is not strictly typed by any stretch of the imagination (0, "0", null, false, and "" are the same, for example) and unlike Java and C++, you can pass as many values as you want to a function. The extras are ignored unless you fetch them using func_get_arg(int) or func_get_args(), which is often how I "overload" a function/method, and fewer than the declared number of arguments will generate an E_WARNING, which can be suppressed by putting '@' before the function call, but the function will still run as if you had passed null where a value was expected.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">someClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">whatever</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// public boolean whatever(boolean arg1) in Java<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">is_bool</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// whatever(true);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// public int whatever(int arg1, boolean arg2) in Java<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">} elseif(</span><span class="default">is_int</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]) &amp;&amp; </span><span class="default">is_bool</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// whatever(1, false)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$args</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// public void whatever() in Java<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">echo </span><span class="string">'Usage: whatever([int], boolean)'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
// The Java version:<br />
public class someClass {<br />
&nbsp;&nbsp;&nbsp; public boolean whatever(boolean arg1) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return arg1;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public int whatever(int arg1, boolean arg2) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return arg1;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public void whatever() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; System.out.println("Usage: whatever([int], boolean)");<br />
&nbsp;&nbsp;&nbsp; }<br />
}</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79864""></a>
  <div class="note">
   <strong class="user">matthijs at yourmediafactory dot com</strong>
   <a href="#79864" class="date">16-Dec-2007 11:09</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While PHP does not support true overloading natively, I have to disagree with those that state this can't be achieved trough __call. <br />
<br />
Yes, it's not pretty but it is definately possible to overload a member based on the type of its argument. An example:<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{ <br />
&nbsp;&nbsp; <br />
&nbsp; public function </span><span class="default">__call </span><span class="keyword">(</span><span class="default">$member</span><span class="keyword">, </span><span class="default">$arguments</span><span class="keyword">) { <br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$arguments</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])) <br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$member </span><span class="keyword">= </span><span class="default">$member </span><span class="keyword">. </span><span class="string">'Object'</span><span class="keyword">; <br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$arguments</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">])) <br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$member </span><span class="keyword">= </span><span class="default">$member </span><span class="keyword">. </span><span class="string">'Array'</span><span class="keyword">; <br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this </span><span class="keyword">-&gt; </span><span class="default">$member</span><span class="keyword">(</span><span class="default">$arguments</span><span class="keyword">); <br />
&nbsp; } <br />
&nbsp;&nbsp; <br />
&nbsp; private function </span><span class="default">testArray </span><span class="keyword">() { <br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Array."</span><span class="keyword">; <br />
&nbsp; } <br />
&nbsp;&nbsp; <br />
&nbsp; private function </span><span class="default">testObject </span><span class="keyword">() { <br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Object."</span><span class="keyword">; <br />
&nbsp; } <br />
} <br />
<br />
class </span><span class="default">B </span><span class="keyword">{ <br />
} <br />
<br />
</span><span class="default">$class </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">; <br />
</span><span class="default">$class </span><span class="keyword">-&gt; </span><span class="default">test</span><span class="keyword">(array()); </span><span class="comment">// echo's 'Array.' <br />
</span><span class="default">$class </span><span class="keyword">-&gt; </span><span class="default">test</span><span class="keyword">(new </span><span class="default">B</span><span class="keyword">); </span><span class="comment">// echo's 'Object.' <br />
</span><span class="default">?&gt;<br />
</span><br />
Of course, the use of this is questionable (I have never needed it myself, but then again, I only have a very minimalistic C++ &amp; JAVA background). However, using this general principle and optionally building forth on other suggestions a 'form' of overloading is definately possible, provided you have some strict naming conventions in your functions. <br />
<br />
It would of course become a LOT easier once PHP'd let you declare the same member several times but with different arguments, since if you combine that with the reflection class 'real' overloading comes into the grasp of a good OO programmer. Lets keep our fingers crossed!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="79081""></a>
  <div class="note">
   <strong class="user">anthony dot parsons at manx dot net</strong>
   <a href="#79081" class="date">09-Nov-2007 02:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can't use __set to set arrays, but if you really want to, you can emulate it yourself:<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">test </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$x </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$y </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ( </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/(.*)\[(.*)\]/'</span><span class="keyword">, </span><span class="default">$var</span><span class="keyword">, </span><span class="default">$names</span><span class="keyword">) ) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">y</span><span class="keyword">[</span><span class="default">$names</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]][</span><span class="default">$names</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">x</span><span class="keyword">[</span><span class="default">$var</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$z </span><span class="keyword">= new </span><span class="default">test</span><span class="keyword">;<br />
</span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">variable </span><span class="keyword">= </span><span class="string">'abc'</span><span class="keyword">;<br />
</span><span class="default">$z</span><span class="keyword">-&gt;{</span><span class="string">'somearray[key]'</span><span class="keyword">} = </span><span class="string">'def'</span><span class="keyword">;<br />
<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">x</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$z</span><span class="keyword">-&gt;</span><span class="default">y</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78619""></a>
  <div class="note">
   <strong class="user">php_is_painful at world dot real</strong>
   <a href="#78619" class="date">19-Oct-2007 07:49</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is a misuse of the term overloading. This article should call this technique "interpreter hooks".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78115""></a>
  <div class="note">
   <strong class="user">bgoldschmidt at rapidsoft dot de</strong>
   <a href="#78115" class="date">28-Sep-2007 01:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
"These methods will only be triggered when your object or inherited object doesn't contain the member or method you're trying to access."<br />
is not quite correct:<br />
they get called when the member you trying to access in not visible:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">test </span><span class="keyword">{<br />
<br />
&nbsp; public </span><span class="default">$a</span><span class="keyword">;<br />
&nbsp; private </span><span class="default">$b</span><span class="keyword">;<br />
<br />
&nbsp; function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo(</span><span class="string">"__set called to set </span><span class="default">$name</span><span class="string"> to </span><span class="default">$value</span><span class="string">\n"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$name </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp; }<br />
}<br />
<br />
</span><span class="default">$t </span><span class="keyword">= new </span><span class="default">test</span><span class="keyword">;<br />
</span><span class="default">$t</span><span class="keyword">-&gt;</span><span class="default">a </span><span class="keyword">= </span><span class="string">'a'</span><span class="keyword">;<br />
</span><span class="default">$t</span><span class="keyword">-&gt;</span><span class="default">b </span><span class="keyword">= </span><span class="string">'b'</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs:<br />
__set called to set b to b<br />
<br />
Be aware that set ist not called for public properties</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="78059""></a>
  <div class="note">
   <strong class="user">lokrain at gmail dot com</strong>
   <a href="#78059" class="date">26-Sep-2007 02:05</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Let us look at the following example:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">objDriver </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$value</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$value </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">doSomething</span><span class="keyword">(</span><span class="default">$parameterList</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//We make actions with the value<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
class </span><span class="default">WantStaticCall </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private static </span><span class="default">$objectList</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">__construct</span><span class="keyword">()<br />
<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">init</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$objectList </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">register</span><span class="keyword">(</span><span class="default">$alias</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$objectList</span><span class="keyword">[</span><span class="default">$alias</span><span class="keyword">] = new </span><span class="default">objDriver</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public static function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$method</span><span class="keyword">, </span><span class="default">$arguments</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$alias </span><span class="keyword">= </span><span class="default">$arguments</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$arguments</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">call_user_method</span><span class="keyword">(</span><span class="default">$method</span><span class="keyword">, </span><span class="default">self</span><span class="keyword">::</span><span class="default">$objectList</span><span class="keyword">[</span><span class="default">$alias</span><span class="keyword">], </span><span class="default">$arguments</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="comment">// The deal here is to use following code:<br />
</span><span class="default">WantStaticCall</span><span class="keyword">::</span><span class="default">register</span><span class="keyword">(</span><span class="string">'logger'</span><span class="keyword">);<br />
</span><span class="default">WantStaticCall</span><span class="keyword">::</span><span class="default">doSomething</span><span class="keyword">(</span><span class="string">'logger'</span><span class="keyword">, </span><span class="default">$argumentList</span><span class="keyword">);<br />
<br />
</span><span class="comment">// and we will make objDriver to call his doSomething function with arguments<br />
// $argumentList. This is not common pattern but very usefull in some cases.<br />
// The problem here is that __call() cannot be static, Is there a way to work it around<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77887""></a>
  <div class="note">
   <strong class="user">Typer85 at gmail dot com</strong>
   <a href="#77887" class="date">18-Sep-2007 08:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just to clarify something the manual states about method overloading.<br />
<br />
"All overloading methods must be defined as public."<br />
<br />
As of PHP 5.2.2, this should be considered more of a coding convention rather than a requirement. In PHP 5.2.2, declaring a __get or __set function with a visibility other than public, will be silently ignored by the parser and will not trigger a parse error!<br />
<br />
What is more, PHP will completely ignore the visibility modifier either of these functions are declared with and will always treat them as if they were public.<br />
<br />
I am not sure if this is a bug or not so to be on the safe side,<br />
stick with always declaring them public.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77843""></a>
  <div class="note">
   <strong class="user">egingell at sisna dot com</strong>
   <a href="#77843" class="date">15-Sep-2007 05:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Small vocabulary note: This is *not* "overloading", this is "overriding".<br />
<br />
Overloading: Declaring a function multiple times with a different set of parameters like this:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">foo</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$a</span><span class="keyword">;<br />
}<br />
<br />
function </span><span class="default">foo</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$a </span><span class="keyword">+ </span><span class="default">$b</span><span class="keyword">;<br />
}<br />
<br />
echo </span><span class="default">foo</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">); </span><span class="comment">// Prints "5"<br />
</span><span class="keyword">echo </span><span class="default">foo</span><span class="keyword">(</span><span class="default">5</span><span class="keyword">, </span><span class="default">2</span><span class="keyword">); </span><span class="comment">// Prints "7"<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Overriding: Replacing the parent class's method(s) with a new method by redeclaring it like this:<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function new(</span><span class="default">$args</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Do something.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
class </span><span class="default">bar </span><span class="keyword">extends </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function new(</span><span class="default">$args</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Do something different.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">}<br />
}<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77508""></a>
  <div class="note">
   <strong class="user">ac221 at sussex dot ac dot uk</strong>
   <a href="#77508" class="date">01-Sep-2007 10:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just Noting the interesting behavior of __set __get , when modifying objects contained in overloaded properties.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$propObj</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$propObj </span><span class="keyword">= new </span><span class="default">stdClass</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$prop</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo(</span><span class="string">"I'm Being Got ! \n"</span><span class="keyword">); <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">propObj</span><span class="keyword">-&gt;</span><span class="default">$prop</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$prop</span><span class="keyword">,</span><span class="default">$val</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo(</span><span class="string">"I'm Being Set ! \n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">propObj</span><span class="keyword">-&gt;</span><span class="default">$prop </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$test </span><span class="keyword">= new </span><span class="default">foo</span><span class="keyword">();<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">barProp </span><span class="keyword">= new </span><span class="default">stdClass</span><span class="keyword">(); </span><span class="comment">// I should invoke set<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">barProp</span><span class="keyword">-&gt;</span><span class="default">barSubProp </span><span class="keyword">= </span><span class="string">'As Should I'</span><span class="keyword">;<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">barProp</span><span class="keyword">-&gt;</span><span class="default">barSubProp </span><span class="keyword">= </span><span class="string">'As Should I'</span><span class="keyword">;<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">barProp </span><span class="keyword">= new </span><span class="default">stdClass</span><span class="keyword">(); </span><span class="comment">// As should i<br />
</span><span class="default">?&gt;<br />
</span><br />
Outputs:<br />
<br />
I'm Being Set !<br />
I'm Being Got !<br />
I'm Being Got !<br />
I'm Being Set !<br />
<br />
Whats happening, is PHP is acquiring a reference to the object, triggering __get; Then applying the changes to the object via the reference.<br />
<br />
Which is the correct behaviour; objects being special creatures, with an aversion to being cloned...<br />
<br />
Unfortunately this will never invoke the __set handler, even though it is modifying a property within 'foo', which is slightly annoying if you wanted to keep track of changes to an objects overloaded properties.<br />
<br />
I guess Journaled Objects will have to wait till PHP 6 :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="77132""></a>
  <div class="note">
   <strong class="user">stephen dot cuppett at webmastersinc dot net</strong>
   <a href="#77132" class="date">16-Aug-2007 07:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note, this example will not work on later PHP versions.&nbsp; You must return from __get() by reference using &amp;__get()</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76622""></a>
  <div class="note">
   <strong class="user">php at sleep is the enemy dot co dot uk</strong>
   <a href="#76622" class="date">23-Jul-2007 07:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Just to reinforce and elaborate on what DevilDude at darkmaker dot com said way down there on 22-Sep-2004 07:57.<br />
<br />
The recursion detection feature can prove especially perilous when using __set. When PHP comes across a statement that would usually call __set but would lead to recursion, rather than firing off a warning or simply not executing the statement it will act as though there is no __set method defined at all. The default behaviour in this instance is to dynamically add the specified property to the object thus breaking the desired functionality of all further calls to __set or __get for that property.<br />
<br />
Example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">TestClass</span><span class="keyword">{<br />
<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$values </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">values</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">values</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">validate</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">validate</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">/*<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; __get will be called on the following line<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; but as soon as we attempt to call __set <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; again PHP will refuse and simply add a <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; property called $name to $this <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; */<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$name </span><span class="keyword">= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$name</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$tc </span><span class="keyword">= new </span><span class="default">TestClass</span><span class="keyword">();<br />
<br />
</span><span class="default">$tc</span><span class="keyword">-&gt;</span><span class="default">foo </span><span class="keyword">= </span><span class="string">'bar'</span><span class="keyword">;<br />
</span><span class="default">$tc</span><span class="keyword">-&gt;</span><span class="default">values</span><span class="keyword">[</span><span class="string">'foo'</span><span class="keyword">] = </span><span class="string">'boing'</span><span class="keyword">;<br />
<br />
echo </span><span class="string">'$tc-&gt;foo == ' </span><span class="keyword">. </span><span class="default">$tc</span><span class="keyword">-&gt;</span><span class="default">foo </span><span class="keyword">. </span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
echo </span><span class="string">'$tc ' </span><span class="keyword">. (</span><span class="default">property_exists</span><span class="keyword">(</span><span class="default">$tc</span><span class="keyword">, </span><span class="string">'foo'</span><span class="keyword">) ? </span><span class="string">'now has' </span><span class="keyword">: </span><span class="string">'still does not have'</span><span class="keyword">) . </span><span class="string">' a property called "foo"&lt;br&gt;'</span><span class="keyword">;<br />
<br />
</span><span class="comment">/*<br />
OUPUTS:<br />
$tc-&gt;foo == bar<br />
$tc now has a property called "foo"<br />
*/<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76325""></a>
  <div class="note">
   <strong class="user">Adeel Khan</strong>
   <a href="#76325" class="date">10-Jul-2007 01:18</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Observe:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$m</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; die(</span><span class="default">$m</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">;<br />
print </span><span class="default">$foo</span><span class="keyword">-&gt;{</span><span class="string">'wow!'</span><span class="keyword">}();<br />
<br />
</span><span class="comment">// outputs 'wow!'<br />
</span><span class="default">?&gt;<br />
</span><br />
This method allows you to call functions with invalid characters.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="76259""></a>
  <div class="note">
   <strong class="user">alexandre at nospam dot gaigalas dot net</strong>
   <a href="#76259" class="date">07-Jul-2007 10:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
PHP 5.2.1<br />
<br />
Its possible to call magic methods with invalid names using variable method/property names:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">foo<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$n</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$m</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$m</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$test </span><span class="keyword">= new </span><span class="default">foo</span><span class="keyword">;<br />
</span><span class="default">$varname </span><span class="keyword">= </span><span class="string">'invalid,variable+name'</span><span class="keyword">;<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">$varname</span><span class="keyword">;<br />
</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">$varname</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
I just don't know if it is a bug or a feature :)</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="74945""></a>
  <div class="note">
   <strong class="user">BenBE at omorphia dot de</strong>
   <a href="#74945" class="date">05-May-2007 10:48</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
While playing a bit with the __call magic method I found you can not emulate implementing methods of an interface as you might think:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Iteratable </span><span class="keyword">implements </span><span class="default">Iterator </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$funcname</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">in_array</span><span class="keyword">(</span><span class="default">$funcname</span><span class="keyword">, array(</span><span class="string">'current'</span><span class="keyword">, </span><span class="string">'next'</span><span class="keyword">, </span><span class="comment">/*...*/</span><span class="keyword">)) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Redirect the call or perform the actual action<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">}<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Using this code you'll get a "class Iteratable contains abstract methods ..." fatal error message. You'll ALWAYS have to implement those routines by hand.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="73476""></a>
  <div class="note">
   <strong class="user">mafu at spammenot-mdev dot dk</strong>
   <a href="#73476" class="date">24-Feb-2007 02:24</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
As a reply to james at thunder-removeme-monkey dot net, I found that there is a much simpler way to restore the behavior of __get() to 5.1.x state; just force __get() to return by reference, like this:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">View </span><span class="keyword">{<br />
&nbsp; </span><span class="comment">/* Somewhere to store our overloaded properties */<br />
&nbsp; </span><span class="keyword">private </span><span class="default">$v </span><span class="keyword">= array();<br />
<br />
&nbsp; </span><span class="comment">/* Store a new property */<br />
&nbsp; </span><span class="keyword">function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$varName</span><span class="keyword">, </span><span class="default">$varValue</span><span class="keyword">) {<br />
&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">v</span><span class="keyword">[</span><span class="default">$varName</span><span class="keyword">] = </span><span class="default">$varValue</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; </span><span class="comment">/* Retrieve a property */<br />
&nbsp; </span><span class="keyword">function &amp; </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$varName</span><span class="keyword">) {<br />
&nbsp;&nbsp; if(!isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">v</span><span class="keyword">[</span><span class="default">$varName</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">v</span><span class="keyword">[</span><span class="default">$varName</span><span class="keyword">] = </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
&nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">v</span><span class="keyword">[</span><span class="default">$varName</span><span class="keyword">];<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
The only problem is that the code generates a notice if null is returned in __get(), because null cannot be returned by reference. If somebody finds a solution, feel free to email me. :)<br />
<br />
Cheers</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="72756""></a>
  <div class="note">
   <strong class="user">james at thunder-removeme-monkey dot net</strong>
   <a href="#72756" class="date">31-Jan-2007 01:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Following up on the comment by "jstubbs at work-at dot co dot jp" and after reading "<a href="http://weierophinney.net/matthew/archives/ 131-Overloading-arrays-in-PHP-5.2.0.html" rel="nofollow" target="_blank">http://weierophinney.net/matthew/archives/ 131-Overloading-arrays-in-PHP-5.2.0.html</a>", the following methods handle property overloading pretty neatly and return variables in read/write mode.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">View </span><span class="keyword">{<br />
&nbsp; </span><span class="comment">/* Somewhere to store our overloaded properties */<br />
&nbsp; </span><span class="keyword">private </span><span class="default">$v </span><span class="keyword">= array();<br />
<br />
&nbsp; </span><span class="comment">/* Store a new property */<br />
&nbsp; </span><span class="keyword">function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$varName</span><span class="keyword">, </span><span class="default">$varValue</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">v</span><span class="keyword">[</span><span class="default">$varName</span><span class="keyword">] = </span><span class="default">$varValue</span><span class="keyword">;<br />
&nbsp; }<br />
<br />
&nbsp; </span><span class="comment">/* Retrieve a property */<br />
&nbsp; </span><span class="keyword">function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$varName</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if(!isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">v</span><span class="keyword">[</span><span class="default">$varName</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">v</span><span class="keyword">[</span><span class="default">$varName</span><span class="keyword">] = </span><span class="default">NULL</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">v</span><span class="keyword">[</span><span class="default">$varName</span><span class="keyword">]) ? new </span><span class="default">ArrayObject</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">v</span><span class="keyword">[</span><span class="default">$varName</span><span class="keyword">]) : </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">v</span><span class="keyword">[</span><span class="default">$varName</span><span class="keyword">];<br />
&nbsp; }<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
This is an amalgm of previous solutions with the key difference being the use of ArrayObject in the return value. This is more flexible than having to extend the whole class from ArrayObject.<br />
<br />
Using the above class, we can do ...<br />
<br />
<span class="default">&lt;?php<br />
$obj </span><span class="keyword">= new </span><span class="default">SomeOtherObject</span><span class="keyword">();<br />
</span><span class="default">$view </span><span class="keyword">= new </span><span class="default">View</span><span class="keyword">();<br />
<br />
</span><span class="default">$view</span><span class="keyword">-&gt;</span><span class="default">list </span><span class="keyword">= array();<br />
</span><span class="default">$view</span><span class="keyword">-&gt;</span><span class="default">list</span><span class="keyword">[] = </span><span class="string">"hello"</span><span class="keyword">;<br />
</span><span class="default">$view</span><span class="keyword">-&gt;</span><span class="default">list</span><span class="keyword">[] = </span><span class="string">"goat"</span><span class="keyword">;<br />
</span><span class="default">$view</span><span class="keyword">-&gt;</span><span class="default">list</span><span class="keyword">[] = </span><span class="default">$group</span><span class="keyword">;<br />
</span><span class="default">$view</span><span class="keyword">-&gt;</span><span class="default">list</span><span class="keyword">[] = array(</span><span class="string">"a"</span><span class="keyword">, </span><span class="string">"b"</span><span class="keyword">, </span><span class="string">"c"</span><span class="keyword">);<br />
</span><span class="default">$view</span><span class="keyword">-&gt;</span><span class="default">list</span><span class="keyword">[</span><span class="default">3</span><span class="keyword">][] = </span><span class="string">"D"</span><span class="keyword">;<br />
</span><span class="default">$view</span><span class="keyword">-&gt;</span><span class="default">list</span><span class="keyword">[</span><span class="default">2</span><span class="keyword">]-&gt;</span><span class="default">aprop </span><span class="keyword">= </span><span class="string">"howdy"</span><span class="keyword">;<br />
<br />
</span><span class="comment">/*<br />
$view-&gt;list now contains:<br />
[0] =&gt; "hello"<br />
[1] =&gt; "goat"<br />
[2] =&gt; SomeOtherObject { aprop =&gt; "howdy" }<br />
[3] =&gt; array("a", "b", "c", "D")<br />
<br />
and<br />
$obj === $view-&gt;list[2] // equates to TRUE<br />
*/<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="71383""></a>
  <div class="note">
   <strong class="user">mhherrera31 at hotmail dot com</strong>
   <a href="#71383" class="date">25-Nov-2006 10:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
example for read only properties in class object. Lets you manage read only properties with var names like $ro_var.<br />
<br />
The property must be PRIVATE, otherwise the overload method __get doesn't be called.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">Session </span><span class="keyword">{<br />
&nbsp;private </span><span class="default">$ro_usrName</span><span class="keyword">;<br />
<br />
&nbsp;function </span><span class="default">__construct </span><span class="keyword">(){<br />
&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">ro_usrName </span><span class="keyword">= </span><span class="string">"Marcos"</span><span class="keyword">;<br />
&nbsp;}<br />
<br />
&nbsp;function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$set</span><span class="keyword">, </span><span class="default">$val</span><span class="keyword">){<br />
&nbsp; if(</span><span class="default">property_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">,</span><span class="string">"ro_"</span><span class="keyword">.</span><span class="default">$set</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"The property '</span><span class="default">$set</span><span class="string">' is read only"</span><span class="keyword">;<br />
&nbsp; else<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">property_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">,</span><span class="default">$set</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;{</span><span class="default">$set</span><span class="keyword">}=</span><span class="default">$val</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp;&nbsp; echo </span><span class="string">"Property '</span><span class="default">$set</span><span class="string">' doesn't exist"</span><span class="keyword">;<br />
&nbsp;}<br />
<br />
&nbsp;function </span><span class="default">__get</span><span class="keyword">{</span><span class="default">$get</span><span class="keyword">}{<br />
&nbsp; if(</span><span class="default">property_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">,</span><span class="string">"ro_"</span><span class="keyword">.</span><span class="default">$get</span><span class="keyword">))<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;{</span><span class="string">"ro_"</span><span class="keyword">.</span><span class="default">$get</span><span class="keyword">};<br />
&nbsp; else<br />
&nbsp;&nbsp;&nbsp; if(</span><span class="default">property_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">,</span><span class="default">$get</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;{</span><span class="default">$get</span><span class="keyword">};<br />
&nbsp;&nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; echo </span><span class="string">"Property '</span><span class="default">$get</span><span class="string">' doesn't exist"</span><span class="keyword">;<br />
&nbsp;}<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69440""></a>
  <div class="note">
   <strong class="user">MagicalTux at ooKoo dot org</strong>
   <a href="#69440" class="date">06-Sep-2006 02:35</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Since many here probably wanted to do real overloading without having to think too much, here's a generic __call() function for those cases.<br />
<br />
Little example :<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">OverloadedClass </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$f</span><span class="keyword">, </span><span class="default">$p</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">method_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$f</span><span class="keyword">.</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">))) return </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$f</span><span class="keyword">.</span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$p</span><span class="keyword">)), </span><span class="default">$p</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// function does not exists~<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">'Tried to call unknown method '</span><span class="keyword">.</span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">).</span><span class="string">'::'</span><span class="keyword">.</span><span class="default">$f</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function </span><span class="default">Param2</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Param2(</span><span class="default">$a</span><span class="string">,</span><span class="default">$b</span><span class="string">)\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; function </span><span class="default">Param3</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">"Param3(</span><span class="default">$a</span><span class="string">,</span><span class="default">$b</span><span class="string">,</span><span class="default">$c</span><span class="string">)\n"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$o </span><span class="keyword">= new </span><span class="default">OverloadedClass</span><span class="keyword">();<br />
</span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">Param</span><span class="keyword">(</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">);<br />
</span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">Param</span><span class="keyword">(</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">);<br />
</span><span class="default">$o</span><span class="keyword">-&gt;</span><span class="default">ParamX</span><span class="keyword">(</span><span class="default">4</span><span class="keyword">,</span><span class="default">5</span><span class="keyword">,</span><span class="default">6</span><span class="keyword">,</span><span class="default">7</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Will output :<br />
Param2(4,5)<br />
Param3(4,5,6)<br />
<br />
Fatal error: Uncaught exception 'Exception' with message 'Tried to call unknown method OverloadedClass::ParamX' in overload.php:7<br />
Stack trace:<br />
#0 [internal function]: OverloadedClass-&gt;__call('ParamX', Array)<br />
#1 overload.php(22): OverloadedClass-&gt;ParamX(4, 5, 6, 7)<br />
#2 {main}<br />
&nbsp; thrown in overload.php on line 7</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="69370""></a>
  <div class="note">
   <strong class="user">jstubbs at work-at dot co dot jp</strong>
   <a href="#69370" class="date">02-Sep-2006 09:12</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php $myclass</span><span class="keyword">-&gt;</span><span class="default">foo</span><span class="keyword">[</span><span class="string">'bar'</span><span class="keyword">] = </span><span class="string">'baz'</span><span class="keyword">; </span><span class="default">?&gt;<br />
</span> <br />
When overriding __get and __set, the above code can work (as expected) but it depends on your __get implementation rather than your __set. In fact, __set is never called with the above code. It appears that PHP (at least as of 5.1) uses a reference to whatever was returned by __get. To be more verbose, the above code is essentially identical to:<br />
&nbsp;<br />
<span class="default">&lt;?php<br />
$tmp_array </span><span class="keyword">= &amp;</span><span class="default">$myclass</span><span class="keyword">-&gt;</span><span class="default">foo</span><span class="keyword">;<br />
</span><span class="default">$tmp_array</span><span class="keyword">[</span><span class="string">'bar'</span><span class="keyword">] = </span><span class="string">'baz'</span><span class="keyword">;<br />
unset(</span><span class="default">$tmp_array</span><span class="keyword">);<br />
</span><span class="default">?&gt;<br />
</span><br />
Therefore, the above won't do anything if your __get implementation resembles this:<br />
<br />
<span class="default">&lt;?php <br />
</span><span class="keyword">function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">values</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; ? </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">values</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] : </span><span class="default">null</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
You will actually need to set the value in __get and return that, as in the following code:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">values</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">values</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">null</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">values</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">];<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="68053""></a>
  <div class="note">
   <strong class="user">mnaul at nonsences dot angelo dot edu</strong>
   <a href="#68053" class="date">11-Jul-2006 12:58</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This is just my contribution. It based off of many diffrent suggestions I've see thought the manual postings.<br />
It should fit into any class and create default get and set methods for all you member variables. Hopfuly its usefull.<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">,</span><span class="default">$params</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if( </span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">'/(set|get)(_)?/'</span><span class="keyword">,</span><span class="default">$name</span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">)==</span><span class="string">"set"</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$name </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/set(_)?/'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$name</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">property_exists</span><span class="keyword">(</span><span class="default">__class__</span><span class="keyword">,</span><span class="default">$name</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;{</span><span class="default">$name</span><span class="keyword">}=</span><span class="default">array_pop</span><span class="keyword">(</span><span class="default">$params</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//call to class error handler<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">)==</span><span class="string">"get"</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$name </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="string">'/get(_)?/'</span><span class="keyword">,</span><span class="string">''</span><span class="keyword">,</span><span class="default">$name</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">property_exists</span><span class="keyword">(</span><span class="default">__class__</span><span class="keyword">,</span><span class="default">$name</span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;{</span><span class="default">$name</span><span class="keyword">};<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//call to class error handler<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//call to class error handler<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; die(</span><span class="string">"method </span><span class="default">$name</span><span class="string"> dose not exist\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="64339""></a>
  <div class="note">
   <strong class="user">me at brenthagany dot com</strong>
   <a href="#64339" class="date">12-Apr-2006 10:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Regarding the post by TJ earlier, about the problems extending DOMElement.&nbsp; Yes, it is true that you can't set extDOMElement::ownerDocument directly; however, you could append the extDOMElement to a DOMDocument in __construct(), which indirectly sets ownerDocument.&nbsp; It should work something like so:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">extDOMElement </span><span class="keyword">extends </span><span class="default">DOMElement </span><span class="keyword">{<br />
<br />
&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">DOMDocument $doc</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$doc</span><span class="keyword">-&gt;</span><span class="default">appendChild</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">);&nbsp; </span><span class="comment">//extDOMElement::ownerDocument is now equal to the object that $doc points to<br />
&nbsp; </span><span class="keyword">}<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Now, I admit I've never actually needed to do this, but I see no reason why it shouldn't work.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62288""></a>
  <div class="note">
   <strong class="user">Sleepless</strong>
   <a href="#62288" class="date">23-Feb-2006 11:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Yet another way of providing support for read-only properties.&nbsp; Any property that has<br />
"pri_" as a prefix will NOT be returned, period, any other property will be returned <br />
and if it was declared to be "protected" or "private" it will be read-only. (scope dependent of course)<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">property_exists</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">,</span><span class="default">$var</span><span class="keyword">) &amp;&amp; (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$var</span><span class="keyword">,</span><span class="string">"pri_"</span><span class="keyword">) !== </span><span class="default">0</span><span class="keyword">) )<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;{</span><span class="default">$var</span><span class="keyword">};<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Do something<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="62195""></a>
  <div class="note">
   <strong class="user">Eric Lafkoff</strong>
   <a href="#62195" class="date">21-Feb-2006 10:56</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
If you're wondering how to create read-only properties for your class, the __get() and __set() functions are what you're looking for. You just have to create the framework and code to implement this functionality. <br />
<br />
Here's a quick example I've written. This code doesn't take advantage of the "type" attribute in the properties array, but is there for ideas.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Test </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$p_arrPublicProperties </span><span class="keyword">= array(<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"id" </span><span class="keyword">=&gt; array(</span><span class="string">"value" </span><span class="keyword">=&gt; </span><span class="default">4</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"type" </span><span class="keyword">=&gt; </span><span class="string">"int"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"readonly" </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"datetime" </span><span class="keyword">=&gt; array(</span><span class="string">"value" </span><span class="keyword">=&gt; </span><span class="string">"Tue 02/21/2006 20:49:23"</span><span class="keyword">,<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"type" </span><span class="keyword">=&gt; </span><span class="string">"string"</span><span class="keyword">, <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"readonly" </span><span class="keyword">=&gt; </span><span class="default">true</span><span class="keyword">),<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"data" </span><span class="keyword">=&gt; array(</span><span class="string">"value" </span><span class="keyword">=&gt; </span><span class="string">"foo"</span><span class="keyword">, <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"type" </span><span class="keyword">=&gt; </span><span class="string">"string"</span><span class="keyword">, <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="string">"readonly" </span><span class="keyword">=&gt; </span><span class="default">false</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; );<br />
<br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$strProperty</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Get a property:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p_arrPublicProperties</span><span class="keyword">[</span><span class="default">$strProperty</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p_arrPublicProperties</span><span class="keyword">[</span><span class="default">$strProperty</span><span class="keyword">][</span><span class="string">"value"</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">"Property not defined"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">__set</span><span class="keyword">(</span><span class="default">$strProperty</span><span class="keyword">, </span><span class="default">$varValue</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Set a property to a value:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p_arrPublicProperties</span><span class="keyword">[</span><span class="default">$strProperty</span><span class="keyword">])) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Check if property is read-only:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p_arrPublicProperties</span><span class="keyword">[</span><span class="default">$strProperty</span><span class="keyword">][</span><span class="string">"readonly"</span><span class="keyword">]) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">"Property is read-only"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p_arrPublicProperties</span><span class="keyword">[</span><span class="default">$strProperty</span><span class="keyword">][</span><span class="string">"value"</span><span class="keyword">] = </span><span class="default">$varValue</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; throw new </span><span class="default">Exception</span><span class="keyword">(</span><span class="string">"Property not defined"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">__isset</span><span class="keyword">(</span><span class="default">$strProperty</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Determine if property is set:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p_arrPublicProperties</span><span class="keyword">[</span><span class="default">$strProperty</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; private function </span><span class="default">__unset</span><span class="keyword">(</span><span class="default">$strProperty</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">//Unset (remove) a property:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">unset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">p_arrPublicProperties</span><span class="keyword">[</span><span class="default">$strProperty</span><span class="keyword">]);<br />
&nbsp;&nbsp;&nbsp; }&nbsp; &nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
}<br />
<br />
</span><span class="default">$objTest </span><span class="keyword">= new </span><span class="default">Test</span><span class="keyword">();<br />
<br />
print </span><span class="default">$objTest</span><span class="keyword">-&gt;</span><span class="default">data </span><span class="keyword">. </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">$objTest</span><span class="keyword">-&gt;</span><span class="default">data </span><span class="keyword">= </span><span class="string">"bar"</span><span class="keyword">; </span><span class="comment">//Works.<br />
</span><span class="keyword">print </span><span class="default">$objTest</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">;<br />
<br />
</span><span class="default">$objTest</span><span class="keyword">-&gt;</span><span class="default">id </span><span class="keyword">= </span><span class="default">5</span><span class="keyword">; </span><span class="comment">//Error: Property is read-only.<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61748""></a>
  <div class="note">
   <strong class="user">derek-php at seysol dot com</strong>
   <a href="#61748" class="date">10-Feb-2006 12:08</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note that PHP5 currently doesn't support __call return-by-reference (see PHP Bug #30959).<br />
<br />
Example Code:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">test </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function &amp;</span><span class="default">__call</span><span class="keyword">(</span><span class="default">$method</span><span class="keyword">, </span><span class="default">$params</span><span class="keyword">) {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Return a reference to var2<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'var2'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function &amp;</span><span class="default">actual</span><span class="keyword">() {<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// Return a reference to var1<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'var1'</span><span class="keyword">];<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">test</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'var1'</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'var2'</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ref1 </span><span class="keyword">=&amp; </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">actual</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'var1'</span><span class="keyword">]++;<br />
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Actual function returns: </span><span class="default">$ref1</span><span class="string"> which should be equal to " </span><span class="keyword">. </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'var1'</span><span class="keyword">] . </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$ref2 </span><span class="keyword">=&amp; </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">overloaded</span><span class="keyword">();<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'var2'</span><span class="keyword">]++;<br />
<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"Overloaded function returns: </span><span class="default">$ref2</span><span class="string"> which should be equal to " </span><span class="keyword">. </span><span class="default">$GLOBALS</span><span class="keyword">[</span><span class="string">'var2'</span><span class="keyword">] . </span><span class="string">"&lt;br/&gt;\n"</span><span class="keyword">;<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="60009""></a>
  <div class="note">
   <strong class="user">PHP at jyopp dotKomm</strong>
   <a href="#60009" class="date">22-Dec-2005 11:01</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Here's a useful class for logging function calls.&nbsp; It stores a sequence of calls and arguments which can then be applied to objects later.&nbsp; This can be used to script common sequences of operations, or to make "pluggable" operation sequences in header files that can be replayed on objects later.<br />
<br />
If it is instantiated with an object to shadow, it behaves as a mediator and executes the calls on this object as they come in, passing back the values from the execution.<br />
<br />
This is a very general implementation; it should be changed if error codes or exceptions need to be handled during the Replay process.<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">MethodCallLog </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$callLog </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$object</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$object </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">object </span><span class="keyword">= </span><span class="default">$object</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$m</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">callLog</span><span class="keyword">[] = array(</span><span class="default">$m</span><span class="keyword">, </span><span class="default">$a</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">object</span><span class="keyword">) return </span><span class="default">call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">object</span><span class="keyword">,</span><span class="default">$m</span><span class="keyword">),</span><span class="default">$a</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">Replay</span><span class="keyword">(&amp;</span><span class="default">$object</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">callLog </span><span class="keyword">as </span><span class="default">$c</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$object</span><span class="keyword">,</span><span class="default">$c</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]), </span><span class="default">$c</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">GetEntries</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rVal </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; foreach (</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">callLog </span><span class="keyword">as </span><span class="default">$c</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$rVal</span><span class="keyword">[] = </span><span class="string">"</span><span class="default">$c</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">]</span><span class="string">("</span><span class="keyword">.</span><span class="default">implode</span><span class="keyword">(</span><span class="string">', '</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">[</span><span class="default">1</span><span class="keyword">]).</span><span class="string">");"</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$rVal</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">Clear</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">callLog </span><span class="keyword">= array();<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$log </span><span class="keyword">= new </span><span class="default">MethodCallLog</span><span class="keyword">();<br />
</span><span class="default">$log</span><span class="keyword">-&gt;</span><span class="default">Method1</span><span class="keyword">();<br />
</span><span class="default">$log</span><span class="keyword">-&gt;</span><span class="default">Method2</span><span class="keyword">(</span><span class="string">"Value"</span><span class="keyword">);<br />
</span><span class="default">$log</span><span class="keyword">-&gt;</span><span class="default">Method1</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">, </span><span class="default">$c</span><span class="keyword">);<br />
</span><span class="comment">// Execute these method calls on a set of objects...<br />
</span><span class="keyword">foreach (</span><span class="default">$array </span><span class="keyword">as </span><span class="default">$o</span><span class="keyword">) </span><span class="default">$log</span><span class="keyword">-&gt;</span><span class="default">Replay</span><span class="keyword">(</span><span class="default">$o</span><span class="keyword">);<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="59349""></a>
  <div class="note">
   <strong class="user">trash80 at gmail dot com</strong>
   <a href="#59349" class="date">03-Dec-2005 08:59</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Problem: $a-&gt;b-&gt;c(); when b is not instantiated.<br />
Answer: __get()<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">a<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp; function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$v</span><span class="keyword">)<br />
&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$v </span><span class="keyword">= new </span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">$v</span><span class="keyword">;<br />
&nbsp;&nbsp; }<br />
}<br />
<br />
class </span><span class="default">b<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">say</span><span class="keyword">(</span><span class="default">$word</span><span class="keyword">){<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="default">$word</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
</span><span class="default">$a </span><span class="keyword">= new </span><span class="default">a</span><span class="keyword">();<br />
</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">b</span><span class="keyword">-&gt;</span><span class="default">say</span><span class="keyword">(</span><span class="string">'hello world'</span><span class="keyword">);<br />
<br />
</span><span class="comment">// echos 'hello world'<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58431""></a>
  <div class="note">
   <strong class="user">TJ &lt;php at tjworld dot net&gt;</strong>
   <a href="#58431" class="date">03-Nov-2005 10:11</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Using the getter/setter methods to provide read-only access to object properties breaks the conventional understanding of inheritence.<br />
<br />
A super class using __set() to make a property read-only cannot be properly inherited because the visible (read-only) property - with conventional public or protected visibility - cannot be set in the sub-class.<br />
<br />
The sub-class cannot overload the super class's __set() method either, and therefore the inheritence is severely compromised.<br />
<br />
I discovered this issue while extending DOMDocument and particularly DOMElement.<br />
When extDOMDocument-&gt;createElement() creates a new extDOMElement, extDOMElement-&gt;__construct() can't set the extDOMElement-&gt;ownerDocument property because it's read-only.<br />
<br />
DOMElements are totally read-only if they do not have an ownerDocument, and there's no way to set it in this scenario, which makes inheritence pretty pointless.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="58364""></a>
  <div class="note">
   <strong class="user">seufert at gmail dot com</strong>
   <a href="#58364" class="date">01-Nov-2005 04:25</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
This allows you to seeminly dynamically overload objects using plugins.<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">standardModule</span><span class="keyword">{}<br />
<br />
class </span><span class="default">standardPlugModule </span><span class="keyword">extends </span><span class="default">standardModule<br />
</span><span class="keyword">{<br />
&nbsp; static </span><span class="default">$plugptrs</span><span class="keyword">;<br />
&nbsp; public </span><span class="default">$var</span><span class="keyword">;<br />
&nbsp; static function </span><span class="default">plugAdd</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$mode</span><span class="keyword">, </span><span class="default">$ptr</span><span class="keyword">)<br />
&nbsp; {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">standardPlugModule</span><span class="keyword">::</span><span class="default">$plugptrs</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">] = </span><span class="default">$ptr</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$fname</span><span class="keyword">, </span><span class="default">$fargs</span><span class="keyword">)<br />
&nbsp; { print </span><span class="string">"You called __call(</span><span class="default">$fname</span><span class="string">)\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$func </span><span class="keyword">= </span><span class="default">standardPlugModule</span><span class="keyword">::</span><span class="default">$plugptrs</span><span class="keyword">[</span><span class="default">$fname</span><span class="keyword">];<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$r </span><span class="keyword">= </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$func</span><span class="keyword">, </span><span class="default">array_merge</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">),</span><span class="default">$fargs</span><span class="keyword">));<br />
&nbsp;&nbsp;&nbsp; print </span><span class="string">"Done: __call(</span><span class="default">$fname</span><span class="string">)\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; return </span><span class="default">$r</span><span class="keyword">;<br />
&nbsp; }<br />
&nbsp; function </span><span class="default">dumpplugptrs</span><span class="keyword">() {</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">standardPlugModule</span><span class="keyword">::</span><span class="default">$plugptrs</span><span class="keyword">); }<br />
}<br />
<br />
class </span><span class="default">a </span><span class="keyword">extends </span><span class="default">standardPlugModule<br />
</span><span class="keyword">{ function </span><span class="default">text</span><span class="keyword">() { return </span><span class="string">"Text"</span><span class="keyword">; } }<br />
</span><span class="comment">//Class P contained within a seperate file thats included<br />
</span><span class="keyword">class </span><span class="default">p<br />
</span><span class="keyword">{ static function </span><span class="default">plugin1</span><span class="keyword">(</span><span class="default">$mthis</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">)<br />
&nbsp; { print </span><span class="string">"You called p::plugin1\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$mthis</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$r</span><span class="keyword">);<br />
&nbsp; }<br />
} </span><span class="default">a</span><span class="keyword">::</span><span class="default">plugAdd</span><span class="keyword">(</span><span class="string">'callme'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, array(</span><span class="string">'p'</span><span class="keyword">,</span><span class="string">'plugin1'</span><span class="keyword">));<br />
<br />
</span><span class="comment">//Class P contained within a seperate file thats included<br />
</span><span class="keyword">class </span><span class="default">p2<br />
</span><span class="keyword">{ static function </span><span class="default">plugin2</span><span class="keyword">(</span><span class="default">$mthis</span><span class="keyword">, </span><span class="default">$r</span><span class="keyword">)<br />
&nbsp; { print </span><span class="string">"You called p2::plugin2\n"</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$mthis</span><span class="keyword">-&gt;</span><span class="default">callme</span><span class="keyword">(</span><span class="default">$r</span><span class="keyword">);<br />
&nbsp; }<br />
} </span><span class="default">a</span><span class="keyword">::</span><span class="default">plugAdd</span><span class="keyword">(</span><span class="string">'callme2'</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, array(</span><span class="string">'p2'</span><span class="keyword">,</span><span class="string">'plugin2'</span><span class="keyword">));<br />
<br />
</span><span class="default">$t </span><span class="keyword">= new </span><span class="default">a</span><span class="keyword">();<br />
</span><span class="default">$testr </span><span class="keyword">= array(</span><span class="default">1</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">,</span><span class="default">9</span><span class="keyword">,</span><span class="default">16</span><span class="keyword">);<br />
print </span><span class="default">$t</span><span class="keyword">-&gt;</span><span class="default">text</span><span class="keyword">().</span><span class="string">"\n"</span><span class="keyword">;<br />
</span><span class="default">$t</span><span class="keyword">-&gt;</span><span class="default">callme2</span><span class="keyword">(</span><span class="default">$testr</span><span class="keyword">);<br />
</span><span class="comment">//$t-&gt;dumpplugptrs();<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Will result in:<br />
----------<br />
Text<br />
You called __call(callme2)<br />
You called p2::plugin2<br />
You called __call(callme)<br />
You called p::plugin1<br />
a Object<br />
(<br />
&nbsp;&nbsp;&nbsp; [var] =&gt; <br />
)<br />
Array<br />
(<br />
&nbsp;&nbsp;&nbsp; [0] =&gt; 1<br />
&nbsp;&nbsp;&nbsp; [1] =&gt; 4<br />
&nbsp;&nbsp;&nbsp; [2] =&gt; 9<br />
&nbsp;&nbsp;&nbsp; [3] =&gt; 16<br />
)<br />
Done: __call(callme)<br />
Done: __call(callme2)<br />
----------<br />
<br />
This also clears up a fact that you can nest __call() functions, you could use this to get around the limits to __get() not being able to be called recursively.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="56193""></a>
  <div class="note">
   
   <a href="#56193" class="date">26-Aug-2005 07:32</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
To those who wish for "real" overloading: there's not really any advantage to using __call() for this -- it's easy enough with func_get_args(). For example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">class </span><span class="default">Test<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; public function </span><span class="default">Blah</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$args </span><span class="keyword">= </span><span class="default">func_get_args</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; switch (</span><span class="default">count</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">1</span><span class="keyword">: </span><span class="comment">/* do something */ </span><span class="keyword">break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="default">2</span><span class="keyword">: </span><span class="comment">/* do something */ </span><span class="keyword">break;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="55486""></a>
  <div class="note">
   <strong class="user">NOTE: getter cannot call getter</strong>
   <a href="#55486" class="date">04-Aug-2005 12:37</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
By Design (<a href="http://bugs.php.net/bug.php?id=33998" rel="nofollow" target="_blank">http://bugs.php.net/bug.php?id=33998</a>) you cannot call a getter from a getter or any function triggered by a getter:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">test<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; protected </span><span class="default">$_a </span><span class="keyword">= </span><span class="default">6</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__get</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">$key </span><span class="keyword">== </span><span class="string">'stuff'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">stuff</span><span class="keyword">();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; } else if(</span><span class="default">$key </span><span class="keyword">== </span><span class="string">'a'</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_a</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">stuff</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return array(</span><span class="string">'random' </span><span class="keyword">=&gt; </span><span class="string">'key'</span><span class="keyword">, </span><span class="string">'using_getter' </span><span class="keyword">=&gt; </span><span class="default">10 </span><span class="keyword">* </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">a</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$test </span><span class="keyword">= new </span><span class="default">test</span><span class="keyword">();<br />
print </span><span class="string">'this should be 60: '</span><span class="keyword">.</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">stuff</span><span class="keyword">[</span><span class="string">'using_getter'</span><span class="keyword">].</span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// prints "this should be 60: 0"<br />
// [[ Undefined property:&nbsp; test::$a ]] on /var/www/html/test.php logged.<br />
</span><span class="keyword">print </span><span class="string">'this should be 6: '</span><span class="keyword">.</span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">a</span><span class="keyword">.</span><span class="string">'&lt;br/&gt;'</span><span class="keyword">;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="comment">// prints "this should be 6: 6"<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52581""></a>
  <div class="note">
   
   <a href="#52581" class="date">06-May-2005 03:50</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please note that PHP5's overloading behaviour is not compatible at all with PHP4's overloading behaviour.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="52453""></a>
  <div class="note">
   <strong class="user">Marius</strong>
   <a href="#52453" class="date">02-May-2005 02:15</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
for anyone who's thinking about traversing some variable tree<br />
by using __get() and __set(). i tried to do this and found one<br />
problem: you can handle couple of __get() in a row by returning<br />
an object which can handle consequential __get(), but you can't<br />
handle __get() and __set() that way.<br />
i.e. if you want to:<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">print(</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">val1</span><span class="keyword">-&gt;</span><span class="default">val2</span><span class="keyword">-&gt;</span><span class="default">val3</span><span class="keyword">); </span><span class="comment">// three __get() calls<br />
</span><span class="default">?&gt;</span> - this will work,<br />
but if you want to:<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $obj</span><span class="keyword">-&gt;</span><span class="default">val1</span><span class="keyword">-&gt;</span><span class="default">val2 </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">; </span><span class="comment">// one __get() and one __set() call<br />
</span><span class="default">?&gt;</span> - this will fail with message:<br />
"Fatal error: Cannot access undefined property for object with<br />
&nbsp;overloaded property access"<br />
however if you don't mix __get() and __set() in one expression,<br />
it will work:<br />
<span class="default">&lt;?php<br />
&nbsp;&nbsp;&nbsp; $obj</span><span class="keyword">-&gt;</span><span class="default">val1 </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">; </span><span class="comment">// only one __set() call<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val2 </span><span class="keyword">= </span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">val1</span><span class="keyword">-&gt;</span><span class="default">val2</span><span class="keyword">; </span><span class="comment">// two __get() calls<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$val2</span><span class="keyword">-&gt;</span><span class="default">val3 </span><span class="keyword">= </span><span class="default">$val</span><span class="keyword">; </span><span class="comment">// one __set() call<br />
</span><span class="default">?&gt;<br />
</span><br />
as you can see you can split __get() and __set() parts of<br />
expression into two expressions to make it work.<br />
<br />
by the way, this seems like a bug to me, will have to report it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="51175""></a>
  <div class="note">
   <strong class="user">ryo at shadowlair dot info</strong>
   <a href="#51175" class="date">22-Mar-2005 10:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Keep in mind that when your class has a __call() function, it will be used when PHP calls some other magic functions. This can lead to unexpected errors:<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">class </span><span class="default">TestClass </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$someVar</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// handle the overloaded functions we know...<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // [...]<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; // raise an error if the function is unknown, just like PHP would<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">sprintf</span><span class="keyword">(</span><span class="string">'Call to undefined function: %s::%s().'</span><span class="keyword">, </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">), </span><span class="default">$name</span><span class="keyword">), </span><span class="default">E_USER_ERROR</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">TestClass</span><span class="keyword">();<br />
</span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">someVar </span><span class="keyword">= </span><span class="string">'some value'</span><span class="keyword">;<br />
<br />
echo </span><span class="default">$obj</span><span class="keyword">; </span><span class="comment">//Fatal error: Call to undefined function: TestClass::__tostring().<br />
</span><span class="default">$serializedObj </span><span class="keyword">= </span><span class="default">serialize</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">); </span><span class="comment">// Fatal error: Call to undefined function: TestClass::__sleep().<br />
</span><span class="default">$unserializedObj </span><span class="keyword">= </span><span class="default">unserialize</span><span class="keyword">(</span><span class="default">$someSerializedTestClassObject</span><span class="keyword">); </span><span class="comment">// Fatal error: Call to undefined function: TestClass::__wakeup().<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="50119""></a>
  <div class="note">
   <strong class="user">thisisroot at gmail dot com</strong>
   <a href="#50119" class="date">18-Feb-2005 07:27</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You can't mix offsetSet() of the ArrayAccess interface (<a href="http://www.php.net/~helly/php/ext/spl/interfaceArrayAccess.html" rel="nofollow" target="_blank">http://www.php.net/~helly/php/ext/spl/interfaceArrayAccess.html</a>) and __get() in the same line.<br />
<br />
Below, "FileManagerPrefs" is an object of class UserData which implements ArrayAccess. There's a protected array of UserData objects in the User class, which are returned from __get().<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// This produces an error...<br />
</span><span class="default">Application</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">()-&gt;</span><span class="default">user</span><span class="keyword">-&gt;</span><span class="default">FileManagerPrefs</span><span class="keyword">[ </span><span class="string">'base'</span><span class="keyword">] = </span><span class="string">'uploads/jack'</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Creates this error:<br />
Fatal error: Cannot access undefined property for object with overloaded property access in __FILE__ on line __LINE__<br />
<br />
However, __get() and offsetGet() play deceptively well together.<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// This works fine!<br />
</span><span class="keyword">echo </span><span class="default">Application</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">()-&gt;</span><span class="default">user</span><span class="keyword">-&gt;</span><span class="default">FileManager</span><span class="keyword">[</span><span class="string">'base'</span><span class="keyword">];<br />
</span><span class="default">?&gt;<br />
</span><br />
I guess it's a dereferencing issue with __get(). In my case, it makes more sense to have a middle step (user-&gt;data['FileManager']['base']), but I wanted to tip off the community before I move on.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="48440""></a>
  <div class="note">
   <strong class="user">mileskeaton at gmail dot com</strong>
   <a href="#48440" class="date">23-Dec-2004 12:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">## THE PROBLEM:&nbsp; Class with lots of attributes.&nbsp; <br />
## You want to use $o-&gt;getVarName() or $o-&gt;get_varname() style getters<br />
## Some attributes have custom get functions, but the rest don't<br />
<br />
## THE SOLUTION:&nbsp; __call<br />
<br />
</span><span class="keyword">class </span><span class="default">Person<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">## this top stuff is just an example.&nbsp; could be anything.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">private </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$age</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$weight</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$age</span><span class="keyword">, </span><span class="default">$weight</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="default">$name</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">age </span><span class="keyword">= </span><span class="default">$age</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">weight </span><span class="keyword">= </span><span class="default">$weight</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">##&nbsp; &nbsp;&nbsp; PORTABLE: use this __call function in any class<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># see if they're calling a getter method - and try to guess the variable requested<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">) == </span><span class="string">'get_'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$varname </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; elseif(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">) == </span><span class="string">'get'</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$varname </span><span class="keyword">= </span><span class="default">substr</span><span class="keyword">(</span><span class="default">$val</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; die(</span><span class="string">"method </span><span class="default">$val</span><span class="string"> does not exist\n"</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment"># now see if that variable exists:<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">foreach(</span><span class="default">$this </span><span class="keyword">as </span><span class="default">$class_var</span><span class="keyword">=&gt;</span><span class="default">$class_var_value</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; if(</span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$class_var</span><span class="keyword">) == </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$varname</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$class_var_value</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">false</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment"># IMPORTANT: you can keep some things private - or treat<br />
&nbsp;&nbsp;&nbsp; # some vars differently by giving them their own getter method<br />
&nbsp;&nbsp;&nbsp; # See how this function lies about Person's weight.<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">function </span><span class="default">getWeight</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">intval</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">weight </span><span class="keyword">* </span><span class="default">.8</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">$a </span><span class="keyword">= new </span><span class="default">Person</span><span class="keyword">(</span><span class="string">'Miles'</span><span class="keyword">, </span><span class="default">35</span><span class="keyword">, </span><span class="default">200</span><span class="keyword">);<br />
<br />
</span><span class="comment"># these all work (case-insensitive):<br />
</span><span class="keyword">print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">get_name</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;<br />
print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">getName</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;<br />
print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">get_Name</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;<br />
print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">getname</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">get_age</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;<br />
print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">getAge</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;<br />
print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">getage</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;<br />
print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">get_Age</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment"># defined functions still override the __call<br />
</span><span class="keyword">print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">getWeight</span><span class="keyword">() . </span><span class="string">"\n"</span><span class="keyword">;<br />
<br />
</span><span class="comment"># trying to get something that doesn't exist returns false<br />
</span><span class="keyword">print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">getNothing</span><span class="keyword">();<br />
<br />
</span><span class="comment"># this still gets error:<br />
</span><span class="keyword">print </span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">hotdog</span><span class="keyword">();<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="47720""></a>
  <div class="note">
   <strong class="user">richard dot quadling at bandvulc dot co dot uk</strong>
   <a href="#47720" class="date">26-Nov-2004 05:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">abstract class </span><span class="default">BubbleMethod<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$objOwner</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$sMethod</span><span class="keyword">, </span><span class="default">$aParams</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
</span><span class="comment">// Has the Owner been assigned?<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">if (isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">objOwner</span><span class="keyword">))<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(array(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">objOwner</span><span class="keyword">, </span><span class="default">$sMethod</span><span class="keyword">), </span><span class="default">$aParams</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; else<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; echo </span><span class="string">'Owner for ' </span><span class="keyword">. </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">) . </span><span class="string">' not assigned.'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
class </span><span class="default">A_WebPageContainer<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$sName</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$sName</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sName </span><span class="keyword">= </span><span class="default">$sName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">GetWebPageContainerName</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
class </span><span class="default">A_WebFrame </span><span class="keyword">extends </span><span class="default">BubbleMethod<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$sName</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$sName</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sName </span><span class="keyword">= </span><span class="default">$sName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">GetWebFrameName</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
class </span><span class="default">A_WebDocument </span><span class="keyword">extends </span><span class="default">BubbleMethod<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$sName</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$sName</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sName </span><span class="keyword">= </span><span class="default">$sName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">GetWebDocumentName</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
class </span><span class="default">A_WebForm </span><span class="keyword">extends </span><span class="default">BubbleMethod<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$sName</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$sName</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sName </span><span class="keyword">= </span><span class="default">$sName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">GetWebFormName</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
class </span><span class="default">A_WebFormElement </span><span class="keyword">extends </span><span class="default">BubbleMethod<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$sName</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$sName</span><span class="keyword">)<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sName </span><span class="keyword">= </span><span class="default">$sName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">GetWebFormElementName</span><span class="keyword">()<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sName</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
</span><span class="default">$objWPC </span><span class="keyword">= new </span><span class="default">A_WebPageContainer</span><span class="keyword">(</span><span class="string">'The outer web page container.'</span><span class="keyword">);<br />
<br />
</span><span class="default">$objWF1 </span><span class="keyword">= new </span><span class="default">A_WebFrame</span><span class="keyword">(</span><span class="string">'Frame 1'</span><span class="keyword">);<br />
</span><span class="default">$objWF1</span><span class="keyword">-&gt;</span><span class="default">objOwner </span><span class="keyword">= </span><span class="default">$objWPC</span><span class="keyword">;<br />
<br />
</span><span class="default">$objWF2 </span><span class="keyword">= new </span><span class="default">A_WebFrame</span><span class="keyword">(</span><span class="string">'Frame 2'</span><span class="keyword">);<br />
</span><span class="default">$objWF2</span><span class="keyword">-&gt;</span><span class="default">objOwner </span><span class="keyword">= </span><span class="default">$objWPC</span><span class="keyword">;<br />
<br />
</span><span class="default">$objWD1 </span><span class="keyword">= new </span><span class="default">A_WebDocument</span><span class="keyword">(</span><span class="string">'Doc 1'</span><span class="keyword">);<br />
</span><span class="default">$objWD1</span><span class="keyword">-&gt;</span><span class="default">objOwner </span><span class="keyword">= </span><span class="default">$objWF1</span><span class="keyword">;<br />
<br />
</span><span class="default">$objWD2 </span><span class="keyword">= new </span><span class="default">A_WebDocument</span><span class="keyword">(</span><span class="string">'Doc 2'</span><span class="keyword">);<br />
</span><span class="default">$objWD2</span><span class="keyword">-&gt;</span><span class="default">objOwner </span><span class="keyword">= </span><span class="default">$objWF2</span><span class="keyword">;<br />
<br />
</span><span class="default">$objWFrm1 </span><span class="keyword">= new </span><span class="default">A_WebForm</span><span class="keyword">(</span><span class="string">'Form 1'</span><span class="keyword">);<br />
</span><span class="default">$objWFrm1</span><span class="keyword">-&gt;</span><span class="default">objOwner </span><span class="keyword">= </span><span class="default">$objWD1</span><span class="keyword">;<br />
<br />
</span><span class="default">$objWFrm2 </span><span class="keyword">= new </span><span class="default">A_WebForm</span><span class="keyword">(</span><span class="string">'Form 2'</span><span class="keyword">);<br />
</span><span class="default">$objWFrm2</span><span class="keyword">-&gt;</span><span class="default">objOwner </span><span class="keyword">= </span><span class="default">$objWD2</span><span class="keyword">;<br />
<br />
</span><span class="default">$objWE1 </span><span class="keyword">= new </span><span class="default">A_WebFormElement</span><span class="keyword">(</span><span class="string">'Element 1'</span><span class="keyword">);<br />
</span><span class="default">$objWE1</span><span class="keyword">-&gt;</span><span class="default">objOwner </span><span class="keyword">= </span><span class="default">$objWFrm1</span><span class="keyword">;<br />
<br />
</span><span class="default">$objWE2 </span><span class="keyword">= new </span><span class="default">A_WebFormElement</span><span class="keyword">(</span><span class="string">'Element 2'</span><span class="keyword">);<br />
</span><span class="default">$objWE2</span><span class="keyword">-&gt;</span><span class="default">objOwner </span><span class="keyword">= </span><span class="default">$objWFrm1</span><span class="keyword">;<br />
<br />
</span><span class="default">$objWE3 </span><span class="keyword">= new </span><span class="default">A_WebFormElement</span><span class="keyword">(</span><span class="string">'Element 3'</span><span class="keyword">);<br />
</span><span class="default">$objWE3</span><span class="keyword">-&gt;</span><span class="default">objOwner </span><span class="keyword">= </span><span class="default">$objWFrm2</span><span class="keyword">;<br />
<br />
</span><span class="default">$objWE4 </span><span class="keyword">= new </span><span class="default">A_WebFormElement</span><span class="keyword">(</span><span class="string">'Element 4'</span><span class="keyword">);<br />
</span><span class="default">$objWE4</span><span class="keyword">-&gt;</span><span class="default">objOwner </span><span class="keyword">= </span><span class="default">$objWFrm2</span><span class="keyword">;<br />
<br />
echo </span><span class="string">"The name of the form that '" </span><span class="keyword">. </span><span class="default">$objWE1</span><span class="keyword">-&gt;</span><span class="default">GetWebFormElementName</span><span class="keyword">() . </span><span class="string">"' is in is '" </span><span class="keyword">. </span><span class="default">$objWE1</span><span class="keyword">-&gt;</span><span class="default">GetWebFormName</span><span class="keyword">() . </span><span class="string">"'&lt;br /&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"The name of the document that '" </span><span class="keyword">. </span><span class="default">$objWE2</span><span class="keyword">-&gt;</span><span class="default">GetWebFormElementName</span><span class="keyword">() . </span><span class="string">"' is in is '" </span><span class="keyword">. </span><span class="default">$objWE2</span><span class="keyword">-&gt;</span><span class="default">GetWebDocumentName</span><span class="keyword">(). </span><span class="string">"'&lt;br /&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"The name of the frame that '" </span><span class="keyword">. </span><span class="default">$objWE3</span><span class="keyword">-&gt;</span><span class="default">GetWebFormElementName</span><span class="keyword">() . </span><span class="string">"' is in is '" </span><span class="keyword">. </span><span class="default">$objWE3</span><span class="keyword">-&gt;</span><span class="default">GetWebFrameName</span><span class="keyword">(). </span><span class="string">"'&lt;br /&gt;"</span><span class="keyword">;<br />
echo </span><span class="string">"The name of the page container that '" </span><span class="keyword">. </span><span class="default">$objWE4</span><span class="keyword">-&gt;</span><span class="default">GetWebFormElementName</span><span class="keyword">() . </span><span class="string">"' is in is '" </span><span class="keyword">.</span><span class="default">$objWE4</span><span class="keyword">-&gt;</span><span class="default">GetWebPageContainerName</span><span class="keyword">(). </span><span class="string">"'&lt;br /&gt;"</span><span class="keyword">;<br />
</span><span class="default">?&gt;<br />
</span><br />
Results in.<br />
<br />
The name of the form that 'Element 1' is in is 'Form 1'<br />
The name of the document that 'Element 2' is in is 'Doc 1'<br />
The name of the frame that 'Element 3' is in is 'Frame 2'<br />
The name of the page container that 'Element 4' is in is 'The outer web page container.'<br />
<br />
By using the abstract BubbleMethod class as the starting point for further classes that are contained inside others (i.e. elements on a form are contained in forms, which are contained in documents which are contained in frames which are contained in a super wonder global container), you can find properties of owner without knowing their direct name.<br />
<br />
Some work needs to be done on what to do if no method exists though.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46307""></a>
  <div class="note">
   <strong class="user">xorith at gmail dot com</strong>
   <a href="#46307" class="date">06-Oct-2004 07:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
A few things I've found about __get()...<br />
<br />
First off, if you use $obj-&gt;getOne-&gt;getAnother, both intended to be resolved by __get, the __get() function only sees the first one at first. You can't access the second one. You can, however, return the pointer to an object that can handle the second one. In short, you can have the same class handle both by returning a new object with the data changed however you see fit.<br />
<br />
Secondly, when using arrays like: $obj-&gt;getArray["one"], only the array name is passed on to __get. However, when you return the array, PHP treats it just as it should. THat is, you'd have to make an array with the index of "one" in __get in order to see any results. You can also have other indexes in there as well.<br />
<br />
Also, for those of you like me, I've already tried to use func_get_args to see if you can get more than just that one.<br />
<br />
If you're like me and were hoping you could pass some sort of argument onto __get in order to help gather the correct data, you're out of look. I do recommend using __call though. You could easily rig __call up to react to certain things, like: $account-&gt;properties( "type" );, which is my example. I'm using DOM for data storage (for now), and I'm trying to make an interface that'll let me easily switch to something else - MySQL, flat file, anything. This would work great though!<br />
<br />
Hope I've been helpful and I hope I didn't restate something already stated.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="46004""></a>
  <div class="note">
   <strong class="user">anthony at ectrolinux dot com</strong>
   <a href="#46004" class="date">25-Sep-2004 06:40</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For anyone who is interested in overloading a class method based on the number of arguments, here is a simplified example of how it can be accomplished:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">function </span><span class="default">Error</span><span class="keyword">(</span><span class="default">$message</span><span class="keyword">) { </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="default">$message</span><span class="keyword">, </span><span class="default">E_USER_ERROR</span><span class="keyword">); exit(</span><span class="default">1</span><span class="keyword">); } <br />
<br />
class </span><span class="default">Framework<br />
</span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// Pseudo function overloading<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$func_name</span><span class="keyword">, </span><span class="default">$argv</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$argc </span><span class="keyword">= </span><span class="default">sizeof</span><span class="keyword">(</span><span class="default">$argv</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; switch (</span><span class="default">$func_name</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; case </span><span class="string">'is_available'</span><span class="keyword">:<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$func_name </span><span class="keyword">= (</span><span class="default">$argc </span><span class="keyword">== </span><span class="default">2</span><span class="keyword">) ? </span><span class="string">'is_available_single' </span><span class="keyword">: </span><span class="string">'is_available_multi'</span><span class="keyword">;<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; break;<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; default: </span><span class="comment">// If no applicable function was found, generate the default PHP error message.<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">Error</span><span class="keyword">(</span><span class="string">'Call to undefined function Framework::'</span><span class="keyword">. </span><span class="default">$func_name </span><span class="keyword">.</span><span class="string">'().'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; return </span><span class="default">call_user_func_array</span><span class="keyword">(array(&amp;</span><span class="default">$this</span><span class="keyword">, </span><span class="default">$func_name</span><span class="keyword">), </span><span class="default">$argv</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">// protected array is_available_multi($mod_name, $mod_addon_0 [, $mod_addon_1 [, ...]])<br />
&nbsp;&nbsp;&nbsp; </span><span class="keyword">protected function </span><span class="default">is_available_multi</span><span class="keyword">()<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; if ((</span><span class="default">$argc </span><span class="keyword">= </span><span class="default">func_num_args</span><span class="keyword">()) &lt; </span><span class="default">2</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">Error</span><span class="keyword">(</span><span class="string">'A minimum of two arguments are required for Framework::is_available().'</span><span class="keyword">);<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$available_addons </span><span class="keyword">= array();<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// --snip--<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">$available_addons</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; protected function </span><span class="default">is_available_single</span><span class="keyword">(</span><span class="default">$mod_name</span><span class="keyword">, </span><span class="default">$mod_addon</span><span class="keyword">)<br />
&nbsp;&nbsp;&nbsp; {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="comment">// --snip--<br />
<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="keyword">return </span><span class="default">true</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$fw </span><span class="keyword">= new </span><span class="default">Framework</span><span class="keyword">;<br />
<br />
</span><span class="default">$test_one </span><span class="keyword">= </span><span class="default">$fw</span><span class="keyword">-&gt;</span><span class="default">is_available</span><span class="keyword">(</span><span class="string">'A_Module_Name'</span><span class="keyword">, </span><span class="string">'An_Addon'</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$test_one</span><span class="keyword">); <br />
</span><span class="comment">// Test one produces a boolean value, supposedly representing whether 'An_Addon' is available and can be used.<br />
<br />
</span><span class="default">$test_two </span><span class="keyword">= </span><span class="default">$fw</span><span class="keyword">-&gt;</span><span class="default">is_available</span><span class="keyword">(</span><span class="string">'A_Module_Name'</span><span class="keyword">, </span><span class="string">'Addon_0'</span><span class="keyword">, </span><span class="string">'Addon_1'</span><span class="keyword">, </span><span class="string">'Addon_2'</span><span class="keyword">);<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$test_two</span><span class="keyword">); <br />
</span><span class="comment">// Test two produces an array, supposedly listing any of the three 'Addon_N' modules that are available and can be used.<br />
<br />
// Here are the actual results of the above:<br />
//&nbsp; &nbsp; bool(true)<br />
//&nbsp; &nbsp; array(0) {<br />
//&nbsp; &nbsp; }<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
---<br />
<br />
By adding additional case statements to Framework::__call(), methods can easily be overloaded as needed. It's also possible to add any other overloading criteria you require inside the switch statement, allowing for more intricate overloading functionality.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="45905""></a>
  <div class="note">
   <strong class="user">DevilDude at darkmaker dot com</strong>
   <a href="#45905" class="date">22-Sep-2004 07:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Php 5 has a simple recursion system that stops you from using overloading within an overloading function, this means you cannot get an overloaded variable within the __get method, or within any functions/methods called by the _get method, you can however call __get manualy within itself to do the same thing.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="language.oop5.traits.html">Traits</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="language.oop5.iterations.html">Object Iteration</a></div>
 <div class="up"><a href="language.oop5.html">Classes and Objects</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
