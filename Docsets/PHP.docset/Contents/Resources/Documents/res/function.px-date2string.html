<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Converts a date into a string.</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.px-create-fp.html">px_create_fp</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.px-delete-record.html">px_delete_record</a></div>
 <div class="up"><a href="ref.paradox.html">Paradox Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="function.px-date2string" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">px_date2string</h1>
  <p class="verinfo">(PECL paradox &gt;= 1.4.0)</p><p class="refpurpose"><span class="refname">px_date2string</span> &mdash; <span class="dc-title">
   Converts a date into a string.
  </span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.px-date2string-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname"><b>px_date2string</b></span>
    ( <span class="methodparam"><span class="type">resource</span> <tt class="parameter">$pxdoc</tt></span>
   , <span class="methodparam"><span class="type">int</span> <tt class="parameter">$value</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter">$format</tt></span>
   )</div>


  <p class="para rdfs-comment">
   Turns a date as it stored in the paradox file into human readable
   format. Paradox dates are the number of days since 1.1.0000.
   This function is just for convenience. It can be easily replaced by some
   math and the calendar functions as demonstrated in the example below.
  </p>

 </div>

 <div class="refsect1 parameters" id="refsect1-function.px-date2string-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    <dt>

     <span class="term"><i><tt class="parameter">pxdoc</tt></i></span>
     <dd>

      <p class="para">
       Resource identifier of the paradox database
       as returned by <span class="function"><a href="function.px-new.html" class="function">px_new()</a></span>.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">value</tt></i></span>
     <dd>

      <p class="para">
       Value as stored in paradox database field of type
       PX_FIELD_DATE.
      </p>
     </dd>

    </dt>

    <dt>

     <span class="term"><i><tt class="parameter">format</tt></i></span>
     <dd>

      <p class="para">
        String format similar to the format used by <span class="function"><a href="function.date.html" class="function">date()</a></span>.
        The placeholders support by this function is a subset of those
        supported by <span class="function"><a href="function.date.html" class="function">date()</a></span> (Y, y, m, n, d, j, L).
      </p>
     </dd>

    </dt>

   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.px-date2string-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <b><tt>TRUE</tt></b> on success or <b><tt>FALSE</tt></b> on failure.
  </p>
 </div>


 


 


 <div class="refsect1 examples" id="refsect1-function.px-date2string-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-1921">
    <p><b>Example #1 Turn a paradox date into a human readable form</b></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$px&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">px_new</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">/*&nbsp;make&nbsp;up&nbsp;a&nbsp;date&nbsp;as&nbsp;it&nbsp;could&nbsp;be&nbsp;stored&nbsp;in&nbsp;*/<br />/*&nbsp;a&nbsp;date&nbsp;field&nbsp;of&nbsp;a&nbsp;paradox&nbsp;db.&nbsp;*/<br />/*&nbsp;700000&nbsp;days&nbsp;since&nbsp;1.1.0000.&nbsp;*/<br /></span><span style="color: #0000BB">$days&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">700000</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/*&nbsp;Use&nbsp;the&nbsp;calendar&nbsp;functions&nbsp;to&nbsp;print&nbsp;a&nbsp;*/<br />/*&nbsp;human&nbsp;readable&nbsp;format&nbsp;of&nbsp;the&nbsp;date&nbsp;*/<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">jdtogregorian</span><span style="color: #007700">(</span><span style="color: #0000BB">$days</span><span style="color: #007700">+</span><span style="color: #0000BB">1721425</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">/*&nbsp;px_date2string()&nbsp;outputs&nbsp;the&nbsp;same&nbsp;*/<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">px_date2string</span><span style="color: #007700">(</span><span style="color: #0000BB">$px</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$days</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"n/d/Y"</span><span style="color: #007700">).</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">px_delete</span><span style="color: #007700">(</span><span style="color: #0000BB">$px</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>The above example will output:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
7/15/1917
7/15/1917
</pre></div>
    </div>
   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.px-date2string-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="function.px-timestamp2string.html" class="function" rel="rdfs-seeAlso">px_timestamp2string()</a> - Converts the timestamp into a string.</span></li>
    <li class="member"><span class="function"><a href="function.jdtogregorian.html" class="function" rel="rdfs-seeAlso">jdtogregorian()</a> - Converts Julian Day Count to Gregorian date</span></li>
   </ul>
  </p>
 </div>



</div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="101509""></a>
  <div class="note">
   <strong class="user">john dot navratil at sbcglobal dot net</strong>
   <a href="#101509" class="date">21-Dec-2010 09:52</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Date fields are retrieved as the number of days since 0 A.D. (I think), but not as anything resembling a date.&nbsp; If you are exporting this data, you must used this function to convert.&nbsp; Read the schema first to determine which fields are date fields...<br />
<br />
<span class="default">&lt;?php<br />
$schema </span><span class="keyword">= </span><span class="default">$pxdoc</span><span class="keyword">-&gt;</span><span class="default">get_schema</span><span class="keyword">();<br />
<br />
</span><span class="default">$dateFields </span><span class="keyword">= array();<br />
foreach (</span><span class="default">$schema </span><span class="keyword">as </span><span class="default">$key </span><span class="keyword">=&gt; </span><span class="default">$attrs</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; if (</span><span class="default">$attrs</span><span class="keyword">[</span><span class="string">"type"</span><span class="keyword">] ==&nbsp; </span><span class="default">PX_FIELD_DATE</span><span class="keyword">)&nbsp; &nbsp; </span><span class="comment">// Collect list of "date" columns<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$dateFields</span><span class="keyword">[] = </span><span class="default">$key</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
An export to a CSV format, for example, could them be written...<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="keyword">for (</span><span class="default">$rec </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$rec </span><span class="keyword">&lt; </span><span class="default">$totRecs</span><span class="keyword">; ++</span><span class="default">$rec</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">$arr </span><span class="keyword">= </span><span class="default">$pxdoc</span><span class="keyword">-&gt;</span><span class="default">get_record</span><span class="keyword">(</span><span class="default">$rec</span><span class="keyword">);<br />
<br />
&nbsp;&nbsp;&nbsp; foreach (</span><span class="default">$dateFields </span><span class="keyword">as </span><span class="default">$key</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">] = </span><span class="default">$pxdoc</span><span class="keyword">-&gt;</span><span class="default">date2string</span><span class="keyword">(</span><span class="default">$arr</span><span class="keyword">[</span><span class="default">$key</span><span class="keyword">], </span><span class="string">"m/d/Y"</span><span class="keyword">);<br />
&nbsp;&nbsp;&nbsp; }<br />
<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">fputcsv</span><span class="keyword">(</span><span class="default">STDOUT</span><span class="keyword">, </span><span class="default">$arr</span><span class="keyword">);&nbsp; </span><span class="comment">// STDOUT only available with CLI<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="function.px-create-fp.html">px_create_fp</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="function.px-delete-record.html">px_delete_record</a></div>
 <div class="up"><a href="ref.paradox.html">Paradox Functions</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
