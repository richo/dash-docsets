<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>The ReflectionProperty class</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="reflectionparameter.tostring.html">ReflectionParameter::__toString</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="reflectionproperty.clone.html">ReflectionProperty::__clone</a></div>
 <div class="up"><a href="book.reflection.html">Reflection</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="class.reflectionproperty" class="reference">

 <h1 class="title">The ReflectionProperty class</h1>
 

 <div class="partintro"><p class="verinfo">(PHP 5)</p>


  <div class="section" id="reflectionproperty.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    The <b class="classname">ReflectionProperty</b> class reports
    information about classes properties.
   </p>
  </div>


  <div class="section" id="reflectionproperty.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
      <b class="classname">ReflectionProperty</b>
     </span>
     
     <span class="oointerface">implements 
      <span class="interfacename"><a href="class.reflector.html" class="interfacename">Reflector</a></span>
     </span>
     {</div>

    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constants */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.reflectionproperty.html#reflectionproperty.constants.is-static"><var class="varname">IS_STATIC</var></a></var>
     <span class="initializer"> = 1</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.reflectionproperty.html#reflectionproperty.constants.is-public"><var class="varname">IS_PUBLIC</var></a></var>
     <span class="initializer"> = 256</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.reflectionproperty.html#reflectionproperty.constants.is-protected"><var class="varname">IS_PROTECTED</var></a></var>
     <span class="initializer"> = 512</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">integer</span>
      <var class="fieldsynopsis_varname"><a href="class.reflectionproperty.html#reflectionproperty.constants.is-private"><var class="varname">IS_PRIVATE</var></a></var>
     <span class="initializer"> = 1024</span>
    ;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Properties */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
      <var class="varname"><a href="class.reflectionproperty.html#reflectionproperty.props.name">$<var class="varname">name</var></a></var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
      <var class="varname"><a href="class.reflectionproperty.html#reflectionproperty.props.class">$<var class="varname">class</var></a></var>
    ;</div>


    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">final</span> <span class="modifier">private</span> <span class="type">void</span> <span class="methodname"><a href="reflectionproperty.clone.html" class="methodname">__clone</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
    <span class="methodname"><a href="reflectionproperty.construct.html" class="methodname">__construct</a></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$class</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter">$name</tt></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">string</span> <span class="methodname"><a href="reflectionproperty.export.html" class="methodname">export</a></span>
    ( <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$class</tt></span>
   , <span class="methodparam"><span class="type">string</span> <tt class="parameter">$name</tt></span>
   [, <span class="methodparam"><span class="type">bool</span> <tt class="parameter">$return</tt></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">ReflectionClass</span> <span class="methodname"><a href="reflectionproperty.getdeclaringclass.html" class="methodname">getDeclaringClass</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="reflectionproperty.getdoccomment.html" class="methodname">getDocComment</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname"><a href="reflectionproperty.getmodifiers.html" class="methodname">getModifiers</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="reflectionproperty.getname.html" class="methodname">getName</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">mixed</span> <span class="methodname"><a href="reflectionproperty.getvalue.html" class="methodname">getValue</a></span>
    ( <span class="methodparam"><span class="type">object</span> <tt class="parameter">$object</tt></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="reflectionproperty.isdefault.html" class="methodname">isDefault</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="reflectionproperty.isprivate.html" class="methodname">isPrivate</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="reflectionproperty.isprotected.html" class="methodname">isProtected</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="reflectionproperty.ispublic.html" class="methodname">isPublic</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><a href="reflectionproperty.isstatic.html" class="methodname">isStatic</a></span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="reflectionproperty.setaccessible.html" class="methodname">setAccessible</a></span>
    ( <span class="methodparam"><span class="type">bool</span> <tt class="parameter">$accessible</tt></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">void</span> <span class="methodname"><a href="reflectionproperty.setvalue.html" class="methodname">setValue</a></span>
    ( <span class="methodparam"><span class="type">object</span> <tt class="parameter">$object</tt></span>
   , <span class="methodparam"><span class="type"><a href="language.pseudo-types.html#language.types.mixed" class="type mixed">mixed</a></span> <tt class="parameter">$value</tt></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><a href="reflectionproperty.tostring.html" class="methodname">__toString</a></span>
    ( <span class="methodparam">void</span>
   )</div>

   }</div>


  </div>

  

  <div class="section" id="reflectionproperty.props">
   <h2 class="title">Properties</h2>
   <dl>

    <dt id="reflectionproperty.props.name">
     <span class="term"><var class="varname"><var class="varname">name</var></var></span>
     <dd>

      <p class="para">
       Name of the property. Read-only, throws
       <a href="class.reflectionexception.html" class="classname">ReflectionException</a> in attempt to write.
      </p>
     </dd>

    </dt>

    <dt id="reflectionproperty.props.class">
     <span class="term"><var class="varname"><var class="varname">class</var></var></span>
     <dd>

      <p class="para">
       Name of the class where the property is defined. Read-only, throws
       <a href="class.reflectionexception.html" class="classname">ReflectionException</a> in attempt to write.
      </p>
     </dd>

    </dt>

   </dl>

  </div>


  

  <div class="section" id="reflectionproperty.constants">
   <h2 class="title">Predefined Constants</h2>
   <div class="section" id="reflectionproperty.constants.modifiers">
    <h2 class="title">ReflectionProperty Modifiers</h2>
    <dl>


     <dt id="reflectionproperty.constants.is-static">
      <span class="term"><b><tt>ReflectionProperty::IS_STATIC</tt></b></span>
      <dd>

       <p class="para">
        Indicates <a href="language.oop5.static.html" class="link">static</a>
        properties.
       </p>
      </dd>

     </dt>


     <dt id="reflectionproperty.constants.is-public">
      <span class="term"><b><tt>ReflectionProperty::IS_PUBLIC</tt></b></span>
      <dd>

       <p class="para">
        Indicates <a href="language.oop5.visibility.html" class="link">public</a>
        properties.
       </p>
      </dd>

     </dt>


     <dt id="reflectionproperty.constants.is-protected">
      <span class="term"><b><tt>ReflectionProperty::IS_PROTECTED</tt></b></span>
      <dd>

       <p class="para">
        Indicates <a href="language.oop5.visibility.html" class="link">protected</a>
        properties.
       </p>
      </dd>

     </dt>


     <dt id="reflectionproperty.constants.is-private">
      <span class="term"><b><tt>ReflectionProperty::IS_PRIVATE</tt></b></span>
      <dd>

       <p class="para">
        Indicates <a href="language.oop5.visibility.html" class="link">private</a>
        properties.
       </p>
      </dd>

     </dt>


    </dl>

   </div>
  </div>



 </div>

 

















































































































<h2>Table of Contents</h2><ul class="chunklist chunklist_reference"><li><a href="reflectionproperty.clone.html">ReflectionProperty::__clone</a> â€” Clone</li><li><a href="reflectionproperty.construct.html">ReflectionProperty::__construct</a> â€” Construct a ReflectionProperty object</li><li><a href="reflectionproperty.export.html">ReflectionProperty::export</a> â€” Export</li><li><a href="reflectionproperty.getdeclaringclass.html">ReflectionProperty::getDeclaringClass</a> â€” Gets declaring class</li><li><a href="reflectionproperty.getdoccomment.html">ReflectionProperty::getDocComment</a> â€” Gets doc comment</li><li><a href="reflectionproperty.getmodifiers.html">ReflectionProperty::getModifiers</a> â€” Gets modifiers</li><li><a href="reflectionproperty.getname.html">ReflectionProperty::getName</a> â€” Gets property name</li><li><a href="reflectionproperty.getvalue.html">ReflectionProperty::getValue</a> â€” Gets value</li><li><a href="reflectionproperty.isdefault.html">ReflectionProperty::isDefault</a> â€” Checks if default value</li><li><a href="reflectionproperty.isprivate.html">ReflectionProperty::isPrivate</a> â€” Checks if property is private</li><li><a href="reflectionproperty.isprotected.html">ReflectionProperty::isProtected</a> â€” Checks if property is protected</li><li><a href="reflectionproperty.ispublic.html">ReflectionProperty::isPublic</a> â€” Checks if property is public</li><li><a href="reflectionproperty.isstatic.html">ReflectionProperty::isStatic</a> â€” Checks if property is static</li><li><a href="reflectionproperty.setaccessible.html">ReflectionProperty::setAccessible</a> â€” Set property accessibility</li><li><a href="reflectionproperty.setvalue.html">ReflectionProperty::setValue</a> â€” Set property value</li><li><a href="reflectionproperty.tostring.html">ReflectionProperty::__toString</a> â€” To string</li></ul>
</div>
<div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="99663""></a>
  <div class="note">
   <strong class="user">james at digitaledgeit dot com dot au</strong>
   <a href="#99663" class="date">29-Aug-2010 08:30</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Please ignore my previous note. I didn't fully understand what the previous notes were referring to as "runtime". I now see they were referring to a slightly different question.<br />
<br />
Apologies!</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99661""></a>
  <div class="note">
   <strong class="user">james at digitaledgeit dot com dot au</strong>
   <a href="#99661" class="date">29-Aug-2010 08:22</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
You CAN reflect an object at runtime:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">Abc </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; private </span><span class="default">$_abc </span><span class="keyword">= </span><span class="default">123</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; public function </span><span class="default">__construct</span><span class="keyword">(</span><span class="default">$abc</span><span class="keyword">) {<br />
&nbsp;&nbsp; &nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">_abc </span><span class="keyword">= </span><span class="default">$abc</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; <br />
}<br />
&nbsp;<br />
</span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">Abc</span><span class="keyword">(</span><span class="string">'def'</span><span class="keyword">);<br />
<br />
</span><span class="default">$refl </span><span class="keyword">= new \</span><span class="default">ReflectionObject</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">);<br />
</span><span class="default">$prop </span><span class="keyword">= </span><span class="default">$refl</span><span class="keyword">-&gt;</span><span class="default">getProperty</span><span class="keyword">(</span><span class="string">'_abc'</span><span class="keyword">);<br />
</span><span class="default">$prop</span><span class="keyword">-&gt;</span><span class="default">setAccessible</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br />
echo </span><span class="default">$prop</span><span class="keyword">-&gt;</span><span class="default">getValue</span><span class="keyword">(</span><span class="default">$obj</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
This outputs 'def', the value of _abc set at runtime.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="99147""></a>
  <div class="note">
   <strong class="user">rasmus at mindplay dot dk</strong>
   <a href="#99147" class="date">30-Jul-2010 05:06</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
I think a more accurate explanation is this:<br />
<br />
The Reflection classes are designed to reflect upon the source code of an application, not on any runtime information.<br />
<br />
I think you misunderstand the ReflectionProperty constructor in your example above. The fact that it accepts an object as argument is just a convenience feature - you are actually inspecting the class of that object, not the object itself, so it's basically equivalent to:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="comment">// works fine <br />
</span><span class="default">$Reflection </span><span class="keyword">= new </span><span class="default">ReflectionProperty</span><span class="keyword">(</span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">), </span><span class="string">'a'</span><span class="keyword">);<br />
<br />
</span><span class="comment">// throws exception <br />
</span><span class="default">$Reflection </span><span class="keyword">= new </span><span class="default">ReflectionProperty</span><span class="keyword">(</span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">), </span><span class="string">'foo'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;<br />
</span><br />
Getting the class of the object you're passing in is implied, since inspecting a defined property is the purpose of this class.<br />
<br />
In your example, $a-&gt;foo is a dynamic member - it is not defined as a member of class, so there is no defining class reference, line number, default value, etc. - which means, there is nothing to reflect upon.<br />
<br />
Clearly this very useful library could use some real documentation...</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="61658""></a>
  <div class="note">
   <strong class="user">CodeDuck at gmx dot net</strong>
   <a href="#61658" class="date">08-Feb-2006 08:07</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Beware, the Reflection reflects only the information right after compile time based on the definitions, not based on runtime objects. Might be obvious, wasn't for me, until the app throws the exception at my head.<br />
<br />
Example:<br />
<br />
<span class="default">&lt;?php<br />
<br />
</span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br />
&nbsp;&nbsp;&nbsp; public </span><span class="default">$a </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br />
<br />
&nbsp;&nbsp;&nbsp; function </span><span class="default">set</span><span class="keyword">() {<br />
&nbsp;&nbsp; &nbsp;&nbsp; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">foo </span><span class="keyword">= </span><span class="string">'bar'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; }<br />
}<br />
<br />
</span><span class="default">$a </span><span class="keyword">= new </span><span class="default">A</span><span class="keyword">;<br />
</span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">set</span><span class="keyword">();<br />
<br />
</span><span class="comment">// works fine<br />
</span><span class="default">$Reflection </span><span class="keyword">= new </span><span class="default">ReflectionProperty</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="string">'a'</span><span class="keyword">);<br />
<br />
</span><span class="comment">// throws exception<br />
</span><span class="default">$Reflection </span><span class="keyword">= new </span><span class="default">ReflectionProperty</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="string">'foo'</span><span class="keyword">);<br />
<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="reflectionparameter.tostring.html">ReflectionParameter::__toString</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="reflectionproperty.clone.html">ReflectionProperty::__clone</a></div>
 <div class="up"><a href="book.reflection.html">Reflection</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
