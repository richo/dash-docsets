<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Validate filters</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link media="all" rel="stylesheet" type="text/css" href="style.css"/>
 </head>
 <body class="docs"><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="filter.filters.html">Types of filters</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="filter.filters.sanitize.html">Sanitize filters</a></div>
 <div class="up"><a href="filter.filters.html">Types of filters</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div><hr /><div id="filter.filters.validate" class="section">
  <h2 class="title">Validate filters</h2>
   <p class="para">
    <table class="doctable table">
     <caption><b>Listing of filters for validation</b></caption>
     
      <thead valign="middle">
       <tr valign="middle">
        <th>ID</th>
        <th>Name</th>
        <th>Options</th>
        <th>Flags</th>
        <th>Description</th>
       </tr>

      </thead>

      <tbody valign="middle" class="tbody">
       <tr valign="middle">
        <td align="left"><b><tt>FILTER_VALIDATE_BOOLEAN</tt></b></td>
        <td align="left">&quot;boolean&quot;</td>
        <td class="empty">&nbsp;</td>
        <td align="left">
          <b><tt>FILTER_NULL_ON_FAILURE</tt></b>
        </td>
        <td align="left">
         <p class="para">
          Returns <b><tt>TRUE</tt></b> for &quot;1&quot;, &quot;true&quot;, &quot;on&quot; and &quot;yes&quot;.
          Returns <b><tt>FALSE</tt></b> otherwise.
         </p>
         <p class="para">
          If <b><tt>FILTER_NULL_ON_FAILURE</tt></b> is set, <b><tt>FALSE</tt></b> is
          returned only for &quot;0&quot;, &quot;false&quot;, &quot;off&quot;, &quot;no&quot;, and &quot;&quot;, and
          <b><tt>NULL</tt></b> is returned for all non-boolean values.
         </p>
        </td>
       </tr>

       <tr valign="middle">
        <td align="left"><b><tt>FILTER_VALIDATE_EMAIL</tt></b></td>
        <td align="left">&quot;validate_email&quot;</td>
        <td class="empty">&nbsp;</td>
        <td class="empty">&nbsp;</td>
        <td align="left">Validates value as e-mail.</td>
       </tr>

       <tr valign="middle">
        <td align="left"><b><tt>FILTER_VALIDATE_FLOAT</tt></b></td>
        <td align="left">&quot;float&quot;</td>
        <td align="left">
         <i><tt class="parameter">decimal</tt></i>
        </td>
        <td align="left">
         <b><tt>FILTER_FLAG_ALLOW_THOUSAND</tt></b>
        </td>
        <td align="left">Validates value as float.</td>
       </tr>

       <tr valign="middle">
        <td align="left"><b><tt>FILTER_VALIDATE_INT</tt></b></td>
        <td align="left">&quot;int&quot;</td>
        <td align="left">
         <i><tt class="parameter">min_range</tt></i>,
         <i><tt class="parameter">max_range</tt></i>
        </td>
        <td align="left">
         <b><tt>FILTER_FLAG_ALLOW_OCTAL</tt></b>,
         <b><tt>FILTER_FLAG_ALLOW_HEX</tt></b>
        </td>
        <td align="left">Validates value as integer, optionally from the specified range.</td>
       </tr>

       <tr valign="middle">
        <td align="left"><b><tt>FILTER_VALIDATE_IP</tt></b></td>
        <td align="left">&quot;validate_ip&quot;</td>
        <td class="empty">&nbsp;</td>
        <td align="left">
         <b><tt>FILTER_FLAG_IPV4</tt></b>,
         <b><tt>FILTER_FLAG_IPV6</tt></b>,
         <b><tt>FILTER_FLAG_NO_PRIV_RANGE</tt></b>,
         <b><tt>FILTER_FLAG_NO_RES_RANGE</tt></b>
        </td>
        <td align="left">
         Validates value as IP address, optionally only IPv4 or IPv6 or not
         from private or reserved ranges.
        </td>
       </tr>

       <tr valign="middle">
        <td align="left"><b><tt>FILTER_VALIDATE_REGEXP</tt></b></td>
        <td align="left">&quot;validate_regexp&quot;</td>
        <td align="left">
         <i><tt class="parameter">regexp</tt></i>
        </td>
        <td class="empty">&nbsp;</td>
        <td align="left">
         Validates value against <i><tt class="parameter">regexp</tt></i>, a
         <a href="book.pcre.html" class="link">Perl-compatible</a> regular expression.
        </td>
       </tr>

       <tr valign="middle">
        <td align="left"><b><tt>FILTER_VALIDATE_URL</tt></b></td>
        <td align="left">&quot;validate_url&quot;</td>
        <td class="empty">&nbsp;</td>
        <td align="left">
         <b><tt>FILTER_FLAG_PATH_REQUIRED</tt></b>,
         <b><tt>FILTER_FLAG_QUERY_REQUIRED</tt></b>
        </td>
        <td align="left">Validates value as URL (according to <a href="http://www.faqs.org/rfcs/rfc2396" class="link external" title="Link : http://www.faqs.org/rfcs/rfc2396">&raquo;&nbsp;http://www.faqs.org/rfcs/rfc2396</a>), optionally with required components. Note that the function will only find ASCII URLs to be valid; internationalized domain names (containing non-ASCII characters) will fail.</td>
       </tr>

      </tbody>
     
    </table>

   </p>
   <blockquote class="note"><p><b class="note">Note</b>: 
    <p class="para">
     Numbers +0 and -0 are not valid integers but validate as floats.
    </p>
   </p></blockquote>
 </div><div id="usernotes">
 <div class="head">
  <h3 class="title">User Contributed Notes</h3>
 </div>
<div id="allnotes">  <a name="106307""></a>
  <div class="note">
   <strong class="user">Levi Morrison</strong>
   <a href="#106307" class="date">26-Oct-2011 12:10</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
It's important to note that in PHP, false==null is true.&nbsp; This means when you are using the FILTER_VALIDATE_BOOLEAN, you must use '===' and '!==' to check to see if something is/isn't null.<br />
<br />
<span class="default">&lt;?php<br />
$false </span><span class="keyword">= </span><span class="default">filter_var</span><span class="keyword">(</span><span class="string">'0'</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_BOOLEAN</span><span class="keyword">, </span><span class="default">FILTER_NULL_ON_FAILURE</span><span class="keyword">);<br />
<br />
if (</span><span class="default">$false</span><span class="keyword">==</span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//will execute<br />
</span><span class="keyword">}<br />
<br />
if (</span><span class="default">$false</span><span class="keyword">===</span><span class="default">null</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; </span><span class="comment">//will not execute<br />
</span><span class="keyword">}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="105619""></a>
  <div class="note">
   <strong class="user">Griff</strong>
   <a href="#105619" class="date">01-Sep-2011 04:28</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
&lt;&lt; FILTER_VALIDATE_EMAIL allows incomplete e-mail addresses to be validated, for examle john@gmail will validate as a proper e-mail address &gt;&gt;<br />
<br />
"Plain" hostnames with no dots are valid in email addresses - <br />
for example, "me@localhost".</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="103334""></a>
  <div class="note">
   <strong class="user">php at sethsyberg dot com</strong>
   <a href="#103334" class="date">07-Apr-2011 01:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
When validating floats, you must use the Identical/Not identical operators for proper validation of zeros:<br />
<br />
This will not work as expected:<br />
<span class="default">&lt;?php<br />
$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
if (!</span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_FLOAT</span><span class="keyword">)) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$x</span><span class="string"> is a valid float"</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$x</span><span class="string"> is NOT a valid float"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
This will work as expected:<br />
<span class="default">&lt;?php<br />
$x </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br />
if (</span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">$x</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_FLOAT</span><span class="keyword">)!== </span><span class="default">false</span><span class="keyword">) {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$x</span><span class="string"> is a valid float"</span><span class="keyword">;<br />
} else {<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="string">"</span><span class="default">$x</span><span class="string"> is NOT a valid float"</span><span class="keyword">;<br />
}<br />
</span><span class="default">?&gt;</span>
</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102937""></a>
  <div class="note">
   <strong class="user">chastell at chastell dot net</strong>
   <a href="#102937" class="date">15-Mar-2011 07:54</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
example@example is a perfectly valid email address ‰ÛÒ I use chastell@localhost and chastell@devielle (my computer‰Ûªs name) email addresses all the time and they get delivered just fine.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102529""></a>
  <div class="note">
   <strong class="user">eleljrk at gmail dot com</strong>
   <a href="#102529" class="date">19-Feb-2011 07:23</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
For PHP 5.3.1 FILTER_VALIDATE_EMAIL does validate incomplete email addresses such as: example@example<br />
<br />
Otherwise it's really good because FILTER_VALIDATE_EMAIL validates the standards of the local part very well.<br />
<br />
This is a valid email address:<br />
"this is a valid email@[]{}and it should be"@example.com<br />
And FILTER_VALIDATE_EMAIL validate it.<br />
<br />
But this isn't a valid email address:<br />
"this is a valid email@[]{}and it should be"@example<br />
However, FILTER_VALIDATE_EMAIL does validate it.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="102398""></a>
  <div class="note">
   <strong class="user">php dot net at piskvor dot org</strong>
   <a href="#102398" class="date">11-Feb-2011 08:57</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
FILTER_VALIDATE_EMAIL is discarding valid e-mail addresses containing IDN. Since there are real, live IDNs on the Internet, that means the filtered output is too strict, leading to false negatives.<br />
<br />
Punycode-encoded IDN addresses pass the filter correctly; so before checking for validity, it is necessary to convert the e-mail address to punycode.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101693""></a>
  <div class="note">
   <strong class="user">Clifton</strong>
   <a href="#101693" class="date">05-Jan-2011 08:00</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
FILTER_VALIDATE_EMAIL does NOT allow incomplete e-mail addresses to be validated as mentioned by Tomas.<br />
<br />
Using the following code:<br />
<br />
<span class="default">&lt;?php<br />
$email </span><span class="keyword">= </span><span class="string">"clifton@example"</span><span class="keyword">; </span><span class="comment">//Note the .com missing<br />
</span><span class="keyword">echo </span><span class="string">"PHP Version: "</span><span class="keyword">.</span><span class="default">phpversion</span><span class="keyword">().</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
if(</span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_EMAIL</span><span class="keyword">)){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$email</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_EMAIL</span><span class="keyword">));<br />
}else{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_EMAIL</span><span class="keyword">));&nbsp; &nbsp; <br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Returns:<br />
PHP Version: 5.2.14 //On MY server, may be different depending on which version you have installed.<br />
bool(false)<br />
<br />
While the following code:<br />
<br />
<span class="default">&lt;?php<br />
$email </span><span class="keyword">= </span><span class="string">"clifton@example.com"</span><span class="keyword">; </span><span class="comment">//Note the .com added<br />
</span><span class="keyword">echo </span><span class="string">"PHP Version: "</span><span class="keyword">.</span><span class="default">phpversion</span><span class="keyword">().</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
if(</span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_EMAIL</span><span class="keyword">)){<br />
&nbsp;&nbsp;&nbsp; echo </span><span class="default">$email</span><span class="keyword">.</span><span class="string">'&lt;br&gt;'</span><span class="keyword">;<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_EMAIL</span><span class="keyword">));<br />
}else{<br />
&nbsp;&nbsp;&nbsp; </span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">$email</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_EMAIL</span><span class="keyword">));&nbsp; &nbsp; <br />
}<br />
</span><span class="default">?&gt;<br />
</span><br />
Returns:<br />
PHP Version: 5.2.14 //On MY server, may be different depending on which version you have installed.<br />
clifton@example.com<br />
string(16) "clifton@example.com"<br />
<br />
This feature is only available for PHP Versions (PHP 5 &gt;= 5.2.0) according to documentation. So make sure your version is correct.<br />
<br />
Cheers,<br />
Clifton</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="101468""></a>
  <div class="note">
   <strong class="user">tomas dot chlouba at gmail dot com</strong>
   <a href="#101468" class="date">18-Dec-2010 08:42</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
FILTER_VALIDATE_EMAIL allows incomplete e-mail addresses to be validated, for examle john@gmail will validate as a proper e-mail address.</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
  <a name="96890""></a>
  <div class="note">
   <strong class="user">pravila at alumni dot calpoly dot edu</strong>
   <a href="#96890" class="date">21-Mar-2010 08:53</a>
   <div class="text">
    <div class="phpcode">
<code><span class="html">
Take caution when using the FILTER_VALIDATE_BOOLEAN filter as it seems to have different behaviors when used in the filter_var() vs. the filter_input() functions.<br />
<br />
To demonstrate, let's parse some arguments from a GET request (notice how arg2 is NOT set):<br />
<br />
example.com/script.php?arg1=yes&amp;arg3=no<br />
<br />
<span class="default">&lt;?php<br />
</span><span class="comment">// filtering by variable<br />
</span><span class="default">$var1 </span><span class="keyword">= </span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"arg1"</span><span class="keyword">], </span><span class="default">FILTER_VALIDATE_BOOLEAN</span><span class="keyword">);<br />
</span><span class="default">$var2 </span><span class="keyword">= </span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"arg2"</span><span class="keyword">], </span><span class="default">FILTER_VALIDATE_BOOLEAN</span><span class="keyword">);<br />
</span><span class="default">$var3 </span><span class="keyword">= </span><span class="default">filter_var</span><span class="keyword">(</span><span class="default">$_GET</span><span class="keyword">[</span><span class="string">"arg3"</span><span class="keyword">], </span><span class="default">FILTER_VALIDATE_BOOLEAN</span><span class="keyword">);<br />
<br />
</span><span class="comment">// filtering by input<br />
</span><span class="default">$input1 </span><span class="keyword">= </span><span class="default">filter_input</span><span class="keyword">(</span><span class="default">INPUT_GET</span><span class="keyword">, </span><span class="string">"arg1"</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_BOOLEAN</span><span class="keyword">);<br />
</span><span class="default">$input2 </span><span class="keyword">= </span><span class="default">filter_input</span><span class="keyword">(</span><span class="default">INPUT_GET</span><span class="keyword">, </span><span class="string">"arg2"</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_BOOLEAN</span><span class="keyword">);<br />
</span><span class="default">$input3 </span><span class="keyword">= </span><span class="default">filter_input</span><span class="keyword">(</span><span class="default">INPUT_GET</span><span class="keyword">, </span><span class="string">"arg3"</span><span class="keyword">, </span><span class="default">FILTER_VALIDATE_BOOLEAN</span><span class="keyword">);<br />
<br />
</span><span class="comment">// as expected...<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$var1</span><span class="keyword">);&nbsp; &nbsp; &nbsp; </span><span class="comment">// bool(true)<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$var2</span><span class="keyword">);&nbsp; &nbsp; &nbsp; </span><span class="comment">// bool(false)<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$var3</span><span class="keyword">);&nbsp; &nbsp; &nbsp; </span><span class="comment">// bool(false)<br />
<br />
// NULL is not an expected return...<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$input1</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// bool(true)<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$input2</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// NULL<br />
</span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$input3</span><span class="keyword">);&nbsp; &nbsp; </span><span class="comment">// bool(false)<br />
</span><span class="default">?&gt;<br />
</span><br />
As per the documentation, the return is limited to true XOR false unless the FILTER_NULL_ON_FAILURE flag is set, but it seems as if this flag is set automatically with the filter_input() function.<br />
<br />
(Note: same behavior for filter_var_array() vs. filter_input_array())</span>
</code>
    </div>
   </div>
  </div>
 <div class="foot"></div>
</div>
</div>
<hr /><div class="manualnavbar" style="text-align: center;">
 <div class="prev" style="text-align: left; float: left;"><a href="filter.filters.html">Types of filters</a></div>
 <div class="next" style="text-align: right; float: right;"><a href="filter.filters.sanitize.html">Sanitize filters</a></div>
 <div class="up"><a href="filter.filters.html">Types of filters</a></div>
 <div class="home"><a href="index.html">PHP Manual</a></div>
</div></body></html>
